(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))c(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function l(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(u){if(u.ep)return;u.ep=!0;const f=l(u);fetch(u.href,f)}})();function $h(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Po={exports:{}},qr={},Ro={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm;function zh(){if(rm)return ke;rm=1;var r=Symbol.for("react.element"),a=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),y=Symbol.iterator;function A(N){return N===null||typeof N!="object"?null:(N=y&&N[y]||N["@@iterator"],typeof N=="function"?N:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,P={};function F(N,$,fe){this.props=N,this.context=$,this.refs=P,this.updater=fe||O}F.prototype.isReactComponent={},F.prototype.setState=function(N,$){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,$,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function R(){}R.prototype=F.prototype;function L(N,$,fe){this.props=N,this.context=$,this.refs=P,this.updater=fe||O}var S=L.prototype=new R;S.constructor=L,k(S,F.prototype),S.isPureReactComponent=!0;var H=Array.isArray,B=Object.prototype.hasOwnProperty,b={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function ye(N,$,fe){var se,Ee={},M=null,Le=null;if($!=null)for(se in $.ref!==void 0&&(Le=$.ref),$.key!==void 0&&(M=""+$.key),$)B.call($,se)&&!W.hasOwnProperty(se)&&(Ee[se]=$[se]);var Be=arguments.length-2;if(Be===1)Ee.children=fe;else if(1<Be){for(var Te=Array(Be),ie=0;ie<Be;ie++)Te[ie]=arguments[ie+2];Ee.children=Te}if(N&&N.defaultProps)for(se in Be=N.defaultProps,Be)Ee[se]===void 0&&(Ee[se]=Be[se]);return{$$typeof:r,type:N,key:M,ref:Le,props:Ee,_owner:b.current}}function ee(N,$){return{$$typeof:r,type:N.type,key:$,ref:N.ref,props:N.props,_owner:N._owner}}function ge(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function We(N){var $={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return $[fe]})}var De=/\/+/g;function _e(N,$){return typeof N=="object"&&N!==null&&N.key!=null?We(""+N.key):$.toString(36)}function V(N,$,fe,se,Ee){var M=typeof N;(M==="undefined"||M==="boolean")&&(N=null);var Le=!1;if(N===null)Le=!0;else switch(M){case"string":case"number":Le=!0;break;case"object":switch(N.$$typeof){case r:case a:Le=!0}}if(Le)return Le=N,Ee=Ee(Le),N=se===""?"."+_e(Le,0):se,H(Ee)?(fe="",N!=null&&(fe=N.replace(De,"$&/")+"/"),V(Ee,$,fe,"",function(ie){return ie})):Ee!=null&&(ge(Ee)&&(Ee=ee(Ee,fe+(!Ee.key||Le&&Le.key===Ee.key?"":(""+Ee.key).replace(De,"$&/")+"/")+N)),$.push(Ee)),1;if(Le=0,se=se===""?".":se+":",H(N))for(var Be=0;Be<N.length;Be++){M=N[Be];var Te=se+_e(M,Be);Le+=V(M,$,fe,Te,Ee)}else if(Te=A(N),typeof Te=="function")for(N=Te.call(N),Be=0;!(M=N.next()).done;)M=M.value,Te=se+_e(M,Be++),Le+=V(M,$,fe,Te,Ee);else if(M==="object")throw $=String(N),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Le}function Ae(N,$,fe){if(N==null)return N;var se=[],Ee=0;return V(N,se,"","",function(M){return $.call(fe,M,Ee++)}),se}function be(N){if(N._status===-1){var $=N._result;$=$(),$.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=$)}if(N._status===1)return N._result.default;throw N._result}var Se={current:null},G={transition:null},re={ReactCurrentDispatcher:Se,ReactCurrentBatchConfig:G,ReactCurrentOwner:b};function E(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ae,forEach:function(N,$,fe){Ae(N,function(){$.apply(this,arguments)},fe)},count:function(N){var $=0;return Ae(N,function(){$++}),$},toArray:function(N){return Ae(N,function($){return $})||[]},only:function(N){if(!ge(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},ke.Component=F,ke.Fragment=l,ke.Profiler=u,ke.PureComponent=L,ke.StrictMode=c,ke.Suspense=x,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=re,ke.act=E,ke.cloneElement=function(N,$,fe){if(N==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+N+".");var se=k({},N.props),Ee=N.key,M=N.ref,Le=N._owner;if($!=null){if($.ref!==void 0&&(M=$.ref,Le=b.current),$.key!==void 0&&(Ee=""+$.key),N.type&&N.type.defaultProps)var Be=N.type.defaultProps;for(Te in $)B.call($,Te)&&!W.hasOwnProperty(Te)&&(se[Te]=$[Te]===void 0&&Be!==void 0?Be[Te]:$[Te])}var Te=arguments.length-2;if(Te===1)se.children=fe;else if(1<Te){Be=Array(Te);for(var ie=0;ie<Te;ie++)Be[ie]=arguments[ie+2];se.children=Be}return{$$typeof:r,type:N.type,key:Ee,ref:M,props:se,_owner:Le}},ke.createContext=function(N){return N={$$typeof:m,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},N.Provider={$$typeof:f,_context:N},N.Consumer=N},ke.createElement=ye,ke.createFactory=function(N){var $=ye.bind(null,N);return $.type=N,$},ke.createRef=function(){return{current:null}},ke.forwardRef=function(N){return{$$typeof:p,render:N}},ke.isValidElement=ge,ke.lazy=function(N){return{$$typeof:j,_payload:{_status:-1,_result:N},_init:be}},ke.memo=function(N,$){return{$$typeof:v,type:N,compare:$===void 0?null:$}},ke.startTransition=function(N){var $=G.transition;G.transition={};try{N()}finally{G.transition=$}},ke.unstable_act=E,ke.useCallback=function(N,$){return Se.current.useCallback(N,$)},ke.useContext=function(N){return Se.current.useContext(N)},ke.useDebugValue=function(){},ke.useDeferredValue=function(N){return Se.current.useDeferredValue(N)},ke.useEffect=function(N,$){return Se.current.useEffect(N,$)},ke.useId=function(){return Se.current.useId()},ke.useImperativeHandle=function(N,$,fe){return Se.current.useImperativeHandle(N,$,fe)},ke.useInsertionEffect=function(N,$){return Se.current.useInsertionEffect(N,$)},ke.useLayoutEffect=function(N,$){return Se.current.useLayoutEffect(N,$)},ke.useMemo=function(N,$){return Se.current.useMemo(N,$)},ke.useReducer=function(N,$,fe){return Se.current.useReducer(N,$,fe)},ke.useRef=function(N){return Se.current.useRef(N)},ke.useState=function(N){return Se.current.useState(N)},ke.useSyncExternalStore=function(N,$,fe){return Se.current.useSyncExternalStore(N,$,fe)},ke.useTransition=function(){return Se.current.useTransition()},ke.version="18.3.1",ke}var am;function lc(){return am||(am=1,Ro.exports=zh()),Ro.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function Ih(){if(lm)return qr;lm=1;var r=lc(),a=Symbol.for("react.element"),l=Symbol.for("react.fragment"),c=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function m(p,x,v){var j,y={},A=null,O=null;v!==void 0&&(A=""+v),x.key!==void 0&&(A=""+x.key),x.ref!==void 0&&(O=x.ref);for(j in x)c.call(x,j)&&!f.hasOwnProperty(j)&&(y[j]=x[j]);if(p&&p.defaultProps)for(j in x=p.defaultProps,x)y[j]===void 0&&(y[j]=x[j]);return{$$typeof:a,type:p,key:A,ref:O,props:y,_owner:u.current}}return qr.Fragment=l,qr.jsx=m,qr.jsxs=m,qr}var im;function Uh(){return im||(im=1,Po.exports=Ih()),Po.exports}var t=Uh(),jl={},Do={exports:{}},Rt={},Lo={exports:{}},To={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var om;function Vh(){return om||(om=1,(function(r){function a(G,re){var E=G.length;G.push(re);e:for(;0<E;){var N=E-1>>>1,$=G[N];if(0<u($,re))G[N]=re,G[E]=$,E=N;else break e}}function l(G){return G.length===0?null:G[0]}function c(G){if(G.length===0)return null;var re=G[0],E=G.pop();if(E!==re){G[0]=E;e:for(var N=0,$=G.length,fe=$>>>1;N<fe;){var se=2*(N+1)-1,Ee=G[se],M=se+1,Le=G[M];if(0>u(Ee,E))M<$&&0>u(Le,Ee)?(G[N]=Le,G[M]=E,N=M):(G[N]=Ee,G[se]=E,N=se);else if(M<$&&0>u(Le,E))G[N]=Le,G[M]=E,N=M;else break e}}return re}function u(G,re){var E=G.sortIndex-re.sortIndex;return E!==0?E:G.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var m=Date,p=m.now();r.unstable_now=function(){return m.now()-p}}var x=[],v=[],j=1,y=null,A=3,O=!1,k=!1,P=!1,F=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var re=l(v);re!==null;){if(re.callback===null)c(v);else if(re.startTime<=G)c(v),re.sortIndex=re.expirationTime,a(x,re);else break;re=l(v)}}function H(G){if(P=!1,S(G),!k)if(l(x)!==null)k=!0,be(B);else{var re=l(v);re!==null&&Se(H,re.startTime-G)}}function B(G,re){k=!1,P&&(P=!1,R(ye),ye=-1),O=!0;var E=A;try{for(S(re),y=l(x);y!==null&&(!(y.expirationTime>re)||G&&!We());){var N=y.callback;if(typeof N=="function"){y.callback=null,A=y.priorityLevel;var $=N(y.expirationTime<=re);re=r.unstable_now(),typeof $=="function"?y.callback=$:y===l(x)&&c(x),S(re)}else c(x);y=l(x)}if(y!==null)var fe=!0;else{var se=l(v);se!==null&&Se(H,se.startTime-re),fe=!1}return fe}finally{y=null,A=E,O=!1}}var b=!1,W=null,ye=-1,ee=5,ge=-1;function We(){return!(r.unstable_now()-ge<ee)}function De(){if(W!==null){var G=r.unstable_now();ge=G;var re=!0;try{re=W(!0,G)}finally{re?_e():(b=!1,W=null)}}else b=!1}var _e;if(typeof L=="function")_e=function(){L(De)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Ae=V.port2;V.port1.onmessage=De,_e=function(){Ae.postMessage(null)}}else _e=function(){F(De,0)};function be(G){W=G,b||(b=!0,_e())}function Se(G,re){ye=F(function(){G(r.unstable_now())},re)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_continueExecution=function(){k||O||(k=!0,be(B))},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return A},r.unstable_getFirstCallbackNode=function(){return l(x)},r.unstable_next=function(G){switch(A){case 1:case 2:case 3:var re=3;break;default:re=A}var E=A;A=re;try{return G()}finally{A=E}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(G,re){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var E=A;A=G;try{return re()}finally{A=E}},r.unstable_scheduleCallback=function(G,re,E){var N=r.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?N+E:N):E=N,G){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=E+$,G={id:j++,callback:re,priorityLevel:G,startTime:E,expirationTime:$,sortIndex:-1},E>N?(G.sortIndex=E,a(v,G),l(x)===null&&G===l(v)&&(P?(R(ye),ye=-1):P=!0,Se(H,E-N))):(G.sortIndex=$,a(x,G),k||O||(k=!0,be(B))),G},r.unstable_shouldYield=We,r.unstable_wrapCallback=function(G){var re=A;return function(){var E=A;A=re;try{return G.apply(this,arguments)}finally{A=E}}}})(To)),To}var cm;function Hh(){return cm||(cm=1,Lo.exports=Vh()),Lo.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Wh(){if(um)return Rt;um=1;var r=lc(),a=Hh();function l(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=new Set,u={};function f(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(u[e]=n,e=0;e<n.length;e++)c.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,j={},y={};function A(e){return x.call(y,e)?!0:x.call(j,e)?!1:v.test(e)?y[e]=!0:(j[e]=!0,!1)}function O(e,n,s,i){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return i?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function k(e,n,s,i){if(n===null||typeof n>"u"||O(e,n,s,i))return!0;if(i)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function P(e,n,s,i,o,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){F[e]=new P(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];F[n]=new P(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){F[e]=new P(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){F[e]=new P(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){F[e]=new P(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){F[e]=new P(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){F[e]=new P(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){F[e]=new P(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){F[e]=new P(e,5,!1,e.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function L(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(R,L);F[n]=new P(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(R,L);F[n]=new P(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(R,L);F[n]=new P(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){F[e]=new P(e,1,!1,e.toLowerCase(),null,!1,!1)}),F.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){F[e]=new P(e,1,!1,e.toLowerCase(),null,!0,!0)});function S(e,n,s,i){var o=F.hasOwnProperty(n)?F[n]:null;(o!==null?o.type!==0:i||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(k(n,s,o,i)&&(s=null),i||o===null?A(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):o.mustUseProperty?e[o.propertyName]=s===null?o.type===3?!1:"":s:(n=o.attributeName,i=o.attributeNamespace,s===null?e.removeAttribute(n):(o=o.type,s=o===3||o===4&&s===!0?"":""+s,i?e.setAttributeNS(i,n,s):e.setAttribute(n,s))))}var H=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,B=Symbol.for("react.element"),b=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),ye=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),ge=Symbol.for("react.provider"),We=Symbol.for("react.context"),De=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Ae=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),Se=Symbol.for("react.offscreen"),G=Symbol.iterator;function re(e){return e===null||typeof e!="object"?null:(e=G&&e[G]||e["@@iterator"],typeof e=="function"?e:null)}var E=Object.assign,N;function $(e){if(N===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||""}return`
`+N+e}var fe=!1;function se(e,n){if(!e||fe)return"";fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(z){var i=z}Reflect.construct(e,[],n)}else{try{n.call()}catch(z){i=z}e.call(n.prototype)}else{try{throw Error()}catch(z){i=z}e()}}catch(z){if(z&&i&&typeof z.stack=="string"){for(var o=z.stack.split(`
`),d=i.stack.split(`
`),h=o.length-1,w=d.length-1;1<=h&&0<=w&&o[h]!==d[w];)w--;for(;1<=h&&0<=w;h--,w--)if(o[h]!==d[w]){if(h!==1||w!==1)do if(h--,w--,0>w||o[h]!==d[w]){var C=`
`+o[h].replace(" at new "," at ");return e.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",e.displayName)),C}while(1<=h&&0<=w);break}}}finally{fe=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?$(e):""}function Ee(e){switch(e.tag){case 5:return $(e.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return e=se(e.type,!1),e;case 11:return e=se(e.type.render,!1),e;case 1:return e=se(e.type,!0),e;default:return""}}function M(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case b:return"Portal";case ee:return"Profiler";case ye:return"StrictMode";case _e:return"Suspense";case V:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case We:return(e.displayName||"Context")+".Consumer";case ge:return(e._context.displayName||"Context")+".Provider";case De:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ae:return n=e.displayName||null,n!==null?n:M(e.type)||"Memo";case be:n=e._payload,e=e._init;try{return M(e(n))}catch{}}return null}function Le(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(n);case 8:return n===ye?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function Be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ie(e){var n=Te(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),i=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var o=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return o.call(this)},set:function(h){i=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(h){i=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Oe(e){e._valueTracker||(e._valueTracker=ie(e))}function K(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),i="";return e&&(i=Te(e)?e.checked?"true":"false":e.value),e=i,e!==s?(n.setValue(e),!0):!1}function le(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function rt(e,n){var s=n.checked;return E({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function $e(e,n){var s=n.defaultValue==null?"":n.defaultValue,i=n.checked!=null?n.checked:n.defaultChecked;s=Be(n.value!=null?n.value:s),e._wrapperState={initialChecked:i,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function Fs(e,n){n=n.checked,n!=null&&S(e,"checked",n,!1)}function tn(e,n){Fs(e,n);var s=Be(n.value),i=n.type;if(s!=null)i==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?hn(e,n.type,s):n.hasOwnProperty("defaultValue")&&hn(e,n.type,Be(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function In(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var i=n.type;if(!(i!=="submit"&&i!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function hn(e,n,s){(n!=="number"||le(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var nn=Array.isArray;function Cn(e,n,s,i){if(e=e.options,n){n={};for(var o=0;o<s.length;o++)n["$"+s[o]]=!0;for(s=0;s<e.length;s++)o=n.hasOwnProperty("$"+e[s].value),e[s].selected!==o&&(e[s].selected=o),o&&i&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,o=0;o<e.length;o++){if(e[o].value===s){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}n!==null||e[o].disabled||(n=e[o])}n!==null&&(n.selected=!0)}}function us(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(l(91));return E({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ca(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(l(92));if(nn(s)){if(1<s.length)throw Error(l(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:Be(s)}}function ua(e,n){var s=Be(n.value),i=Be(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),i!=null&&(e.defaultValue=""+i)}function Ct(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function da(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function or(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?da(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bs,ma=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,i,o){MSApp.execUnsafeLocalFunction(function(){return e(n,s,i,o)})}:e})(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=Bs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function ds(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kl=["Webkit","ms","Moz","O"];Object.keys(ms).forEach(function(e){Kl.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),ms[n]=ms[e]})});function Ps(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||ms.hasOwnProperty(e)&&ms[e]?(""+n).trim():n+"px"}function Rs(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var i=s.indexOf("--")===0,o=Ps(s,n[s],i);s==="float"&&(s="cssFloat"),i?e.setProperty(s,o):e[s]=o}}var cr=E({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fs(e,n){if(n){if(cr[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(l(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(l(61))}if(n.style!=null&&typeof n.style!="object")throw Error(l(62))}}function U(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fe=null;function ft(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ot=null,vt=null,Tt=null;function wc(e){if(e=Br(e)){if(typeof ot!="function")throw Error(l(280));var n=e.stateNode;n&&(n=La(n),ot(e.stateNode,e.type,n))}}function Nc(e){vt?Tt?Tt.push(e):Tt=[e]:vt=e}function bc(){if(vt){var e=vt,n=Tt;if(Tt=vt=null,wc(e),n)for(e=0;e<n.length;e++)wc(n[e])}}function Ec(e,n){return e(n)}function Cc(){}var Ql=!1;function kc(e,n,s){if(Ql)return e(n,s);Ql=!0;try{return Ec(e,n,s)}finally{Ql=!1,(vt!==null||Tt!==null)&&(Cc(),bc())}}function ur(e,n){var s=e.stateNode;if(s===null)return null;var i=La(s);if(i===null)return null;s=i[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(l(231,n,typeof s));return s}var Yl=!1;if(p)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{Yl=!1}function Wf(e,n,s,i,o,d,h,w,C){var z=Array.prototype.slice.call(arguments,3);try{n.apply(s,z)}catch(Y){this.onError(Y)}}var mr=!1,fa=null,pa=!1,Gl=null,qf={onError:function(e){mr=!0,fa=e}};function Kf(e,n,s,i,o,d,h,w,C){mr=!1,fa=null,Wf.apply(qf,arguments)}function Qf(e,n,s,i,o,d,h,w,C){if(Kf.apply(this,arguments),mr){if(mr){var z=fa;mr=!1,fa=null}else throw Error(l(198));pa||(pa=!0,Gl=z)}}function ps(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Sc(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _c(e){if(ps(e)!==e)throw Error(l(188))}function Yf(e){var n=e.alternate;if(!n){if(n=ps(e),n===null)throw Error(l(188));return n!==e?null:e}for(var s=e,i=n;;){var o=s.return;if(o===null)break;var d=o.alternate;if(d===null){if(i=o.return,i!==null){s=i;continue}break}if(o.child===d.child){for(d=o.child;d;){if(d===s)return _c(o),e;if(d===i)return _c(o),n;d=d.sibling}throw Error(l(188))}if(s.return!==i.return)s=o,i=d;else{for(var h=!1,w=o.child;w;){if(w===s){h=!0,s=o,i=d;break}if(w===i){h=!0,i=o,s=d;break}w=w.sibling}if(!h){for(w=d.child;w;){if(w===s){h=!0,s=d,i=o;break}if(w===i){h=!0,i=d,s=o;break}w=w.sibling}if(!h)throw Error(l(189))}}if(s.alternate!==i)throw Error(l(190))}if(s.tag!==3)throw Error(l(188));return s.stateNode.current===s?e:n}function Ac(e){return e=Yf(e),e!==null?Fc(e):null}function Fc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=Fc(e);if(n!==null)return n;e=e.sibling}return null}var Bc=a.unstable_scheduleCallback,Pc=a.unstable_cancelCallback,Gf=a.unstable_shouldYield,Jf=a.unstable_requestPaint,et=a.unstable_now,Xf=a.unstable_getCurrentPriorityLevel,Jl=a.unstable_ImmediatePriority,Rc=a.unstable_UserBlockingPriority,ha=a.unstable_NormalPriority,Zf=a.unstable_LowPriority,Dc=a.unstable_IdlePriority,xa=null,xn=null;function ep(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(xa,e,void 0,(e.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:sp,tp=Math.log,np=Math.LN2;function sp(e){return e>>>=0,e===0?32:31-(tp(e)/np|0)|0}var ga=64,ya=4194304;function fr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function va(e,n){var s=e.pendingLanes;if(s===0)return 0;var i=0,o=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var w=h&~o;w!==0?i=fr(w):(d&=h,d!==0&&(i=fr(d)))}else h=s&~o,h!==0?i=fr(h):d!==0&&(i=fr(d));if(i===0)return 0;if(n!==0&&n!==i&&(n&o)===0&&(o=i&-i,d=n&-n,o>=d||o===16&&(d&4194240)!==0))return n;if((i&4)!==0&&(i|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=i;0<n;)s=31-sn(n),o=1<<s,i|=e[s],n&=~o;return i}function rp(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ap(e,n){for(var s=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-sn(d),w=1<<h,C=o[h];C===-1?((w&s)===0||(w&i)!==0)&&(o[h]=rp(w,n)):C<=n&&(e.expiredLanes|=w),d&=~w}}function Xl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lc(){var e=ga;return ga<<=1,(ga&4194240)===0&&(ga=64),e}function Zl(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-sn(n),e[n]=s}function lp(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<s;){var o=31-sn(s),d=1<<o;n[o]=0,i[o]=-1,e[o]=-1,s&=~d}}function ei(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var i=31-sn(s),o=1<<i;o&n|e[i]&n&&(e[i]|=n),s&=~o}}var Me=0;function Tc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Oc,ti,Mc,$c,zc,ni=!1,ja=[],Un=null,Vn=null,Hn=null,hr=new Map,xr=new Map,Wn=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ic(e,n){switch(e){case"focusin":case"focusout":Un=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":hr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":xr.delete(n.pointerId)}}function gr(e,n,s,i,o,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:i,nativeEvent:d,targetContainers:[o]},n!==null&&(n=Br(n),n!==null&&ti(n)),e):(e.eventSystemFlags|=i,n=e.targetContainers,o!==null&&n.indexOf(o)===-1&&n.push(o),e)}function op(e,n,s,i,o){switch(n){case"focusin":return Un=gr(Un,e,n,s,i,o),!0;case"dragenter":return Vn=gr(Vn,e,n,s,i,o),!0;case"mouseover":return Hn=gr(Hn,e,n,s,i,o),!0;case"pointerover":var d=o.pointerId;return hr.set(d,gr(hr.get(d)||null,e,n,s,i,o)),!0;case"gotpointercapture":return d=o.pointerId,xr.set(d,gr(xr.get(d)||null,e,n,s,i,o)),!0}return!1}function Uc(e){var n=hs(e.target);if(n!==null){var s=ps(n);if(s!==null){if(n=s.tag,n===13){if(n=Sc(s),n!==null){e.blockedOn=n,zc(e.priority,function(){Mc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wa(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=ri(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var i=new s.constructor(s.type,s);Fe=i,s.target.dispatchEvent(i),Fe=null}else return n=Br(s),n!==null&&ti(n),e.blockedOn=s,!1;n.shift()}return!0}function Vc(e,n,s){wa(e)&&s.delete(n)}function cp(){ni=!1,Un!==null&&wa(Un)&&(Un=null),Vn!==null&&wa(Vn)&&(Vn=null),Hn!==null&&wa(Hn)&&(Hn=null),hr.forEach(Vc),xr.forEach(Vc)}function yr(e,n){e.blockedOn===n&&(e.blockedOn=null,ni||(ni=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,cp)))}function vr(e){function n(o){return yr(o,e)}if(0<ja.length){yr(ja[0],e);for(var s=1;s<ja.length;s++){var i=ja[s];i.blockedOn===e&&(i.blockedOn=null)}}for(Un!==null&&yr(Un,e),Vn!==null&&yr(Vn,e),Hn!==null&&yr(Hn,e),hr.forEach(n),xr.forEach(n),s=0;s<Wn.length;s++)i=Wn[s],i.blockedOn===e&&(i.blockedOn=null);for(;0<Wn.length&&(s=Wn[0],s.blockedOn===null);)Uc(s),s.blockedOn===null&&Wn.shift()}var Ds=H.ReactCurrentBatchConfig,Na=!0;function up(e,n,s,i){var o=Me,d=Ds.transition;Ds.transition=null;try{Me=1,si(e,n,s,i)}finally{Me=o,Ds.transition=d}}function dp(e,n,s,i){var o=Me,d=Ds.transition;Ds.transition=null;try{Me=4,si(e,n,s,i)}finally{Me=o,Ds.transition=d}}function si(e,n,s,i){if(Na){var o=ri(e,n,s,i);if(o===null)wi(e,n,i,ba,s),Ic(e,i);else if(op(o,e,n,s,i))i.stopPropagation();else if(Ic(e,i),n&4&&-1<ip.indexOf(e)){for(;o!==null;){var d=Br(o);if(d!==null&&Oc(d),d=ri(e,n,s,i),d===null&&wi(e,n,i,ba,s),d===o)break;o=d}o!==null&&i.stopPropagation()}else wi(e,n,i,null,s)}}var ba=null;function ri(e,n,s,i){if(ba=null,e=ft(i),e=hs(e),e!==null)if(n=ps(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Sc(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ba=e,null}function Hc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xf()){case Jl:return 1;case Rc:return 4;case ha:case Zf:return 16;case Dc:return 536870912;default:return 16}default:return 16}}var qn=null,ai=null,Ea=null;function Wc(){if(Ea)return Ea;var e,n=ai,s=n.length,i,o="value"in qn?qn.value:qn.textContent,d=o.length;for(e=0;e<s&&n[e]===o[e];e++);var h=s-e;for(i=1;i<=h&&n[s-i]===o[d-i];i++);return Ea=o.slice(e,1<i?1-i:void 0)}function Ca(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function qc(){return!1}function Ot(e){function n(s,i,o,d,h){this._reactName=s,this._targetInst=o,this.type=i,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ka:qc,this.isPropagationStopped=qc,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),n}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},li=Ot(Ls),jr=E({},Ls,{view:0,detail:0}),mp=Ot(jr),ii,oi,wr,Sa=E({},jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ui,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wr&&(wr&&e.type==="mousemove"?(ii=e.screenX-wr.screenX,oi=e.screenY-wr.screenY):oi=ii=0,wr=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:oi}}),Kc=Ot(Sa),fp=E({},Sa,{dataTransfer:0}),pp=Ot(fp),hp=E({},jr,{relatedTarget:0}),ci=Ot(hp),xp=E({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),gp=Ot(xp),yp=E({},Ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vp=Ot(yp),jp=E({},Ls,{data:0}),Qc=Ot(jp),wp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ep(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bp[e])?!!n[e]:!1}function ui(){return Ep}var Cp=E({},jr,{key:function(e){if(e.key){var n=wp[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ui,charCode:function(e){return e.type==="keypress"?Ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kp=Ot(Cp),Sp=E({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yc=Ot(Sp),_p=E({},jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ui}),Ap=Ot(_p),Fp=E({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bp=Ot(Fp),Pp=E({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rp=Ot(Pp),Dp=[9,13,27,32],di=p&&"CompositionEvent"in window,Nr=null;p&&"documentMode"in document&&(Nr=document.documentMode);var Lp=p&&"TextEvent"in window&&!Nr,Gc=p&&(!di||Nr&&8<Nr&&11>=Nr),Jc=" ",Xc=!1;function Zc(e,n){switch(e){case"keyup":return Dp.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ts=!1;function Tp(e,n){switch(e){case"compositionend":return eu(n);case"keypress":return n.which!==32?null:(Xc=!0,Jc);case"textInput":return e=n.data,e===Jc&&Xc?null:e;default:return null}}function Op(e,n){if(Ts)return e==="compositionend"||!di&&Zc(e,n)?(e=Wc(),Ea=ai=qn=null,Ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gc&&n.locale!=="ko"?null:n.data;default:return null}}var Mp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Mp[e.type]:n==="textarea"}function nu(e,n,s,i){Nc(i),n=Pa(n,"onChange"),0<n.length&&(s=new li("onChange","change",null,s,i),e.push({event:s,listeners:n}))}var br=null,Er=null;function $p(e){ju(e,0)}function _a(e){var n=Is(e);if(K(n))return e}function zp(e,n){if(e==="change")return n}var su=!1;if(p){var mi;if(p){var fi="oninput"in document;if(!fi){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),fi=typeof ru.oninput=="function"}mi=fi}else mi=!1;su=mi&&(!document.documentMode||9<document.documentMode)}function au(){br&&(br.detachEvent("onpropertychange",lu),Er=br=null)}function lu(e){if(e.propertyName==="value"&&_a(Er)){var n=[];nu(n,Er,e,ft(e)),kc($p,n)}}function Ip(e,n,s){e==="focusin"?(au(),br=n,Er=s,br.attachEvent("onpropertychange",lu)):e==="focusout"&&au()}function Up(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _a(Er)}function Vp(e,n){if(e==="click")return _a(n)}function Hp(e,n){if(e==="input"||e==="change")return _a(n)}function Wp(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var rn=typeof Object.is=="function"?Object.is:Wp;function Cr(e,n){if(rn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),i=Object.keys(n);if(s.length!==i.length)return!1;for(i=0;i<s.length;i++){var o=s[i];if(!x.call(n,o)||!rn(e[o],n[o]))return!1}return!0}function iu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ou(e,n){var s=iu(e);e=0;for(var i;s;){if(s.nodeType===3){if(i=e+s.textContent.length,e<=n&&i>=n)return{node:s,offset:n-e};e=i}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=iu(s)}}function cu(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?cu(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function uu(){for(var e=window,n=le();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=le(e.document)}return n}function pi(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function qp(e){var n=uu(),s=e.focusedElem,i=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&cu(s.ownerDocument.documentElement,s)){if(i!==null&&pi(s)){if(n=i.start,e=i.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var o=s.textContent.length,d=Math.min(i.start,o);i=i.end===void 0?d:Math.min(i.end,o),!e.extend&&d>i&&(o=i,i=d,d=o),o=ou(s,d);var h=ou(s,i);o&&h&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(o.node,o.offset),e.removeAllRanges(),d>i?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kp=p&&"documentMode"in document&&11>=document.documentMode,Os=null,hi=null,kr=null,xi=!1;function du(e,n,s){var i=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;xi||Os==null||Os!==le(i)||(i=Os,"selectionStart"in i&&pi(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),kr&&Cr(kr,i)||(kr=i,i=Pa(hi,"onSelect"),0<i.length&&(n=new li("onSelect","select",null,n,s),e.push({event:n,listeners:i}),n.target=Os)))}function Aa(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ms={animationend:Aa("Animation","AnimationEnd"),animationiteration:Aa("Animation","AnimationIteration"),animationstart:Aa("Animation","AnimationStart"),transitionend:Aa("Transition","TransitionEnd")},gi={},mu={};p&&(mu=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Fa(e){if(gi[e])return gi[e];if(!Ms[e])return e;var n=Ms[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in mu)return gi[e]=n[s];return e}var fu=Fa("animationend"),pu=Fa("animationiteration"),hu=Fa("animationstart"),xu=Fa("transitionend"),gu=new Map,yu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Kn(e,n){gu.set(e,n),f(n,[e])}for(var yi=0;yi<yu.length;yi++){var vi=yu[yi],Qp=vi.toLowerCase(),Yp=vi[0].toUpperCase()+vi.slice(1);Kn(Qp,"on"+Yp)}Kn(fu,"onAnimationEnd"),Kn(pu,"onAnimationIteration"),Kn(hu,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(xu,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function vu(e,n,s){var i=e.type||"unknown-event";e.currentTarget=s,Qf(i,n,void 0,e),e.currentTarget=null}function ju(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var i=e[s],o=i.event;i=i.listeners;e:{var d=void 0;if(n)for(var h=i.length-1;0<=h;h--){var w=i[h],C=w.instance,z=w.currentTarget;if(w=w.listener,C!==d&&o.isPropagationStopped())break e;vu(o,w,z),d=C}else for(h=0;h<i.length;h++){if(w=i[h],C=w.instance,z=w.currentTarget,w=w.listener,C!==d&&o.isPropagationStopped())break e;vu(o,w,z),d=C}}}if(pa)throw e=Gl,pa=!1,Gl=null,e}function Ve(e,n){var s=n[Si];s===void 0&&(s=n[Si]=new Set);var i=e+"__bubble";s.has(i)||(wu(n,e,2,!1),s.add(i))}function ji(e,n,s){var i=0;n&&(i|=4),wu(s,e,i,n)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function _r(e){if(!e[Ba]){e[Ba]=!0,c.forEach(function(s){s!=="selectionchange"&&(Gp.has(s)||ji(s,!1,e),ji(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ba]||(n[Ba]=!0,ji("selectionchange",!1,n))}}function wu(e,n,s,i){switch(Hc(n)){case 1:var o=up;break;case 4:o=dp;break;default:o=si}s=o.bind(null,n,s,e),o=void 0,!Yl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(n,s,{capture:!0,passive:o}):e.addEventListener(n,s,!0):o!==void 0?e.addEventListener(n,s,{passive:o}):e.addEventListener(n,s,!1)}function wi(e,n,s,i,o){var d=i;if((n&1)===0&&(n&2)===0&&i!==null)e:for(;;){if(i===null)return;var h=i.tag;if(h===3||h===4){var w=i.stateNode.containerInfo;if(w===o||w.nodeType===8&&w.parentNode===o)break;if(h===4)for(h=i.return;h!==null;){var C=h.tag;if((C===3||C===4)&&(C=h.stateNode.containerInfo,C===o||C.nodeType===8&&C.parentNode===o))return;h=h.return}for(;w!==null;){if(h=hs(w),h===null)return;if(C=h.tag,C===5||C===6){i=d=h;continue e}w=w.parentNode}}i=i.return}kc(function(){var z=d,Y=ft(s),J=[];e:{var q=gu.get(e);if(q!==void 0){var ae=li,ce=e;switch(e){case"keypress":if(Ca(s)===0)break e;case"keydown":case"keyup":ae=kp;break;case"focusin":ce="focus",ae=ci;break;case"focusout":ce="blur",ae=ci;break;case"beforeblur":case"afterblur":ae=ci;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Ap;break;case fu:case pu:case hu:ae=gp;break;case xu:ae=Bp;break;case"scroll":ae=mp;break;case"wheel":ae=Rp;break;case"copy":case"cut":case"paste":ae=vp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Yc}var ue=(n&4)!==0,tt=!ue&&e==="scroll",D=ue?q!==null?q+"Capture":null:q;ue=[];for(var _=z,T;_!==null;){T=_;var te=T.stateNode;if(T.tag===5&&te!==null&&(T=te,D!==null&&(te=ur(_,D),te!=null&&ue.push(Ar(_,te,T)))),tt)break;_=_.return}0<ue.length&&(q=new ae(q,ce,null,s,Y),J.push({event:q,listeners:ue}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",q&&s!==Fe&&(ce=s.relatedTarget||s.fromElement)&&(hs(ce)||ce[kn]))break e;if((ae||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,ae?(ce=s.relatedTarget||s.toElement,ae=z,ce=ce?hs(ce):null,ce!==null&&(tt=ps(ce),ce!==tt||ce.tag!==5&&ce.tag!==6)&&(ce=null)):(ae=null,ce=z),ae!==ce)){if(ue=Kc,te="onMouseLeave",D="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(ue=Yc,te="onPointerLeave",D="onPointerEnter",_="pointer"),tt=ae==null?q:Is(ae),T=ce==null?q:Is(ce),q=new ue(te,_+"leave",ae,s,Y),q.target=tt,q.relatedTarget=T,te=null,hs(Y)===z&&(ue=new ue(D,_+"enter",ce,s,Y),ue.target=T,ue.relatedTarget=tt,te=ue),tt=te,ae&&ce)t:{for(ue=ae,D=ce,_=0,T=ue;T;T=$s(T))_++;for(T=0,te=D;te;te=$s(te))T++;for(;0<_-T;)ue=$s(ue),_--;for(;0<T-_;)D=$s(D),T--;for(;_--;){if(ue===D||D!==null&&ue===D.alternate)break t;ue=$s(ue),D=$s(D)}ue=null}else ue=null;ae!==null&&Nu(J,q,ae,ue,!1),ce!==null&&tt!==null&&Nu(J,tt,ce,ue,!0)}}e:{if(q=z?Is(z):window,ae=q.nodeName&&q.nodeName.toLowerCase(),ae==="select"||ae==="input"&&q.type==="file")var de=zp;else if(tu(q))if(su)de=Hp;else{de=Up;var he=Ip}else(ae=q.nodeName)&&ae.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(de=Vp);if(de&&(de=de(e,z))){nu(J,de,s,Y);break e}he&&he(e,q,z),e==="focusout"&&(he=q._wrapperState)&&he.controlled&&q.type==="number"&&hn(q,"number",q.value)}switch(he=z?Is(z):window,e){case"focusin":(tu(he)||he.contentEditable==="true")&&(Os=he,hi=z,kr=null);break;case"focusout":kr=hi=Os=null;break;case"mousedown":xi=!0;break;case"contextmenu":case"mouseup":case"dragend":xi=!1,du(J,s,Y);break;case"selectionchange":if(Kp)break;case"keydown":case"keyup":du(J,s,Y)}var xe;if(di)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else Ts?Zc(e,s)&&(we="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(we="onCompositionStart");we&&(Gc&&s.locale!=="ko"&&(Ts||we!=="onCompositionStart"?we==="onCompositionEnd"&&Ts&&(xe=Wc()):(qn=Y,ai="value"in qn?qn.value:qn.textContent,Ts=!0)),he=Pa(z,we),0<he.length&&(we=new Qc(we,e,null,s,Y),J.push({event:we,listeners:he}),xe?we.data=xe:(xe=eu(s),xe!==null&&(we.data=xe)))),(xe=Lp?Tp(e,s):Op(e,s))&&(z=Pa(z,"onBeforeInput"),0<z.length&&(Y=new Qc("onBeforeInput","beforeinput",null,s,Y),J.push({event:Y,listeners:z}),Y.data=xe))}ju(J,n)})}function Ar(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Pa(e,n){for(var s=n+"Capture",i=[];e!==null;){var o=e,d=o.stateNode;o.tag===5&&d!==null&&(o=d,d=ur(e,s),d!=null&&i.unshift(Ar(e,d,o)),d=ur(e,n),d!=null&&i.push(Ar(e,d,o))),e=e.return}return i}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Nu(e,n,s,i,o){for(var d=n._reactName,h=[];s!==null&&s!==i;){var w=s,C=w.alternate,z=w.stateNode;if(C!==null&&C===i)break;w.tag===5&&z!==null&&(w=z,o?(C=ur(s,d),C!=null&&h.unshift(Ar(s,C,w))):o||(C=ur(s,d),C!=null&&h.push(Ar(s,C,w)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Jp=/\r\n?/g,Xp=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(Jp,`
`).replace(Xp,"")}function Ra(e,n,s){if(n=bu(n),bu(e)!==n&&s)throw Error(l(425))}function Da(){}var Ni=null,bi=null;function Ei(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ci=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Eu=typeof Promise=="function"?Promise:void 0,eh=typeof queueMicrotask=="function"?queueMicrotask:typeof Eu<"u"?function(e){return Eu.resolve(null).then(e).catch(th)}:Ci;function th(e){setTimeout(function(){throw e})}function ki(e,n){var s=n,i=0;do{var o=s.nextSibling;if(e.removeChild(s),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(i===0){e.removeChild(o),vr(n);return}i--}else s!=="$"&&s!=="$?"&&s!=="$!"||i++;s=o}while(s);vr(n)}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Cu(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var zs=Math.random().toString(36).slice(2),gn="__reactFiber$"+zs,Fr="__reactProps$"+zs,kn="__reactContainer$"+zs,Si="__reactEvents$"+zs,nh="__reactListeners$"+zs,sh="__reactHandles$"+zs;function hs(e){var n=e[gn];if(n)return n;for(var s=e.parentNode;s;){if(n=s[kn]||s[gn]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Cu(e);e!==null;){if(s=e[gn])return s;e=Cu(e)}return n}e=s,s=e.parentNode}return null}function Br(e){return e=e[gn]||e[kn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Is(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function La(e){return e[Fr]||null}var _i=[],Us=-1;function Yn(e){return{current:e}}function He(e){0>Us||(e.current=_i[Us],_i[Us]=null,Us--)}function Ie(e,n){Us++,_i[Us]=e.current,e.current=n}var Gn={},jt=Yn(Gn),_t=Yn(!1),xs=Gn;function Vs(e,n){var s=e.type.contextTypes;if(!s)return Gn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===n)return i.__reactInternalMemoizedMaskedChildContext;var o={},d;for(d in s)o[d]=n[d];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=o),o}function At(e){return e=e.childContextTypes,e!=null}function Ta(){He(_t),He(jt)}function ku(e,n,s){if(jt.current!==Gn)throw Error(l(168));Ie(jt,n),Ie(_t,s)}function Su(e,n,s){var i=e.stateNode;if(n=n.childContextTypes,typeof i.getChildContext!="function")return s;i=i.getChildContext();for(var o in i)if(!(o in n))throw Error(l(108,Le(e)||"Unknown",o));return E({},s,i)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gn,xs=jt.current,Ie(jt,e),Ie(_t,_t.current),!0}function _u(e,n,s){var i=e.stateNode;if(!i)throw Error(l(169));s?(e=Su(e,n,xs),i.__reactInternalMemoizedMergedChildContext=e,He(_t),He(jt),Ie(jt,e)):He(_t),Ie(_t,s)}var Sn=null,Ma=!1,Ai=!1;function Au(e){Sn===null?Sn=[e]:Sn.push(e)}function rh(e){Ma=!0,Au(e)}function Jn(){if(!Ai&&Sn!==null){Ai=!0;var e=0,n=Me;try{var s=Sn;for(Me=1;e<s.length;e++){var i=s[e];do i=i(!0);while(i!==null)}Sn=null,Ma=!1}catch(o){throw Sn!==null&&(Sn=Sn.slice(e+1)),Bc(Jl,Jn),o}finally{Me=n,Ai=!1}}return null}var Hs=[],Ws=0,$a=null,za=0,Ht=[],Wt=0,gs=null,_n=1,An="";function ys(e,n){Hs[Ws++]=za,Hs[Ws++]=$a,$a=e,za=n}function Fu(e,n,s){Ht[Wt++]=_n,Ht[Wt++]=An,Ht[Wt++]=gs,gs=e;var i=_n;e=An;var o=32-sn(i)-1;i&=~(1<<o),s+=1;var d=32-sn(n)+o;if(30<d){var h=o-o%5;d=(i&(1<<h)-1).toString(32),i>>=h,o-=h,_n=1<<32-sn(n)+o|s<<o|i,An=d+e}else _n=1<<d|s<<o|i,An=e}function Fi(e){e.return!==null&&(ys(e,1),Fu(e,1,0))}function Bi(e){for(;e===$a;)$a=Hs[--Ws],Hs[Ws]=null,za=Hs[--Ws],Hs[Ws]=null;for(;e===gs;)gs=Ht[--Wt],Ht[Wt]=null,An=Ht[--Wt],Ht[Wt]=null,_n=Ht[--Wt],Ht[Wt]=null}var Mt=null,$t=null,qe=!1,an=null;function Bu(e,n){var s=Yt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Pu(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,Mt=e,$t=Qn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,Mt=e,$t=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=gs!==null?{id:_n,overflow:An}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=Yt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,Mt=e,$t=null,!0):!1;default:return!1}}function Pi(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ri(e){if(qe){var n=$t;if(n){var s=n;if(!Pu(e,n)){if(Pi(e))throw Error(l(418));n=Qn(s.nextSibling);var i=Mt;n&&Pu(e,n)?Bu(i,s):(e.flags=e.flags&-4097|2,qe=!1,Mt=e)}}else{if(Pi(e))throw Error(l(418));e.flags=e.flags&-4097|2,qe=!1,Mt=e}}}function Ru(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Mt=e}function Ia(e){if(e!==Mt)return!1;if(!qe)return Ru(e),qe=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Ei(e.type,e.memoizedProps)),n&&(n=$t)){if(Pi(e))throw Du(),Error(l(418));for(;n;)Bu(e,n),n=Qn(n.nextSibling)}if(Ru(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){$t=Qn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}$t=null}}else $t=Mt?Qn(e.stateNode.nextSibling):null;return!0}function Du(){for(var e=$t;e;)e=Qn(e.nextSibling)}function qs(){$t=Mt=null,qe=!1}function Di(e){an===null?an=[e]:an.push(e)}var ah=H.ReactCurrentBatchConfig;function Pr(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(l(309));var i=s.stateNode}if(!i)throw Error(l(147,e));var o=i,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var w=o.refs;h===null?delete w[d]:w[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(l(284));if(!s._owner)throw Error(l(290,e))}return e}function Ua(e,n){throw e=Object.prototype.toString.call(n),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Lu(e){var n=e._init;return n(e._payload)}function Tu(e){function n(D,_){if(e){var T=D.deletions;T===null?(D.deletions=[_],D.flags|=16):T.push(_)}}function s(D,_){if(!e)return null;for(;_!==null;)n(D,_),_=_.sibling;return null}function i(D,_){for(D=new Map;_!==null;)_.key!==null?D.set(_.key,_):D.set(_.index,_),_=_.sibling;return D}function o(D,_){return D=as(D,_),D.index=0,D.sibling=null,D}function d(D,_,T){return D.index=T,e?(T=D.alternate,T!==null?(T=T.index,T<_?(D.flags|=2,_):T):(D.flags|=2,_)):(D.flags|=1048576,_)}function h(D){return e&&D.alternate===null&&(D.flags|=2),D}function w(D,_,T,te){return _===null||_.tag!==6?(_=ko(T,D.mode,te),_.return=D,_):(_=o(_,T),_.return=D,_)}function C(D,_,T,te){var de=T.type;return de===W?Y(D,_,T.props.children,te,T.key):_!==null&&(_.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===be&&Lu(de)===_.type)?(te=o(_,T.props),te.ref=Pr(D,_,T),te.return=D,te):(te=ml(T.type,T.key,T.props,null,D.mode,te),te.ref=Pr(D,_,T),te.return=D,te)}function z(D,_,T,te){return _===null||_.tag!==4||_.stateNode.containerInfo!==T.containerInfo||_.stateNode.implementation!==T.implementation?(_=So(T,D.mode,te),_.return=D,_):(_=o(_,T.children||[]),_.return=D,_)}function Y(D,_,T,te,de){return _===null||_.tag!==7?(_=ks(T,D.mode,te,de),_.return=D,_):(_=o(_,T),_.return=D,_)}function J(D,_,T){if(typeof _=="string"&&_!==""||typeof _=="number")return _=ko(""+_,D.mode,T),_.return=D,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case B:return T=ml(_.type,_.key,_.props,null,D.mode,T),T.ref=Pr(D,null,_),T.return=D,T;case b:return _=So(_,D.mode,T),_.return=D,_;case be:var te=_._init;return J(D,te(_._payload),T)}if(nn(_)||re(_))return _=ks(_,D.mode,T,null),_.return=D,_;Ua(D,_)}return null}function q(D,_,T,te){var de=_!==null?_.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return de!==null?null:w(D,_,""+T,te);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case B:return T.key===de?C(D,_,T,te):null;case b:return T.key===de?z(D,_,T,te):null;case be:return de=T._init,q(D,_,de(T._payload),te)}if(nn(T)||re(T))return de!==null?null:Y(D,_,T,te,null);Ua(D,T)}return null}function ae(D,_,T,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return D=D.get(T)||null,w(_,D,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case B:return D=D.get(te.key===null?T:te.key)||null,C(_,D,te,de);case b:return D=D.get(te.key===null?T:te.key)||null,z(_,D,te,de);case be:var he=te._init;return ae(D,_,T,he(te._payload),de)}if(nn(te)||re(te))return D=D.get(T)||null,Y(_,D,te,de,null);Ua(_,te)}return null}function ce(D,_,T,te){for(var de=null,he=null,xe=_,we=_=0,dt=null;xe!==null&&we<T.length;we++){xe.index>we?(dt=xe,xe=null):dt=xe.sibling;var Re=q(D,xe,T[we],te);if(Re===null){xe===null&&(xe=dt);break}e&&xe&&Re.alternate===null&&n(D,xe),_=d(Re,_,we),he===null?de=Re:he.sibling=Re,he=Re,xe=dt}if(we===T.length)return s(D,xe),qe&&ys(D,we),de;if(xe===null){for(;we<T.length;we++)xe=J(D,T[we],te),xe!==null&&(_=d(xe,_,we),he===null?de=xe:he.sibling=xe,he=xe);return qe&&ys(D,we),de}for(xe=i(D,xe);we<T.length;we++)dt=ae(xe,D,we,T[we],te),dt!==null&&(e&&dt.alternate!==null&&xe.delete(dt.key===null?we:dt.key),_=d(dt,_,we),he===null?de=dt:he.sibling=dt,he=dt);return e&&xe.forEach(function(ls){return n(D,ls)}),qe&&ys(D,we),de}function ue(D,_,T,te){var de=re(T);if(typeof de!="function")throw Error(l(150));if(T=de.call(T),T==null)throw Error(l(151));for(var he=de=null,xe=_,we=_=0,dt=null,Re=T.next();xe!==null&&!Re.done;we++,Re=T.next()){xe.index>we?(dt=xe,xe=null):dt=xe.sibling;var ls=q(D,xe,Re.value,te);if(ls===null){xe===null&&(xe=dt);break}e&&xe&&ls.alternate===null&&n(D,xe),_=d(ls,_,we),he===null?de=ls:he.sibling=ls,he=ls,xe=dt}if(Re.done)return s(D,xe),qe&&ys(D,we),de;if(xe===null){for(;!Re.done;we++,Re=T.next())Re=J(D,Re.value,te),Re!==null&&(_=d(Re,_,we),he===null?de=Re:he.sibling=Re,he=Re);return qe&&ys(D,we),de}for(xe=i(D,xe);!Re.done;we++,Re=T.next())Re=ae(xe,D,we,Re.value,te),Re!==null&&(e&&Re.alternate!==null&&xe.delete(Re.key===null?we:Re.key),_=d(Re,_,we),he===null?de=Re:he.sibling=Re,he=Re);return e&&xe.forEach(function(Mh){return n(D,Mh)}),qe&&ys(D,we),de}function tt(D,_,T,te){if(typeof T=="object"&&T!==null&&T.type===W&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case B:e:{for(var de=T.key,he=_;he!==null;){if(he.key===de){if(de=T.type,de===W){if(he.tag===7){s(D,he.sibling),_=o(he,T.props.children),_.return=D,D=_;break e}}else if(he.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===be&&Lu(de)===he.type){s(D,he.sibling),_=o(he,T.props),_.ref=Pr(D,he,T),_.return=D,D=_;break e}s(D,he);break}else n(D,he);he=he.sibling}T.type===W?(_=ks(T.props.children,D.mode,te,T.key),_.return=D,D=_):(te=ml(T.type,T.key,T.props,null,D.mode,te),te.ref=Pr(D,_,T),te.return=D,D=te)}return h(D);case b:e:{for(he=T.key;_!==null;){if(_.key===he)if(_.tag===4&&_.stateNode.containerInfo===T.containerInfo&&_.stateNode.implementation===T.implementation){s(D,_.sibling),_=o(_,T.children||[]),_.return=D,D=_;break e}else{s(D,_);break}else n(D,_);_=_.sibling}_=So(T,D.mode,te),_.return=D,D=_}return h(D);case be:return he=T._init,tt(D,_,he(T._payload),te)}if(nn(T))return ce(D,_,T,te);if(re(T))return ue(D,_,T,te);Ua(D,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,_!==null&&_.tag===6?(s(D,_.sibling),_=o(_,T),_.return=D,D=_):(s(D,_),_=ko(T,D.mode,te),_.return=D,D=_),h(D)):s(D,_)}return tt}var Ks=Tu(!0),Ou=Tu(!1),Va=Yn(null),Ha=null,Qs=null,Li=null;function Ti(){Li=Qs=Ha=null}function Oi(e){var n=Va.current;He(Va),e._currentValue=n}function Mi(e,n,s){for(;e!==null;){var i=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,i!==null&&(i.childLanes|=n)):i!==null&&(i.childLanes&n)!==n&&(i.childLanes|=n),e===s)break;e=e.return}}function Ys(e,n){Ha=e,Li=Qs=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&n)!==0&&(Ft=!0),e.firstContext=null)}function qt(e){var n=e._currentValue;if(Li!==e)if(e={context:e,memoizedValue:n,next:null},Qs===null){if(Ha===null)throw Error(l(308));Qs=e,Ha.dependencies={lanes:0,firstContext:e}}else Qs=Qs.next=e;return n}var vs=null;function $i(e){vs===null?vs=[e]:vs.push(e)}function Mu(e,n,s,i){var o=n.interleaved;return o===null?(s.next=s,$i(n)):(s.next=o.next,o.next=s),n.interleaved=s,Fn(e,i)}function Fn(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var Xn=!1;function zi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bn(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function Zn(e,n,s){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Pe&2)!==0){var o=i.pending;return o===null?n.next=n:(n.next=o.next,o.next=n),i.pending=n,Fn(e,s)}return o=i.interleaved,o===null?(n.next=n,$i(i)):(n.next=o.next,o.next=n),i.interleaved=n,Fn(e,s)}function Wa(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,ei(e,s)}}function zu(e,n){var s=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,s===i)){var o=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?o=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?o=d=n:d=d.next=n}else o=d=n;s={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:d,shared:i.shared,effects:i.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function qa(e,n,s,i){var o=e.updateQueue;Xn=!1;var d=o.firstBaseUpdate,h=o.lastBaseUpdate,w=o.shared.pending;if(w!==null){o.shared.pending=null;var C=w,z=C.next;C.next=null,h===null?d=z:h.next=z,h=C;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==h&&(w===null?Y.firstBaseUpdate=z:w.next=z,Y.lastBaseUpdate=C))}if(d!==null){var J=o.baseState;h=0,Y=z=C=null,w=d;do{var q=w.lane,ae=w.eventTime;if((i&q)===q){Y!==null&&(Y=Y.next={eventTime:ae,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var ce=e,ue=w;switch(q=n,ae=s,ue.tag){case 1:if(ce=ue.payload,typeof ce=="function"){J=ce.call(ae,J,q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ue.payload,q=typeof ce=="function"?ce.call(ae,J,q):ce,q==null)break e;J=E({},J,q);break e;case 2:Xn=!0}}w.callback!==null&&w.lane!==0&&(e.flags|=64,q=o.effects,q===null?o.effects=[w]:q.push(w))}else ae={eventTime:ae,lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(z=Y=ae,C=J):Y=Y.next=ae,h|=q;if(w=w.next,w===null){if(w=o.shared.pending,w===null)break;q=w,w=q.next,q.next=null,o.lastBaseUpdate=q,o.shared.pending=null}}while(!0);if(Y===null&&(C=J),o.baseState=C,o.firstBaseUpdate=z,o.lastBaseUpdate=Y,n=o.shared.interleaved,n!==null){o=n;do h|=o.lane,o=o.next;while(o!==n)}else d===null&&(o.shared.lanes=0);Ns|=h,e.lanes=h,e.memoizedState=J}}function Iu(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var i=e[n],o=i.callback;if(o!==null){if(i.callback=null,i=s,typeof o!="function")throw Error(l(191,o));o.call(i)}}}var Rr={},yn=Yn(Rr),Dr=Yn(Rr),Lr=Yn(Rr);function js(e){if(e===Rr)throw Error(l(174));return e}function Ii(e,n){switch(Ie(Lr,n),Ie(Dr,e),Ie(yn,Rr),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:or(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=or(n,e)}He(yn),Ie(yn,n)}function Gs(){He(yn),He(Dr),He(Lr)}function Uu(e){js(Lr.current);var n=js(yn.current),s=or(n,e.type);n!==s&&(Ie(Dr,e),Ie(yn,s))}function Ui(e){Dr.current===e&&(He(yn),He(Dr))}var Ge=Yn(0);function Ka(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vi=[];function Hi(){for(var e=0;e<Vi.length;e++)Vi[e]._workInProgressVersionPrimary=null;Vi.length=0}var Qa=H.ReactCurrentDispatcher,Wi=H.ReactCurrentBatchConfig,ws=0,Je=null,at=null,ct=null,Ya=!1,Tr=!1,Or=0,lh=0;function wt(){throw Error(l(321))}function qi(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!rn(e[s],n[s]))return!1;return!0}function Ki(e,n,s,i,o,d){if(ws=d,Je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Qa.current=e===null||e.memoizedState===null?uh:dh,e=s(i,o),Tr){d=0;do{if(Tr=!1,Or=0,25<=d)throw Error(l(301));d+=1,ct=at=null,n.updateQueue=null,Qa.current=mh,e=s(i,o)}while(Tr)}if(Qa.current=Xa,n=at!==null&&at.next!==null,ws=0,ct=at=Je=null,Ya=!1,n)throw Error(l(300));return e}function Qi(){var e=Or!==0;return Or=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Je.memoizedState=ct=e:ct=ct.next=e,ct}function Kt(){if(at===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=at.next;var n=ct===null?Je.memoizedState:ct.next;if(n!==null)ct=n,at=e;else{if(e===null)throw Error(l(310));at=e,e={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},ct===null?Je.memoizedState=ct=e:ct=ct.next=e}return ct}function Mr(e,n){return typeof n=="function"?n(e):n}function Yi(e){var n=Kt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=at,o=i.baseQueue,d=s.pending;if(d!==null){if(o!==null){var h=o.next;o.next=d.next,d.next=h}i.baseQueue=o=d,s.pending=null}if(o!==null){d=o.next,i=i.baseState;var w=h=null,C=null,z=d;do{var Y=z.lane;if((ws&Y)===Y)C!==null&&(C=C.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),i=z.hasEagerState?z.eagerState:e(i,z.action);else{var J={lane:Y,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};C===null?(w=C=J,h=i):C=C.next=J,Je.lanes|=Y,Ns|=Y}z=z.next}while(z!==null&&z!==d);C===null?h=i:C.next=w,rn(i,n.memoizedState)||(Ft=!0),n.memoizedState=i,n.baseState=h,n.baseQueue=C,s.lastRenderedState=i}if(e=s.interleaved,e!==null){o=e;do d=o.lane,Je.lanes|=d,Ns|=d,o=o.next;while(o!==e)}else o===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function Gi(e){var n=Kt(),s=n.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=e;var i=s.dispatch,o=s.pending,d=n.memoizedState;if(o!==null){s.pending=null;var h=o=o.next;do d=e(d,h.action),h=h.next;while(h!==o);rn(d,n.memoizedState)||(Ft=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,i]}function Vu(){}function Hu(e,n){var s=Je,i=Kt(),o=n(),d=!rn(i.memoizedState,o);if(d&&(i.memoizedState=o,Ft=!0),i=i.queue,Ji(Ku.bind(null,s,i,e),[e]),i.getSnapshot!==n||d||ct!==null&&ct.memoizedState.tag&1){if(s.flags|=2048,$r(9,qu.bind(null,s,i,o,n),void 0,null),ut===null)throw Error(l(349));(ws&30)!==0||Wu(s,n,o)}return o}function Wu(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function qu(e,n,s,i){n.value=s,n.getSnapshot=i,Qu(n)&&Yu(e)}function Ku(e,n,s){return s(function(){Qu(n)&&Yu(e)})}function Qu(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!rn(e,s)}catch{return!0}}function Yu(e){var n=Fn(e,1);n!==null&&un(n,e,1,-1)}function Gu(e){var n=vn();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mr,lastRenderedState:e},n.queue=e,e=e.dispatch=ch.bind(null,Je,e),[n.memoizedState,e]}function $r(e,n,s,i){return e={tag:e,create:n,destroy:s,deps:i,next:null},n=Je.updateQueue,n===null?(n={lastEffect:null,stores:null},Je.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(i=s.next,s.next=e,e.next=i,n.lastEffect=e)),e}function Ju(){return Kt().memoizedState}function Ga(e,n,s,i){var o=vn();Je.flags|=e,o.memoizedState=$r(1|n,s,void 0,i===void 0?null:i)}function Ja(e,n,s,i){var o=Kt();i=i===void 0?null:i;var d=void 0;if(at!==null){var h=at.memoizedState;if(d=h.destroy,i!==null&&qi(i,h.deps)){o.memoizedState=$r(n,s,d,i);return}}Je.flags|=e,o.memoizedState=$r(1|n,s,d,i)}function Xu(e,n){return Ga(8390656,8,e,n)}function Ji(e,n){return Ja(2048,8,e,n)}function Zu(e,n){return Ja(4,2,e,n)}function ed(e,n){return Ja(4,4,e,n)}function td(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function nd(e,n,s){return s=s!=null?s.concat([e]):null,Ja(4,4,td.bind(null,n,e),s)}function Xi(){}function sd(e,n){var s=Kt();n=n===void 0?null:n;var i=s.memoizedState;return i!==null&&n!==null&&qi(n,i[1])?i[0]:(s.memoizedState=[e,n],e)}function rd(e,n){var s=Kt();n=n===void 0?null:n;var i=s.memoizedState;return i!==null&&n!==null&&qi(n,i[1])?i[0]:(e=e(),s.memoizedState=[e,n],e)}function ad(e,n,s){return(ws&21)===0?(e.baseState&&(e.baseState=!1,Ft=!0),e.memoizedState=s):(rn(s,n)||(s=Lc(),Je.lanes|=s,Ns|=s,e.baseState=!0),n)}function ih(e,n){var s=Me;Me=s!==0&&4>s?s:4,e(!0);var i=Wi.transition;Wi.transition={};try{e(!1),n()}finally{Me=s,Wi.transition=i}}function ld(){return Kt().memoizedState}function oh(e,n,s){var i=ss(e);if(s={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null},id(e))od(n,s);else if(s=Mu(e,n,s,i),s!==null){var o=St();un(s,e,i,o),cd(s,n,i)}}function ch(e,n,s){var i=ss(e),o={lane:i,action:s,hasEagerState:!1,eagerState:null,next:null};if(id(e))od(n,o);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,w=d(h,s);if(o.hasEagerState=!0,o.eagerState=w,rn(w,h)){var C=n.interleaved;C===null?(o.next=o,$i(n)):(o.next=C.next,C.next=o),n.interleaved=o;return}}catch{}finally{}s=Mu(e,n,o,i),s!==null&&(o=St(),un(s,e,i,o),cd(s,n,i))}}function id(e){var n=e.alternate;return e===Je||n!==null&&n===Je}function od(e,n){Tr=Ya=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function cd(e,n,s){if((s&4194240)!==0){var i=n.lanes;i&=e.pendingLanes,s|=i,n.lanes=s,ei(e,s)}}var Xa={readContext:qt,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},uh={readContext:qt,useCallback:function(e,n){return vn().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:Xu,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Ga(4194308,4,td.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ga(4194308,4,e,n)},useInsertionEffect:function(e,n){return Ga(4,2,e,n)},useMemo:function(e,n){var s=vn();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var i=vn();return n=s!==void 0?s(n):n,i.memoizedState=i.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},i.queue=e,e=e.dispatch=oh.bind(null,Je,e),[i.memoizedState,e]},useRef:function(e){var n=vn();return e={current:e},n.memoizedState=e},useState:Gu,useDebugValue:Xi,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=Gu(!1),n=e[0];return e=ih.bind(null,e[1]),vn().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var i=Je,o=vn();if(qe){if(s===void 0)throw Error(l(407));s=s()}else{if(s=n(),ut===null)throw Error(l(349));(ws&30)!==0||Wu(i,n,s)}o.memoizedState=s;var d={value:s,getSnapshot:n};return o.queue=d,Xu(Ku.bind(null,i,d,e),[e]),i.flags|=2048,$r(9,qu.bind(null,i,d,s,n),void 0,null),s},useId:function(){var e=vn(),n=ut.identifierPrefix;if(qe){var s=An,i=_n;s=(i&~(1<<32-sn(i)-1)).toString(32)+s,n=":"+n+"R"+s,s=Or++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=lh++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},dh={readContext:qt,useCallback:sd,useContext:qt,useEffect:Ji,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:rd,useReducer:Yi,useRef:Ju,useState:function(){return Yi(Mr)},useDebugValue:Xi,useDeferredValue:function(e){var n=Kt();return ad(n,at.memoizedState,e)},useTransition:function(){var e=Yi(Mr)[0],n=Kt().memoizedState;return[e,n]},useMutableSource:Vu,useSyncExternalStore:Hu,useId:ld,unstable_isNewReconciler:!1},mh={readContext:qt,useCallback:sd,useContext:qt,useEffect:Ji,useImperativeHandle:nd,useInsertionEffect:Zu,useLayoutEffect:ed,useMemo:rd,useReducer:Gi,useRef:Ju,useState:function(){return Gi(Mr)},useDebugValue:Xi,useDeferredValue:function(e){var n=Kt();return at===null?n.memoizedState=e:ad(n,at.memoizedState,e)},useTransition:function(){var e=Gi(Mr)[0],n=Kt().memoizedState;return[e,n]},useMutableSource:Vu,useSyncExternalStore:Hu,useId:ld,unstable_isNewReconciler:!1};function ln(e,n){if(e&&e.defaultProps){n=E({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function Zi(e,n,s,i){n=e.memoizedState,s=s(i,n),s=s==null?n:E({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Za={isMounted:function(e){return(e=e._reactInternals)?ps(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var i=St(),o=ss(e),d=Bn(i,o);d.payload=n,s!=null&&(d.callback=s),n=Zn(e,d,o),n!==null&&(un(n,e,o,i),Wa(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var i=St(),o=ss(e),d=Bn(i,o);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=Zn(e,d,o),n!==null&&(un(n,e,o,i),Wa(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=St(),i=ss(e),o=Bn(s,i);o.tag=2,n!=null&&(o.callback=n),n=Zn(e,o,i),n!==null&&(un(n,e,i,s),Wa(n,e,i))}};function ud(e,n,s,i,o,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,d,h):n.prototype&&n.prototype.isPureReactComponent?!Cr(s,i)||!Cr(o,d):!0}function dd(e,n,s){var i=!1,o=Gn,d=n.contextType;return typeof d=="object"&&d!==null?d=qt(d):(o=At(n)?xs:jt.current,i=n.contextTypes,d=(i=i!=null)?Vs(e,o):Gn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Za,e.stateNode=n,n._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=d),n}function md(e,n,s,i){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,i),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,i),n.state!==e&&Za.enqueueReplaceState(n,n.state,null)}function eo(e,n,s,i){var o=e.stateNode;o.props=s,o.state=e.memoizedState,o.refs={},zi(e);var d=n.contextType;typeof d=="object"&&d!==null?o.context=qt(d):(d=At(n)?xs:jt.current,o.context=Vs(e,d)),o.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(Zi(e,n,d,s),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(n=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),n!==o.state&&Za.enqueueReplaceState(o,o.state,null),qa(e,s,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Js(e,n){try{var s="",i=n;do s+=Ee(i),i=i.return;while(i);var o=s}catch(d){o=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:o,digest:null}}function to(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function no(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var fh=typeof WeakMap=="function"?WeakMap:Map;function fd(e,n,s){s=Bn(-1,s),s.tag=3,s.payload={element:null};var i=n.value;return s.callback=function(){ll||(ll=!0,yo=i),no(e,n)},s}function pd(e,n,s){s=Bn(-1,s),s.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=n.value;s.payload=function(){return i(o)},s.callback=function(){no(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){no(e,n),typeof i!="function"&&(ts===null?ts=new Set([this]):ts.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function hd(e,n,s){var i=e.pingCache;if(i===null){i=e.pingCache=new fh;var o=new Set;i.set(n,o)}else o=i.get(n),o===void 0&&(o=new Set,i.set(n,o));o.has(s)||(o.add(s),e=Sh.bind(null,e,n,s),n.then(e,e))}function xd(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function gd(e,n,s,i,o){return(e.mode&1)===0?(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Bn(-1,1),n.tag=2,Zn(s,n,1))),s.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ph=H.ReactCurrentOwner,Ft=!1;function kt(e,n,s,i){n.child=e===null?Ou(n,null,s,i):Ks(n,e.child,s,i)}function yd(e,n,s,i,o){s=s.render;var d=n.ref;return Ys(n,o),i=Ki(e,n,s,i,d,o),s=Qi(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Pn(e,n,o)):(qe&&s&&Fi(n),n.flags|=1,kt(e,n,i,o),n.child)}function vd(e,n,s,i,o){if(e===null){var d=s.type;return typeof d=="function"&&!Co(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,jd(e,n,d,i,o)):(e=ml(s.type,null,i,n,n.mode,o),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,(e.lanes&o)===0){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:Cr,s(h,i)&&e.ref===n.ref)return Pn(e,n,o)}return n.flags|=1,e=as(d,i),e.ref=n.ref,e.return=n,n.child=e}function jd(e,n,s,i,o){if(e!==null){var d=e.memoizedProps;if(Cr(d,i)&&e.ref===n.ref)if(Ft=!1,n.pendingProps=i=d,(e.lanes&o)!==0)(e.flags&131072)!==0&&(Ft=!0);else return n.lanes=e.lanes,Pn(e,n,o)}return so(e,n,s,i,o)}function wd(e,n,s){var i=n.pendingProps,o=i.children,d=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((n.mode&1)===0)n.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Zs,zt),zt|=s;else{if((s&1073741824)===0)return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,Ie(Zs,zt),zt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=d!==null?d.baseLanes:s,Ie(Zs,zt),zt|=i}else d!==null?(i=d.baseLanes|s,n.memoizedState=null):i=s,Ie(Zs,zt),zt|=i;return kt(e,n,o,s),n.child}function Nd(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function so(e,n,s,i,o){var d=At(s)?xs:jt.current;return d=Vs(n,d),Ys(n,o),s=Ki(e,n,s,i,d,o),i=Qi(),e!==null&&!Ft?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o,Pn(e,n,o)):(qe&&i&&Fi(n),n.flags|=1,kt(e,n,s,o),n.child)}function bd(e,n,s,i,o){if(At(s)){var d=!0;Oa(n)}else d=!1;if(Ys(n,o),n.stateNode===null)tl(e,n),dd(n,s,i),eo(n,s,i,o),i=!0;else if(e===null){var h=n.stateNode,w=n.memoizedProps;h.props=w;var C=h.context,z=s.contextType;typeof z=="object"&&z!==null?z=qt(z):(z=At(s)?xs:jt.current,z=Vs(n,z));var Y=s.getDerivedStateFromProps,J=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function";J||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==i||C!==z)&&md(n,h,i,z),Xn=!1;var q=n.memoizedState;h.state=q,qa(n,i,h,o),C=n.memoizedState,w!==i||q!==C||_t.current||Xn?(typeof Y=="function"&&(Zi(n,s,Y,i),C=n.memoizedState),(w=Xn||ud(n,s,w,i,q,C,z))?(J||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=i,n.memoizedState=C),h.props=i,h.state=C,h.context=z,i=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),i=!1)}else{h=n.stateNode,$u(e,n),w=n.memoizedProps,z=n.type===n.elementType?w:ln(n.type,w),h.props=z,J=n.pendingProps,q=h.context,C=s.contextType,typeof C=="object"&&C!==null?C=qt(C):(C=At(s)?xs:jt.current,C=Vs(n,C));var ae=s.getDerivedStateFromProps;(Y=typeof ae=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==J||q!==C)&&md(n,h,i,C),Xn=!1,q=n.memoizedState,h.state=q,qa(n,i,h,o);var ce=n.memoizedState;w!==J||q!==ce||_t.current||Xn?(typeof ae=="function"&&(Zi(n,s,ae,i),ce=n.memoizedState),(z=Xn||ud(n,s,z,i,q,ce,C)||!1)?(Y||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(i,ce,C),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(i,ce,C)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=i,n.memoizedState=ce),h.props=i,h.state=ce,h.context=C,i=z):(typeof h.componentDidUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),i=!1)}return ro(e,n,s,i,d,o)}function ro(e,n,s,i,o,d){Nd(e,n);var h=(n.flags&128)!==0;if(!i&&!h)return o&&_u(n,s,!1),Pn(e,n,d);i=n.stateNode,ph.current=n;var w=h&&typeof s.getDerivedStateFromError!="function"?null:i.render();return n.flags|=1,e!==null&&h?(n.child=Ks(n,e.child,null,d),n.child=Ks(n,null,w,d)):kt(e,n,w,d),n.memoizedState=i.state,o&&_u(n,s,!0),n.child}function Ed(e){var n=e.stateNode;n.pendingContext?ku(e,n.pendingContext,n.pendingContext!==n.context):n.context&&ku(e,n.context,!1),Ii(e,n.containerInfo)}function Cd(e,n,s,i,o){return qs(),Di(o),n.flags|=256,kt(e,n,s,i),n.child}var ao={dehydrated:null,treeContext:null,retryLane:0};function lo(e){return{baseLanes:e,cachePool:null,transitions:null}}function kd(e,n,s){var i=n.pendingProps,o=Ge.current,d=!1,h=(n.flags&128)!==0,w;if((w=h)||(w=e!==null&&e.memoizedState===null?!1:(o&2)!==0),w?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),Ie(Ge,o&1),e===null)return Ri(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((n.mode&1)===0?n.lanes=1:e.data==="$!"?n.lanes=8:n.lanes=1073741824,null):(h=i.children,e=i.fallback,d?(i=n.mode,d=n.child,h={mode:"hidden",children:h},(i&1)===0&&d!==null?(d.childLanes=0,d.pendingProps=h):d=fl(h,i,0,null),e=ks(e,i,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=lo(s),n.memoizedState=ao,e):io(n,h));if(o=e.memoizedState,o!==null&&(w=o.dehydrated,w!==null))return hh(e,n,h,i,w,o,s);if(d){d=i.fallback,h=n.mode,o=e.child,w=o.sibling;var C={mode:"hidden",children:i.children};return(h&1)===0&&n.child!==o?(i=n.child,i.childLanes=0,i.pendingProps=C,n.deletions=null):(i=as(o,C),i.subtreeFlags=o.subtreeFlags&14680064),w!==null?d=as(w,d):(d=ks(d,h,s,null),d.flags|=2),d.return=n,i.return=n,i.sibling=d,n.child=i,i=d,d=n.child,h=e.child.memoizedState,h=h===null?lo(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=ao,i}return d=e.child,e=d.sibling,i=as(d,{mode:"visible",children:i.children}),(n.mode&1)===0&&(i.lanes=s),i.return=n,i.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=i,n.memoizedState=null,i}function io(e,n){return n=fl({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function el(e,n,s,i){return i!==null&&Di(i),Ks(n,e.child,null,s),e=io(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function hh(e,n,s,i,o,d,h){if(s)return n.flags&256?(n.flags&=-257,i=to(Error(l(422))),el(e,n,h,i)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=i.fallback,o=n.mode,i=fl({mode:"visible",children:i.children},o,0,null),d=ks(d,o,h,null),d.flags|=2,i.return=n,d.return=n,i.sibling=d,n.child=i,(n.mode&1)!==0&&Ks(n,e.child,null,h),n.child.memoizedState=lo(h),n.memoizedState=ao,d);if((n.mode&1)===0)return el(e,n,h,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var w=i.dgst;return i=w,d=Error(l(419)),i=to(d,i,void 0),el(e,n,h,i)}if(w=(h&e.childLanes)!==0,Ft||w){if(i=ut,i!==null){switch(h&-h){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=(o&(i.suspendedLanes|h))!==0?0:o,o!==0&&o!==d.retryLane&&(d.retryLane=o,Fn(e,o),un(i,e,o,-1))}return Eo(),i=to(Error(l(421))),el(e,n,h,i)}return o.data==="$?"?(n.flags|=128,n.child=e.child,n=_h.bind(null,e),o._reactRetry=n,null):(e=d.treeContext,$t=Qn(o.nextSibling),Mt=n,qe=!0,an=null,e!==null&&(Ht[Wt++]=_n,Ht[Wt++]=An,Ht[Wt++]=gs,_n=e.id,An=e.overflow,gs=n),n=io(n,i.children),n.flags|=4096,n)}function Sd(e,n,s){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n),Mi(e.return,n,s)}function oo(e,n,s,i,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:i,tail:s,tailMode:o}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=i,d.tail=s,d.tailMode=o)}function _d(e,n,s){var i=n.pendingProps,o=i.revealOrder,d=i.tail;if(kt(e,n,i.children,s),i=Ge.current,(i&2)!==0)i=i&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,s,n);else if(e.tag===19)Sd(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Ie(Ge,i),(n.mode&1)===0)n.memoizedState=null;else switch(o){case"forwards":for(s=n.child,o=null;s!==null;)e=s.alternate,e!==null&&Ka(e)===null&&(o=s),s=s.sibling;s=o,s===null?(o=n.child,n.child=null):(o=s.sibling,s.sibling=null),oo(n,!1,o,s,d);break;case"backwards":for(s=null,o=n.child,n.child=null;o!==null;){if(e=o.alternate,e!==null&&Ka(e)===null){n.child=o;break}e=o.sibling,o.sibling=s,s=o,o=e}oo(n,!0,s,null,d);break;case"together":oo(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function tl(e,n){(n.mode&1)===0&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function Pn(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)return null;if(e!==null&&n.child!==e.child)throw Error(l(153));if(n.child!==null){for(e=n.child,s=as(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=as(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function xh(e,n,s){switch(n.tag){case 3:Ed(n),qs();break;case 5:Uu(n);break;case 1:At(n.type)&&Oa(n);break;case 4:Ii(n,n.stateNode.containerInfo);break;case 10:var i=n.type._context,o=n.memoizedProps.value;Ie(Va,i._currentValue),i._currentValue=o;break;case 13:if(i=n.memoizedState,i!==null)return i.dehydrated!==null?(Ie(Ge,Ge.current&1),n.flags|=128,null):(s&n.child.childLanes)!==0?kd(e,n,s):(Ie(Ge,Ge.current&1),e=Pn(e,n,s),e!==null?e.sibling:null);Ie(Ge,Ge.current&1);break;case 19:if(i=(s&n.childLanes)!==0,(e.flags&128)!==0){if(i)return _d(e,n,s);n.flags|=128}if(o=n.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),Ie(Ge,Ge.current),i)break;return null;case 22:case 23:return n.lanes=0,wd(e,n,s)}return Pn(e,n,s)}var Ad,co,Fd,Bd;Ad=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},co=function(){},Fd=function(e,n,s,i){var o=e.memoizedProps;if(o!==i){e=n.stateNode,js(yn.current);var d=null;switch(s){case"input":o=rt(e,o),i=rt(e,i),d=[];break;case"select":o=E({},o,{value:void 0}),i=E({},i,{value:void 0}),d=[];break;case"textarea":o=us(e,o),i=us(e,i),d=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Da)}fs(s,i);var h;s=null;for(z in o)if(!i.hasOwnProperty(z)&&o.hasOwnProperty(z)&&o[z]!=null)if(z==="style"){var w=o[z];for(h in w)w.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(u.hasOwnProperty(z)?d||(d=[]):(d=d||[]).push(z,null));for(z in i){var C=i[z];if(w=o?.[z],i.hasOwnProperty(z)&&C!==w&&(C!=null||w!=null))if(z==="style")if(w){for(h in w)!w.hasOwnProperty(h)||C&&C.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in C)C.hasOwnProperty(h)&&w[h]!==C[h]&&(s||(s={}),s[h]=C[h])}else s||(d||(d=[]),d.push(z,s)),s=C;else z==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,w=w?w.__html:void 0,C!=null&&w!==C&&(d=d||[]).push(z,C)):z==="children"?typeof C!="string"&&typeof C!="number"||(d=d||[]).push(z,""+C):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(u.hasOwnProperty(z)?(C!=null&&z==="onScroll"&&Ve("scroll",e),d||w===C||(d=[])):(d=d||[]).push(z,C))}s&&(d=d||[]).push("style",s);var z=d;(n.updateQueue=z)&&(n.flags|=4)}},Bd=function(e,n,s,i){s!==i&&(n.flags|=4)};function zr(e,n){if(!qe)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var i=null;s!==null;)s.alternate!==null&&(i=s),s=s.sibling;i===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Nt(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,i=0;if(n)for(var o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)s|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=s,n}function gh(e,n,s){var i=n.pendingProps;switch(Bi(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(n),null;case 1:return At(n.type)&&Ta(),Nt(n),null;case 3:return i=n.stateNode,Gs(),He(_t),He(jt),Hi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ia(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,an!==null&&(wo(an),an=null))),co(e,n),Nt(n),null;case 5:Ui(n);var o=js(Lr.current);if(s=n.type,e!==null&&n.stateNode!=null)Fd(e,n,s,i,o),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!i){if(n.stateNode===null)throw Error(l(166));return Nt(n),null}if(e=js(yn.current),Ia(n)){i=n.stateNode,s=n.type;var d=n.memoizedProps;switch(i[gn]=n,i[Fr]=d,e=(n.mode&1)!==0,s){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ve(Sr[o],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":$e(i,d),Ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!d.multiple},Ve("invalid",i);break;case"textarea":ca(i,d),Ve("invalid",i)}fs(s,d),o=null;for(var h in d)if(d.hasOwnProperty(h)){var w=d[h];h==="children"?typeof w=="string"?i.textContent!==w&&(d.suppressHydrationWarning!==!0&&Ra(i.textContent,w,e),o=["children",w]):typeof w=="number"&&i.textContent!==""+w&&(d.suppressHydrationWarning!==!0&&Ra(i.textContent,w,e),o=["children",""+w]):u.hasOwnProperty(h)&&w!=null&&h==="onScroll"&&Ve("scroll",i)}switch(s){case"input":Oe(i),In(i,d,!0);break;case"textarea":Oe(i),Ct(i);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(i.onclick=Da)}i=o,n.updateQueue=i,i!==null&&(n.flags|=4)}else{h=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=da(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=h.createElement(s,{is:i.is}):(e=h.createElement(s),s==="select"&&(h=e,i.multiple?h.multiple=!0:i.size&&(h.size=i.size))):e=h.createElementNS(e,s),e[gn]=n,e[Fr]=i,Ad(e,n,!1,!1),n.stateNode=e;e:{switch(h=U(s,i),s){case"dialog":Ve("cancel",e),Ve("close",e),o=i;break;case"iframe":case"object":case"embed":Ve("load",e),o=i;break;case"video":case"audio":for(o=0;o<Sr.length;o++)Ve(Sr[o],e);o=i;break;case"source":Ve("error",e),o=i;break;case"img":case"image":case"link":Ve("error",e),Ve("load",e),o=i;break;case"details":Ve("toggle",e),o=i;break;case"input":$e(e,i),o=rt(e,i),Ve("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=E({},i,{value:void 0}),Ve("invalid",e);break;case"textarea":ca(e,i),o=us(e,i),Ve("invalid",e);break;default:o=i}fs(s,o),w=o;for(d in w)if(w.hasOwnProperty(d)){var C=w[d];d==="style"?Rs(e,C):d==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&ma(e,C)):d==="children"?typeof C=="string"?(s!=="textarea"||C!=="")&&ds(e,C):typeof C=="number"&&ds(e,""+C):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(u.hasOwnProperty(d)?C!=null&&d==="onScroll"&&Ve("scroll",e):C!=null&&S(e,d,C,h))}switch(s){case"input":Oe(e),In(e,i,!1);break;case"textarea":Oe(e),Ct(e);break;case"option":i.value!=null&&e.setAttribute("value",""+Be(i.value));break;case"select":e.multiple=!!i.multiple,d=i.value,d!=null?Cn(e,!!i.multiple,d,!1):i.defaultValue!=null&&Cn(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Da)}switch(s){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Nt(n),null;case 6:if(e&&n.stateNode!=null)Bd(e,n,e.memoizedProps,i);else{if(typeof i!="string"&&n.stateNode===null)throw Error(l(166));if(s=js(Lr.current),js(yn.current),Ia(n)){if(i=n.stateNode,s=n.memoizedProps,i[gn]=n,(d=i.nodeValue!==s)&&(e=Mt,e!==null))switch(e.tag){case 3:Ra(i.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(i.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else i=(s.nodeType===9?s:s.ownerDocument).createTextNode(i),i[gn]=n,n.stateNode=i}return Nt(n),null;case 13:if(He(Ge),i=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(qe&&$t!==null&&(n.mode&1)!==0&&(n.flags&128)===0)Du(),qs(),n.flags|=98560,d=!1;else if(d=Ia(n),i!==null&&i.dehydrated!==null){if(e===null){if(!d)throw Error(l(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(l(317));d[gn]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Nt(n),d=!1}else an!==null&&(wo(an),an=null),d=!0;if(!d)return n.flags&65536?n:null}return(n.flags&128)!==0?(n.lanes=s,n):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(n.child.flags|=8192,(n.mode&1)!==0&&(e===null||(Ge.current&1)!==0?lt===0&&(lt=3):Eo())),n.updateQueue!==null&&(n.flags|=4),Nt(n),null);case 4:return Gs(),co(e,n),e===null&&_r(n.stateNode.containerInfo),Nt(n),null;case 10:return Oi(n.type._context),Nt(n),null;case 17:return At(n.type)&&Ta(),Nt(n),null;case 19:if(He(Ge),d=n.memoizedState,d===null)return Nt(n),null;if(i=(n.flags&128)!==0,h=d.rendering,h===null)if(i)zr(d,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=Ka(e),h!==null){for(n.flags|=128,zr(d,!1),i=h.updateQueue,i!==null&&(n.updateQueue=i,n.flags|=4),n.subtreeFlags=0,i=s,s=n.child;s!==null;)d=s,e=i,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return Ie(Ge,Ge.current&1|2),n.child}e=e.sibling}d.tail!==null&&et()>er&&(n.flags|=128,i=!0,zr(d,!1),n.lanes=4194304)}else{if(!i)if(e=Ka(h),e!==null){if(n.flags|=128,i=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),zr(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!qe)return Nt(n),null}else 2*et()-d.renderingStartTime>er&&s!==1073741824&&(n.flags|=128,i=!0,zr(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=et(),n.sibling=null,s=Ge.current,Ie(Ge,i?s&1|2:s&1),n):(Nt(n),null);case 22:case 23:return bo(),i=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(n.flags|=8192),i&&(n.mode&1)!==0?(zt&1073741824)!==0&&(Nt(n),n.subtreeFlags&6&&(n.flags|=8192)):Nt(n),null;case 24:return null;case 25:return null}throw Error(l(156,n.tag))}function yh(e,n){switch(Bi(n),n.tag){case 1:return At(n.type)&&Ta(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Gs(),He(_t),He(jt),Hi(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 5:return Ui(n),null;case 13:if(He(Ge),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(l(340));qs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return He(Ge),null;case 4:return Gs(),null;case 10:return Oi(n.type._context),null;case 22:case 23:return bo(),null;case 24:return null;default:return null}}var nl=!1,bt=!1,vh=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Xs(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(i){Ze(e,n,i)}else s.current=null}function uo(e,n,s){try{s()}catch(i){Ze(e,n,i)}}var Pd=!1;function jh(e,n){if(Ni=Na,e=uu(),pi(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var i=s.getSelection&&s.getSelection();if(i&&i.rangeCount!==0){s=i.anchorNode;var o=i.anchorOffset,d=i.focusNode;i=i.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,w=-1,C=-1,z=0,Y=0,J=e,q=null;t:for(;;){for(var ae;J!==s||o!==0&&J.nodeType!==3||(w=h+o),J!==d||i!==0&&J.nodeType!==3||(C=h+i),J.nodeType===3&&(h+=J.nodeValue.length),(ae=J.firstChild)!==null;)q=J,J=ae;for(;;){if(J===e)break t;if(q===s&&++z===o&&(w=h),q===d&&++Y===i&&(C=h),(ae=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=ae}s=w===-1||C===-1?null:{start:w,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(bi={focusedElem:e,selectionRange:s},Na=!1,oe=n;oe!==null;)if(n=oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,oe=e;else for(;oe!==null;){n=oe;try{var ce=n.alternate;if((n.flags&1024)!==0)switch(n.tag){case 0:case 11:case 15:break;case 1:if(ce!==null){var ue=ce.memoizedProps,tt=ce.memoizedState,D=n.stateNode,_=D.getSnapshotBeforeUpdate(n.elementType===n.type?ue:ln(n.type,ue),tt);D.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var T=n.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(te){Ze(n,n.return,te)}if(e=n.sibling,e!==null){e.return=n.return,oe=e;break}oe=n.return}return ce=Pd,Pd=!1,ce}function Ir(e,n,s){var i=n.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var d=o.destroy;o.destroy=void 0,d!==void 0&&uo(n,s,d)}o=o.next}while(o!==i)}}function sl(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.create;s.destroy=i()}s=s.next}while(s!==n)}}function mo(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Rd(e){var n=e.alternate;n!==null&&(e.alternate=null,Rd(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[gn],delete n[Fr],delete n[Si],delete n[nh],delete n[sh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Dd(e){return e.tag===5||e.tag===3||e.tag===4}function Ld(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fo(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Da));else if(i!==4&&(e=e.child,e!==null))for(fo(e,n,s),e=e.sibling;e!==null;)fo(e,n,s),e=e.sibling}function po(e,n,s){var i=e.tag;if(i===5||i===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(po(e,n,s),e=e.sibling;e!==null;)po(e,n,s),e=e.sibling}var pt=null,on=!1;function es(e,n,s){for(s=s.child;s!==null;)Td(e,n,s),s=s.sibling}function Td(e,n,s){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(xa,s)}catch{}switch(s.tag){case 5:bt||Xs(s,n);case 6:var i=pt,o=on;pt=null,es(e,n,s),pt=i,on=o,pt!==null&&(on?(e=pt,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):pt.removeChild(s.stateNode));break;case 18:pt!==null&&(on?(e=pt,s=s.stateNode,e.nodeType===8?ki(e.parentNode,s):e.nodeType===1&&ki(e,s),vr(e)):ki(pt,s.stateNode));break;case 4:i=pt,o=on,pt=s.stateNode.containerInfo,on=!0,es(e,n,s),pt=i,on=o;break;case 0:case 11:case 14:case 15:if(!bt&&(i=s.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var d=o,h=d.destroy;d=d.tag,h!==void 0&&((d&2)!==0||(d&4)!==0)&&uo(s,n,h),o=o.next}while(o!==i)}es(e,n,s);break;case 1:if(!bt&&(Xs(s,n),i=s.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=s.memoizedProps,i.state=s.memoizedState,i.componentWillUnmount()}catch(w){Ze(s,n,w)}es(e,n,s);break;case 21:es(e,n,s);break;case 22:s.mode&1?(bt=(i=bt)||s.memoizedState!==null,es(e,n,s),bt=i):es(e,n,s);break;default:es(e,n,s)}}function Od(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new vh),n.forEach(function(i){var o=Ah.bind(null,e,i);s.has(i)||(s.add(i),i.then(o,o))})}}function cn(e,n){var s=n.deletions;if(s!==null)for(var i=0;i<s.length;i++){var o=s[i];try{var d=e,h=n,w=h;e:for(;w!==null;){switch(w.tag){case 5:pt=w.stateNode,on=!1;break e;case 3:pt=w.stateNode.containerInfo,on=!0;break e;case 4:pt=w.stateNode.containerInfo,on=!0;break e}w=w.return}if(pt===null)throw Error(l(160));Td(d,h,o),pt=null,on=!1;var C=o.alternate;C!==null&&(C.return=null),o.return=null}catch(z){Ze(o,n,z)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)Md(n,e),n=n.sibling}function Md(e,n){var s=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cn(n,e),jn(e),i&4){try{Ir(3,e,e.return),sl(3,e)}catch(ue){Ze(e,e.return,ue)}try{Ir(5,e,e.return)}catch(ue){Ze(e,e.return,ue)}}break;case 1:cn(n,e),jn(e),i&512&&s!==null&&Xs(s,s.return);break;case 5:if(cn(n,e),jn(e),i&512&&s!==null&&Xs(s,s.return),e.flags&32){var o=e.stateNode;try{ds(o,"")}catch(ue){Ze(e,e.return,ue)}}if(i&4&&(o=e.stateNode,o!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,w=e.type,C=e.updateQueue;if(e.updateQueue=null,C!==null)try{w==="input"&&d.type==="radio"&&d.name!=null&&Fs(o,d),U(w,h);var z=U(w,d);for(h=0;h<C.length;h+=2){var Y=C[h],J=C[h+1];Y==="style"?Rs(o,J):Y==="dangerouslySetInnerHTML"?ma(o,J):Y==="children"?ds(o,J):S(o,Y,J,z)}switch(w){case"input":tn(o,d);break;case"textarea":ua(o,d);break;case"select":var q=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!d.multiple;var ae=d.value;ae!=null?Cn(o,!!d.multiple,ae,!1):q!==!!d.multiple&&(d.defaultValue!=null?Cn(o,!!d.multiple,d.defaultValue,!0):Cn(o,!!d.multiple,d.multiple?[]:"",!1))}o[Fr]=d}catch(ue){Ze(e,e.return,ue)}}break;case 6:if(cn(n,e),jn(e),i&4){if(e.stateNode===null)throw Error(l(162));o=e.stateNode,d=e.memoizedProps;try{o.nodeValue=d}catch(ue){Ze(e,e.return,ue)}}break;case 3:if(cn(n,e),jn(e),i&4&&s!==null&&s.memoizedState.isDehydrated)try{vr(n.containerInfo)}catch(ue){Ze(e,e.return,ue)}break;case 4:cn(n,e),jn(e);break;case 13:cn(n,e),jn(e),o=e.child,o.flags&8192&&(d=o.memoizedState!==null,o.stateNode.isHidden=d,!d||o.alternate!==null&&o.alternate.memoizedState!==null||(go=et())),i&4&&Od(e);break;case 22:if(Y=s!==null&&s.memoizedState!==null,e.mode&1?(bt=(z=bt)||Y,cn(n,e),bt=z):cn(n,e),jn(e),i&8192){if(z=e.memoizedState!==null,(e.stateNode.isHidden=z)&&!Y&&(e.mode&1)!==0)for(oe=e,Y=e.child;Y!==null;){for(J=oe=Y;oe!==null;){switch(q=oe,ae=q.child,q.tag){case 0:case 11:case 14:case 15:Ir(4,q,q.return);break;case 1:Xs(q,q.return);var ce=q.stateNode;if(typeof ce.componentWillUnmount=="function"){i=q,s=q.return;try{n=i,ce.props=n.memoizedProps,ce.state=n.memoizedState,ce.componentWillUnmount()}catch(ue){Ze(i,s,ue)}}break;case 5:Xs(q,q.return);break;case 22:if(q.memoizedState!==null){Id(J);continue}}ae!==null?(ae.return=q,oe=ae):Id(J)}Y=Y.sibling}e:for(Y=null,J=e;;){if(J.tag===5){if(Y===null){Y=J;try{o=J.stateNode,z?(d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(w=J.stateNode,C=J.memoizedProps.style,h=C!=null&&C.hasOwnProperty("display")?C.display:null,w.style.display=Ps("display",h))}catch(ue){Ze(e,e.return,ue)}}}else if(J.tag===6){if(Y===null)try{J.stateNode.nodeValue=z?"":J.memoizedProps}catch(ue){Ze(e,e.return,ue)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===e)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===e)break e;for(;J.sibling===null;){if(J.return===null||J.return===e)break e;Y===J&&(Y=null),J=J.return}Y===J&&(Y=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:cn(n,e),jn(e),i&4&&Od(e);break;case 21:break;default:cn(n,e),jn(e)}}function jn(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Dd(s)){var i=s;break e}s=s.return}throw Error(l(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(ds(o,""),i.flags&=-33);var d=Ld(e);po(e,d,o);break;case 3:case 4:var h=i.stateNode.containerInfo,w=Ld(e);fo(e,w,h);break;default:throw Error(l(161))}}catch(C){Ze(e,e.return,C)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wh(e,n,s){oe=e,$d(e)}function $d(e,n,s){for(var i=(e.mode&1)!==0;oe!==null;){var o=oe,d=o.child;if(o.tag===22&&i){var h=o.memoizedState!==null||nl;if(!h){var w=o.alternate,C=w!==null&&w.memoizedState!==null||bt;w=nl;var z=bt;if(nl=h,(bt=C)&&!z)for(oe=o;oe!==null;)h=oe,C=h.child,h.tag===22&&h.memoizedState!==null?Ud(o):C!==null?(C.return=h,oe=C):Ud(o);for(;d!==null;)oe=d,$d(d),d=d.sibling;oe=o,nl=w,bt=z}zd(e)}else(o.subtreeFlags&8772)!==0&&d!==null?(d.return=o,oe=d):zd(e)}}function zd(e){for(;oe!==null;){var n=oe;if((n.flags&8772)!==0){var s=n.alternate;try{if((n.flags&8772)!==0)switch(n.tag){case 0:case 11:case 15:bt||sl(5,n);break;case 1:var i=n.stateNode;if(n.flags&4&&!bt)if(s===null)i.componentDidMount();else{var o=n.elementType===n.type?s.memoizedProps:ln(n.type,s.memoizedProps);i.componentDidUpdate(o,s.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&Iu(n,d,i);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}Iu(n,h,s)}break;case 5:var w=n.stateNode;if(s===null&&n.flags&4){s=w;var C=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&s.focus();break;case"img":C.src&&(s.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var z=n.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var J=Y.dehydrated;J!==null&&vr(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}bt||n.flags&512&&mo(n)}catch(q){Ze(n,n.return,q)}}if(n===e){oe=null;break}if(s=n.sibling,s!==null){s.return=n.return,oe=s;break}oe=n.return}}function Id(e){for(;oe!==null;){var n=oe;if(n===e){oe=null;break}var s=n.sibling;if(s!==null){s.return=n.return,oe=s;break}oe=n.return}}function Ud(e){for(;oe!==null;){var n=oe;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{sl(4,n)}catch(C){Ze(n,s,C)}break;case 1:var i=n.stateNode;if(typeof i.componentDidMount=="function"){var o=n.return;try{i.componentDidMount()}catch(C){Ze(n,o,C)}}var d=n.return;try{mo(n)}catch(C){Ze(n,d,C)}break;case 5:var h=n.return;try{mo(n)}catch(C){Ze(n,h,C)}}}catch(C){Ze(n,n.return,C)}if(n===e){oe=null;break}var w=n.sibling;if(w!==null){w.return=n.return,oe=w;break}oe=n.return}}var Nh=Math.ceil,rl=H.ReactCurrentDispatcher,ho=H.ReactCurrentOwner,Qt=H.ReactCurrentBatchConfig,Pe=0,ut=null,st=null,ht=0,zt=0,Zs=Yn(0),lt=0,Ur=null,Ns=0,al=0,xo=0,Vr=null,Bt=null,go=0,er=1/0,Rn=null,ll=!1,yo=null,ts=null,il=!1,ns=null,ol=0,Hr=0,vo=null,cl=-1,ul=0;function St(){return(Pe&6)!==0?et():cl!==-1?cl:cl=et()}function ss(e){return(e.mode&1)===0?1:(Pe&2)!==0&&ht!==0?ht&-ht:ah.transition!==null?(ul===0&&(ul=Lc()),ul):(e=Me,e!==0||(e=window.event,e=e===void 0?16:Hc(e.type)),e)}function un(e,n,s,i){if(50<Hr)throw Hr=0,vo=null,Error(l(185));pr(e,s,i),((Pe&2)===0||e!==ut)&&(e===ut&&((Pe&2)===0&&(al|=s),lt===4&&rs(e,ht)),Pt(e,i),s===1&&Pe===0&&(n.mode&1)===0&&(er=et()+500,Ma&&Jn()))}function Pt(e,n){var s=e.callbackNode;ap(e,n);var i=va(e,e===ut?ht:0);if(i===0)s!==null&&Pc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=i&-i,e.callbackPriority!==n){if(s!=null&&Pc(s),n===1)e.tag===0?rh(Hd.bind(null,e)):Au(Hd.bind(null,e)),eh(function(){(Pe&6)===0&&Jn()}),s=null;else{switch(Tc(i)){case 1:s=Jl;break;case 4:s=Rc;break;case 16:s=ha;break;case 536870912:s=Dc;break;default:s=ha}s=Xd(s,Vd.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Vd(e,n){if(cl=-1,ul=0,(Pe&6)!==0)throw Error(l(327));var s=e.callbackNode;if(tr()&&e.callbackNode!==s)return null;var i=va(e,e===ut?ht:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||n)n=dl(e,i);else{n=i;var o=Pe;Pe|=2;var d=qd();(ut!==e||ht!==n)&&(Rn=null,er=et()+500,Es(e,n));do try{Ch();break}catch(w){Wd(e,w)}while(!0);Ti(),rl.current=d,Pe=o,st!==null?n=0:(ut=null,ht=0,n=lt)}if(n!==0){if(n===2&&(o=Xl(e),o!==0&&(i=o,n=jo(e,o))),n===1)throw s=Ur,Es(e,0),rs(e,i),Pt(e,et()),s;if(n===6)rs(e,i);else{if(o=e.current.alternate,(i&30)===0&&!bh(o)&&(n=dl(e,i),n===2&&(d=Xl(e),d!==0&&(i=d,n=jo(e,d))),n===1))throw s=Ur,Es(e,0),rs(e,i),Pt(e,et()),s;switch(e.finishedWork=o,e.finishedLanes=i,n){case 0:case 1:throw Error(l(345));case 2:Cs(e,Bt,Rn);break;case 3:if(rs(e,i),(i&130023424)===i&&(n=go+500-et(),10<n)){if(va(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){St(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Ci(Cs.bind(null,e,Bt,Rn),n);break}Cs(e,Bt,Rn);break;case 4:if(rs(e,i),(i&4194240)===i)break;for(n=e.eventTimes,o=-1;0<i;){var h=31-sn(i);d=1<<h,h=n[h],h>o&&(o=h),i&=~d}if(i=o,i=et()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Nh(i/1960))-i,10<i){e.timeoutHandle=Ci(Cs.bind(null,e,Bt,Rn),i);break}Cs(e,Bt,Rn);break;case 5:Cs(e,Bt,Rn);break;default:throw Error(l(329))}}}return Pt(e,et()),e.callbackNode===s?Vd.bind(null,e):null}function jo(e,n){var s=Vr;return e.current.memoizedState.isDehydrated&&(Es(e,n).flags|=256),e=dl(e,n),e!==2&&(n=Bt,Bt=s,n!==null&&wo(n)),e}function wo(e){Bt===null?Bt=e:Bt.push.apply(Bt,e)}function bh(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var i=0;i<s.length;i++){var o=s[i],d=o.getSnapshot;o=o.value;try{if(!rn(d(),o))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function rs(e,n){for(n&=~xo,n&=~al,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-sn(n),i=1<<s;e[s]=-1,n&=~i}}function Hd(e){if((Pe&6)!==0)throw Error(l(327));tr();var n=va(e,0);if((n&1)===0)return Pt(e,et()),null;var s=dl(e,n);if(e.tag!==0&&s===2){var i=Xl(e);i!==0&&(n=i,s=jo(e,i))}if(s===1)throw s=Ur,Es(e,0),rs(e,n),Pt(e,et()),s;if(s===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Cs(e,Bt,Rn),Pt(e,et()),null}function No(e,n){var s=Pe;Pe|=1;try{return e(n)}finally{Pe=s,Pe===0&&(er=et()+500,Ma&&Jn())}}function bs(e){ns!==null&&ns.tag===0&&(Pe&6)===0&&tr();var n=Pe;Pe|=1;var s=Qt.transition,i=Me;try{if(Qt.transition=null,Me=1,e)return e()}finally{Me=i,Qt.transition=s,Pe=n,(Pe&6)===0&&Jn()}}function bo(){zt=Zs.current,He(Zs)}function Es(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,Zp(s)),st!==null)for(s=st.return;s!==null;){var i=s;switch(Bi(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ta();break;case 3:Gs(),He(_t),He(jt),Hi();break;case 5:Ui(i);break;case 4:Gs();break;case 13:He(Ge);break;case 19:He(Ge);break;case 10:Oi(i.type._context);break;case 22:case 23:bo()}s=s.return}if(ut=e,st=e=as(e.current,null),ht=zt=n,lt=0,Ur=null,xo=al=Ns=0,Bt=Vr=null,vs!==null){for(n=0;n<vs.length;n++)if(s=vs[n],i=s.interleaved,i!==null){s.interleaved=null;var o=i.next,d=s.pending;if(d!==null){var h=d.next;d.next=o,i.next=h}s.pending=i}vs=null}return e}function Wd(e,n){do{var s=st;try{if(Ti(),Qa.current=Xa,Ya){for(var i=Je.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Ya=!1}if(ws=0,ct=at=Je=null,Tr=!1,Or=0,ho.current=null,s===null||s.return===null){lt=1,Ur=n,st=null;break}e:{var d=e,h=s.return,w=s,C=n;if(n=ht,w.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var z=C,Y=w,J=Y.tag;if((Y.mode&1)===0&&(J===0||J===11||J===15)){var q=Y.alternate;q?(Y.updateQueue=q.updateQueue,Y.memoizedState=q.memoizedState,Y.lanes=q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var ae=xd(h);if(ae!==null){ae.flags&=-257,gd(ae,h,w,d,n),ae.mode&1&&hd(d,z,n),n=ae,C=z;var ce=n.updateQueue;if(ce===null){var ue=new Set;ue.add(C),n.updateQueue=ue}else ce.add(C);break e}else{if((n&1)===0){hd(d,z,n),Eo();break e}C=Error(l(426))}}else if(qe&&w.mode&1){var tt=xd(h);if(tt!==null){(tt.flags&65536)===0&&(tt.flags|=256),gd(tt,h,w,d,n),Di(Js(C,w));break e}}d=C=Js(C,w),lt!==4&&(lt=2),Vr===null?Vr=[d]:Vr.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var D=fd(d,C,n);zu(d,D);break e;case 1:w=C;var _=d.type,T=d.stateNode;if((d.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ts===null||!ts.has(T)))){d.flags|=65536,n&=-n,d.lanes|=n;var te=pd(d,w,n);zu(d,te);break e}}d=d.return}while(d!==null)}Qd(s)}catch(de){n=de,st===s&&s!==null&&(st=s=s.return);continue}break}while(!0)}function qd(){var e=rl.current;return rl.current=Xa,e===null?Xa:e}function Eo(){(lt===0||lt===3||lt===2)&&(lt=4),ut===null||(Ns&268435455)===0&&(al&268435455)===0||rs(ut,ht)}function dl(e,n){var s=Pe;Pe|=2;var i=qd();(ut!==e||ht!==n)&&(Rn=null,Es(e,n));do try{Eh();break}catch(o){Wd(e,o)}while(!0);if(Ti(),Pe=s,rl.current=i,st!==null)throw Error(l(261));return ut=null,ht=0,lt}function Eh(){for(;st!==null;)Kd(st)}function Ch(){for(;st!==null&&!Gf();)Kd(st)}function Kd(e){var n=Jd(e.alternate,e,zt);e.memoizedProps=e.pendingProps,n===null?Qd(e):st=n,ho.current=null}function Qd(e){var n=e;do{var s=n.alternate;if(e=n.return,(n.flags&32768)===0){if(s=gh(s,n,zt),s!==null){st=s;return}}else{if(s=yh(s,n),s!==null){s.flags&=32767,st=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{lt=6,st=null;return}}if(n=n.sibling,n!==null){st=n;return}st=n=e}while(n!==null);lt===0&&(lt=5)}function Cs(e,n,s){var i=Me,o=Qt.transition;try{Qt.transition=null,Me=1,kh(e,n,s,i)}finally{Qt.transition=o,Me=i}return null}function kh(e,n,s,i){do tr();while(ns!==null);if((Pe&6)!==0)throw Error(l(327));s=e.finishedWork;var o=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(lp(e,d),e===ut&&(st=ut=null,ht=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||il||(il=!0,Xd(ha,function(){return tr(),null})),d=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||d){d=Qt.transition,Qt.transition=null;var h=Me;Me=1;var w=Pe;Pe|=4,ho.current=null,jh(e,s),Md(s,e),qp(bi),Na=!!Ni,bi=Ni=null,e.current=s,wh(s),Jf(),Pe=w,Me=h,Qt.transition=d}else e.current=s;if(il&&(il=!1,ns=e,ol=o),d=e.pendingLanes,d===0&&(ts=null),ep(s.stateNode),Pt(e,et()),n!==null)for(i=e.onRecoverableError,s=0;s<n.length;s++)o=n[s],i(o.value,{componentStack:o.stack,digest:o.digest});if(ll)throw ll=!1,e=yo,yo=null,e;return(ol&1)!==0&&e.tag!==0&&tr(),d=e.pendingLanes,(d&1)!==0?e===vo?Hr++:(Hr=0,vo=e):Hr=0,Jn(),null}function tr(){if(ns!==null){var e=Tc(ol),n=Qt.transition,s=Me;try{if(Qt.transition=null,Me=16>e?16:e,ns===null)var i=!1;else{if(e=ns,ns=null,ol=0,(Pe&6)!==0)throw Error(l(331));var o=Pe;for(Pe|=4,oe=e.current;oe!==null;){var d=oe,h=d.child;if((oe.flags&16)!==0){var w=d.deletions;if(w!==null){for(var C=0;C<w.length;C++){var z=w[C];for(oe=z;oe!==null;){var Y=oe;switch(Y.tag){case 0:case 11:case 15:Ir(8,Y,d)}var J=Y.child;if(J!==null)J.return=Y,oe=J;else for(;oe!==null;){Y=oe;var q=Y.sibling,ae=Y.return;if(Rd(Y),Y===z){oe=null;break}if(q!==null){q.return=ae,oe=q;break}oe=ae}}}var ce=d.alternate;if(ce!==null){var ue=ce.child;if(ue!==null){ce.child=null;do{var tt=ue.sibling;ue.sibling=null,ue=tt}while(ue!==null)}}oe=d}}if((d.subtreeFlags&2064)!==0&&h!==null)h.return=d,oe=h;else e:for(;oe!==null;){if(d=oe,(d.flags&2048)!==0)switch(d.tag){case 0:case 11:case 15:Ir(9,d,d.return)}var D=d.sibling;if(D!==null){D.return=d.return,oe=D;break e}oe=d.return}}var _=e.current;for(oe=_;oe!==null;){h=oe;var T=h.child;if((h.subtreeFlags&2064)!==0&&T!==null)T.return=h,oe=T;else e:for(h=_;oe!==null;){if(w=oe,(w.flags&2048)!==0)try{switch(w.tag){case 0:case 11:case 15:sl(9,w)}}catch(de){Ze(w,w.return,de)}if(w===h){oe=null;break e}var te=w.sibling;if(te!==null){te.return=w.return,oe=te;break e}oe=w.return}}if(Pe=o,Jn(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(xa,e)}catch{}i=!0}return i}finally{Me=s,Qt.transition=n}}return!1}function Yd(e,n,s){n=Js(s,n),n=fd(e,n,1),e=Zn(e,n,1),n=St(),e!==null&&(pr(e,1,n),Pt(e,n))}function Ze(e,n,s){if(e.tag===3)Yd(e,e,s);else for(;n!==null;){if(n.tag===3){Yd(n,e,s);break}else if(n.tag===1){var i=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ts===null||!ts.has(i))){e=Js(s,e),e=pd(n,e,1),n=Zn(n,e,1),e=St(),n!==null&&(pr(n,1,e),Pt(n,e));break}}n=n.return}}function Sh(e,n,s){var i=e.pingCache;i!==null&&i.delete(n),n=St(),e.pingedLanes|=e.suspendedLanes&s,ut===e&&(ht&s)===s&&(lt===4||lt===3&&(ht&130023424)===ht&&500>et()-go?Es(e,0):xo|=s),Pt(e,n)}function Gd(e,n){n===0&&((e.mode&1)===0?n=1:(n=ya,ya<<=1,(ya&130023424)===0&&(ya=4194304)));var s=St();e=Fn(e,n),e!==null&&(pr(e,n,s),Pt(e,s))}function _h(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gd(e,s)}function Ah(e,n){var s=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(s=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(l(314))}i!==null&&i.delete(n),Gd(e,s)}var Jd;Jd=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||_t.current)Ft=!0;else{if((e.lanes&s)===0&&(n.flags&128)===0)return Ft=!1,xh(e,n,s);Ft=(e.flags&131072)!==0}else Ft=!1,qe&&(n.flags&1048576)!==0&&Fu(n,za,n.index);switch(n.lanes=0,n.tag){case 2:var i=n.type;tl(e,n),e=n.pendingProps;var o=Vs(n,jt.current);Ys(n,s),o=Ki(null,n,i,e,o,s);var d=Qi();return n.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,At(i)?(d=!0,Oa(n)):d=!1,n.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,zi(n),o.updater=Za,n.stateNode=o,o._reactInternals=n,eo(n,i,e,s),n=ro(null,n,i,!0,d,s)):(n.tag=0,qe&&d&&Fi(n),kt(null,n,o,s),n=n.child),n;case 16:i=n.elementType;e:{switch(tl(e,n),e=n.pendingProps,o=i._init,i=o(i._payload),n.type=i,o=n.tag=Bh(i),e=ln(i,e),o){case 0:n=so(null,n,i,e,s);break e;case 1:n=bd(null,n,i,e,s);break e;case 11:n=yd(null,n,i,e,s);break e;case 14:n=vd(null,n,i,ln(i.type,e),s);break e}throw Error(l(306,i,""))}return n;case 0:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ln(i,o),so(e,n,i,o,s);case 1:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ln(i,o),bd(e,n,i,o,s);case 3:e:{if(Ed(n),e===null)throw Error(l(387));i=n.pendingProps,d=n.memoizedState,o=d.element,$u(e,n),qa(n,i,null,s);var h=n.memoizedState;if(i=h.element,d.isDehydrated)if(d={element:i,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){o=Js(Error(l(423)),n),n=Cd(e,n,i,s,o);break e}else if(i!==o){o=Js(Error(l(424)),n),n=Cd(e,n,i,s,o);break e}else for($t=Qn(n.stateNode.containerInfo.firstChild),Mt=n,qe=!0,an=null,s=Ou(n,null,i,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(qs(),i===o){n=Pn(e,n,s);break e}kt(e,n,i,s)}n=n.child}return n;case 5:return Uu(n),e===null&&Ri(n),i=n.type,o=n.pendingProps,d=e!==null?e.memoizedProps:null,h=o.children,Ei(i,o)?h=null:d!==null&&Ei(i,d)&&(n.flags|=32),Nd(e,n),kt(e,n,h,s),n.child;case 6:return e===null&&Ri(n),null;case 13:return kd(e,n,s);case 4:return Ii(n,n.stateNode.containerInfo),i=n.pendingProps,e===null?n.child=Ks(n,null,i,s):kt(e,n,i,s),n.child;case 11:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ln(i,o),yd(e,n,i,o,s);case 7:return kt(e,n,n.pendingProps,s),n.child;case 8:return kt(e,n,n.pendingProps.children,s),n.child;case 12:return kt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(i=n.type._context,o=n.pendingProps,d=n.memoizedProps,h=o.value,Ie(Va,i._currentValue),i._currentValue=h,d!==null)if(rn(d.value,h)){if(d.children===o.children&&!_t.current){n=Pn(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var w=d.dependencies;if(w!==null){h=d.child;for(var C=w.firstContext;C!==null;){if(C.context===i){if(d.tag===1){C=Bn(-1,s&-s),C.tag=2;var z=d.updateQueue;if(z!==null){z=z.shared;var Y=z.pending;Y===null?C.next=C:(C.next=Y.next,Y.next=C),z.pending=C}}d.lanes|=s,C=d.alternate,C!==null&&(C.lanes|=s),Mi(d.return,s,n),w.lanes|=s;break}C=C.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(l(341));h.lanes|=s,w=h.alternate,w!==null&&(w.lanes|=s),Mi(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}kt(e,n,o.children,s),n=n.child}return n;case 9:return o=n.type,i=n.pendingProps.children,Ys(n,s),o=qt(o),i=i(o),n.flags|=1,kt(e,n,i,s),n.child;case 14:return i=n.type,o=ln(i,n.pendingProps),o=ln(i.type,o),vd(e,n,i,o,s);case 15:return jd(e,n,n.type,n.pendingProps,s);case 17:return i=n.type,o=n.pendingProps,o=n.elementType===i?o:ln(i,o),tl(e,n),n.tag=1,At(i)?(e=!0,Oa(n)):e=!1,Ys(n,s),dd(n,i,o),eo(n,i,o,s),ro(null,n,i,!0,e,s);case 19:return _d(e,n,s);case 22:return wd(e,n,s)}throw Error(l(156,n.tag))};function Xd(e,n){return Bc(e,n)}function Fh(e,n,s,i){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(e,n,s,i){return new Fh(e,n,s,i)}function Co(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bh(e){if(typeof e=="function")return Co(e)?1:0;if(e!=null){if(e=e.$$typeof,e===De)return 11;if(e===Ae)return 14}return 2}function as(e,n){var s=e.alternate;return s===null?(s=Yt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ml(e,n,s,i,o,d){var h=2;if(i=e,typeof e=="function")Co(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case W:return ks(s.children,o,d,n);case ye:h=8,o|=8;break;case ee:return e=Yt(12,s,n,o|2),e.elementType=ee,e.lanes=d,e;case _e:return e=Yt(13,s,n,o),e.elementType=_e,e.lanes=d,e;case V:return e=Yt(19,s,n,o),e.elementType=V,e.lanes=d,e;case Se:return fl(s,o,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ge:h=10;break e;case We:h=9;break e;case De:h=11;break e;case Ae:h=14;break e;case be:h=16,i=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return n=Yt(h,s,n,o),n.elementType=e,n.type=i,n.lanes=d,n}function ks(e,n,s,i){return e=Yt(7,e,i,n),e.lanes=s,e}function fl(e,n,s,i){return e=Yt(22,e,i,n),e.elementType=Se,e.lanes=s,e.stateNode={isHidden:!1},e}function ko(e,n,s){return e=Yt(6,e,null,n),e.lanes=s,e}function So(e,n,s){return n=Yt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Ph(e,n,s,i,o){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function _o(e,n,s,i,o,d,h,w,C){return e=new Ph(e,n,s,w,C),n===1?(n=1,d===!0&&(n|=8)):n=0,d=Yt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:i,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},zi(d),e}function Rh(e,n,s){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:i==null?null:""+i,children:e,containerInfo:n,implementation:s}}function Zd(e){if(!e)return Gn;e=e._reactInternals;e:{if(ps(e)!==e||e.tag!==1)throw Error(l(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(At(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(l(171))}if(e.tag===1){var s=e.type;if(At(s))return Su(e,s,n)}return n}function em(e,n,s,i,o,d,h,w,C){return e=_o(s,i,!0,e,o,d,h,w,C),e.context=Zd(null),s=e.current,i=St(),o=ss(s),d=Bn(i,o),d.callback=n??null,Zn(s,d,o),e.current.lanes=o,pr(e,o,i),Pt(e,i),e}function pl(e,n,s,i){var o=n.current,d=St(),h=ss(o);return s=Zd(s),n.context===null?n.context=s:n.pendingContext=s,n=Bn(d,h),n.payload={element:e},i=i===void 0?null:i,i!==null&&(n.callback=i),e=Zn(o,n,h),e!==null&&(un(e,o,h,d),Wa(e,o,h)),h}function hl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tm(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ao(e,n){tm(e,n),(e=e.alternate)&&tm(e,n)}function Dh(){return null}var nm=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fo(e){this._internalRoot=e}xl.prototype.render=Fo.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(l(409));pl(e,n,null,null)},xl.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;bs(function(){pl(null,e,null,null)}),n[kn]=null}};function xl(e){this._internalRoot=e}xl.prototype.unstable_scheduleHydration=function(e){if(e){var n=$c();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Wn.length&&n!==0&&n<Wn[s].priority;s++);Wn.splice(s,0,e),s===0&&Uc(e)}};function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sm(){}function Lh(e,n,s,i,o){if(o){if(typeof i=="function"){var d=i;i=function(){var z=hl(h);d.call(z)}}var h=em(n,i,e,0,null,!1,!1,"",sm);return e._reactRootContainer=h,e[kn]=h.current,_r(e.nodeType===8?e.parentNode:e),bs(),h}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var w=i;i=function(){var z=hl(C);w.call(z)}}var C=_o(e,0,!1,null,null,!1,!1,"",sm);return e._reactRootContainer=C,e[kn]=C.current,_r(e.nodeType===8?e.parentNode:e),bs(function(){pl(n,C,s,i)}),C}function yl(e,n,s,i,o){var d=s._reactRootContainer;if(d){var h=d;if(typeof o=="function"){var w=o;o=function(){var C=hl(h);w.call(C)}}pl(n,h,e,o)}else h=Lh(s,n,e,o,i);return hl(h)}Oc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=fr(n.pendingLanes);s!==0&&(ei(n,s|1),Pt(n,et()),(Pe&6)===0&&(er=et()+500,Jn()))}break;case 13:bs(function(){var i=Fn(e,1);if(i!==null){var o=St();un(i,e,1,o)}}),Ao(e,1)}},ti=function(e){if(e.tag===13){var n=Fn(e,134217728);if(n!==null){var s=St();un(n,e,134217728,s)}Ao(e,134217728)}},Mc=function(e){if(e.tag===13){var n=ss(e),s=Fn(e,n);if(s!==null){var i=St();un(s,e,n,i)}Ao(e,n)}},$c=function(){return Me},zc=function(e,n){var s=Me;try{return Me=e,n()}finally{Me=s}},ot=function(e,n,s){switch(n){case"input":if(tn(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var i=s[n];if(i!==e&&i.form===e.form){var o=La(i);if(!o)throw Error(l(90));K(i),tn(i,o)}}}break;case"textarea":ua(e,s);break;case"select":n=s.value,n!=null&&Cn(e,!!s.multiple,n,!1)}},Ec=No,Cc=bs;var Th={usingClientEntryPoint:!1,Events:[Br,Is,La,Nc,bc,No]},Wr={findFiberByHostInstance:hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Oh={bundleType:Wr.bundleType,version:Wr.version,rendererPackageName:Wr.rendererPackageName,rendererConfig:Wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:H.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Ac(e),e===null?null:e.stateNode},findFiberByHostInstance:Wr.findFiberByHostInstance||Dh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vl.isDisabled&&vl.supportsFiber)try{xa=vl.inject(Oh),xn=vl}catch{}}return Rt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Th,Rt.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bo(n))throw Error(l(200));return Rh(e,n,null,s)},Rt.createRoot=function(e,n){if(!Bo(e))throw Error(l(299));var s=!1,i="",o=nm;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),n=_o(e,1,!1,null,null,s,!1,i,o),e[kn]=n.current,_r(e.nodeType===8?e.parentNode:e),new Fo(n)},Rt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Ac(n),e=e===null?null:e.stateNode,e},Rt.flushSync=function(e){return bs(e)},Rt.hydrate=function(e,n,s){if(!gl(n))throw Error(l(200));return yl(null,e,n,!0,s)},Rt.hydrateRoot=function(e,n,s){if(!Bo(e))throw Error(l(405));var i=s!=null&&s.hydratedSources||null,o=!1,d="",h=nm;if(s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=em(n,null,e,1,s??null,o,!1,d,h),e[kn]=n.current,_r(e),i)for(e=0;e<i.length;e++)s=i[e],o=s._getVersion,o=o(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,o]:n.mutableSourceEagerHydrationData.push(s,o);return new xl(n)},Rt.render=function(e,n,s){if(!gl(n))throw Error(l(200));return yl(null,e,n,!1,s)},Rt.unmountComponentAtNode=function(e){if(!gl(e))throw Error(l(40));return e._reactRootContainer?(bs(function(){yl(null,null,e,!1,function(){e._reactRootContainer=null,e[kn]=null})}),!0):!1},Rt.unstable_batchedUpdates=No,Rt.unstable_renderSubtreeIntoContainer=function(e,n,s,i){if(!gl(s))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return yl(e,n,s,!1,i)},Rt.version="18.3.1-next-f1338f8080-20240426",Rt}var dm;function qh(){if(dm)return Do.exports;dm=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(a){console.error(a)}}return r(),Do.exports=Wh(),Do.exports}var mm;function Kh(){if(mm)return jl;mm=1;var r=qh();return jl.createRoot=r.createRoot,jl.hydrateRoot=r.hydrateRoot,jl}var Qh=Kh(),g=lc();const qo=$h(g);let Yh={data:""},Gh=r=>{if(typeof window=="object"){let a=(r?r.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return a.nonce=window.__nonce__,a.parentNode||(r||document.head).appendChild(a),a.firstChild}return r||Yh},Jh=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Xh=/\/\*[^]*?\*\/|  +/g,fm=/\n+/g,is=(r,a)=>{let l="",c="",u="";for(let f in r){let m=r[f];f[0]=="@"?f[1]=="i"?l=f+" "+m+";":c+=f[1]=="f"?is(m,f):f+"{"+is(m,f[1]=="k"?"":a)+"}":typeof m=="object"?c+=is(m,a?a.replace(/([^,])+/g,p=>f.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,x=>/&/.test(x)?x.replace(/&/g,p):p?p+" "+x:x)):f):m!=null&&(f=/^--/.test(f)?f:f.replace(/[A-Z]/g,"-$&").toLowerCase(),u+=is.p?is.p(f,m):f+":"+m+";")}return l+(a&&u?a+"{"+u+"}":u)+c},Dn={},Um=r=>{if(typeof r=="object"){let a="";for(let l in r)a+=l+Um(r[l]);return a}return r},Zh=(r,a,l,c,u)=>{let f=Um(r),m=Dn[f]||(Dn[f]=(x=>{let v=0,j=11;for(;v<x.length;)j=101*j+x.charCodeAt(v++)>>>0;return"go"+j})(f));if(!Dn[m]){let x=f!==r?r:(v=>{let j,y,A=[{}];for(;j=Jh.exec(v.replace(Xh,""));)j[4]?A.shift():j[3]?(y=j[3].replace(fm," ").trim(),A.unshift(A[0][y]=A[0][y]||{})):A[0][j[1]]=j[2].replace(fm," ").trim();return A[0]})(r);Dn[m]=is(u?{["@keyframes "+m]:x}:x,l?"":"."+m)}let p=l&&Dn.g?Dn.g:null;return l&&(Dn.g=Dn[m]),((x,v,j,y)=>{y?v.data=v.data.replace(y,x):v.data.indexOf(x)===-1&&(v.data=j?x+v.data:v.data+x)})(Dn[m],a,c,p),m},ex=(r,a,l)=>r.reduce((c,u,f)=>{let m=a[f];if(m&&m.call){let p=m(l),x=p&&p.props&&p.props.className||/^go/.test(p)&&p;m=x?"."+x:p&&typeof p=="object"?p.props?"":is(p,""):p===!1?"":p}return c+u+(m??"")},"");function Ol(r){let a=this||{},l=r.call?r(a.p):r;return Zh(l.unshift?l.raw?ex(l,[].slice.call(arguments,1),a.p):l.reduce((c,u)=>Object.assign(c,u&&u.call?u(a.p):u),{}):l,Gh(a.target),a.g,a.o,a.k)}let Vm,Ko,Qo;Ol.bind({g:1});let Mn=Ol.bind({k:1});function tx(r,a,l,c){is.p=a,Vm=r,Ko=l,Qo=c}function cs(r,a){let l=this||{};return function(){let c=arguments;function u(f,m){let p=Object.assign({},f),x=p.className||u.className;l.p=Object.assign({theme:Ko&&Ko()},p),l.o=/ *go\d+/.test(x),p.className=Ol.apply(l,c)+(x?" "+x:"");let v=r;return r[0]&&(v=p.as||r,delete p.as),Qo&&v[0]&&Qo(p),Vm(v,p)}return u}}var nx=r=>typeof r=="function",Rl=(r,a)=>nx(r)?r(a):r,sx=(()=>{let r=0;return()=>(++r).toString()})(),Hm=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let a=matchMedia("(prefers-reduced-motion: reduce)");r=!a||a.matches}return r}})(),rx=20,ic="default",Wm=(r,a)=>{let{toastLimit:l}=r.settings;switch(a.type){case 0:return{...r,toasts:[a.toast,...r.toasts].slice(0,l)};case 1:return{...r,toasts:r.toasts.map(m=>m.id===a.toast.id?{...m,...a.toast}:m)};case 2:let{toast:c}=a;return Wm(r,{type:r.toasts.find(m=>m.id===c.id)?1:0,toast:c});case 3:let{toastId:u}=a;return{...r,toasts:r.toasts.map(m=>m.id===u||u===void 0?{...m,dismissed:!0,visible:!1}:m)};case 4:return a.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(m=>m.id!==a.toastId)};case 5:return{...r,pausedAt:a.time};case 6:let f=a.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(m=>({...m,pauseDuration:m.pauseDuration+f}))}}},Cl=[],qm={toasts:[],pausedAt:void 0,settings:{toastLimit:rx}},Nn={},Km=(r,a=ic)=>{Nn[a]=Wm(Nn[a]||qm,r),Cl.forEach(([l,c])=>{l===a&&c(Nn[a])})},Qm=r=>Object.keys(Nn).forEach(a=>Km(r,a)),ax=r=>Object.keys(Nn).find(a=>Nn[a].toasts.some(l=>l.id===r)),Ml=(r=ic)=>a=>{Km(a,r)},lx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ix=(r={},a=ic)=>{let[l,c]=g.useState(Nn[a]||qm),u=g.useRef(Nn[a]);g.useEffect(()=>(u.current!==Nn[a]&&c(Nn[a]),Cl.push([a,c]),()=>{let m=Cl.findIndex(([p])=>p===a);m>-1&&Cl.splice(m,1)}),[a]);let f=l.toasts.map(m=>{var p,x,v;return{...r,...r[m.type],...m,removeDelay:m.removeDelay||((p=r[m.type])==null?void 0:p.removeDelay)||r?.removeDelay,duration:m.duration||((x=r[m.type])==null?void 0:x.duration)||r?.duration||lx[m.type],style:{...r.style,...(v=r[m.type])==null?void 0:v.style,...m.style}}});return{...l,toasts:f}},ox=(r,a="blank",l)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:a,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...l,id:l?.id||sx()}),Xr=r=>(a,l)=>{let c=ox(a,r,l);return Ml(c.toasterId||ax(c.id))({type:2,toast:c}),c.id},it=(r,a)=>Xr("blank")(r,a);it.error=Xr("error");it.success=Xr("success");it.loading=Xr("loading");it.custom=Xr("custom");it.dismiss=(r,a)=>{let l={type:3,toastId:r};a?Ml(a)(l):Qm(l)};it.dismissAll=r=>it.dismiss(void 0,r);it.remove=(r,a)=>{let l={type:4,toastId:r};a?Ml(a)(l):Qm(l)};it.removeAll=r=>it.remove(void 0,r);it.promise=(r,a,l)=>{let c=it.loading(a.loading,{...l,...l?.loading});return typeof r=="function"&&(r=r()),r.then(u=>{let f=a.success?Rl(a.success,u):void 0;return f?it.success(f,{id:c,...l,...l?.success}):it.dismiss(c),u}).catch(u=>{let f=a.error?Rl(a.error,u):void 0;f?it.error(f,{id:c,...l,...l?.error}):it.dismiss(c)}),r};var cx=1e3,ux=(r,a="default")=>{let{toasts:l,pausedAt:c}=ix(r,a),u=g.useRef(new Map).current,f=g.useCallback((y,A=cx)=>{if(u.has(y))return;let O=setTimeout(()=>{u.delete(y),m({type:4,toastId:y})},A);u.set(y,O)},[]);g.useEffect(()=>{if(c)return;let y=Date.now(),A=l.map(O=>{if(O.duration===1/0)return;let k=(O.duration||0)+O.pauseDuration-(y-O.createdAt);if(k<0){O.visible&&it.dismiss(O.id);return}return setTimeout(()=>it.dismiss(O.id,a),k)});return()=>{A.forEach(O=>O&&clearTimeout(O))}},[l,c,a]);let m=g.useCallback(Ml(a),[a]),p=g.useCallback(()=>{m({type:5,time:Date.now()})},[m]),x=g.useCallback((y,A)=>{m({type:1,toast:{id:y,height:A}})},[m]),v=g.useCallback(()=>{c&&m({type:6,time:Date.now()})},[c,m]),j=g.useCallback((y,A)=>{let{reverseOrder:O=!1,gutter:k=8,defaultPosition:P}=A||{},F=l.filter(S=>(S.position||P)===(y.position||P)&&S.height),R=F.findIndex(S=>S.id===y.id),L=F.filter((S,H)=>H<R&&S.visible).length;return F.filter(S=>S.visible).slice(...O?[L+1]:[0,L]).reduce((S,H)=>S+(H.height||0)+k,0)},[l]);return g.useEffect(()=>{l.forEach(y=>{if(y.dismissed)f(y.id,y.removeDelay);else{let A=u.get(y.id);A&&(clearTimeout(A),u.delete(y.id))}})},[l,f]),{toasts:l,handlers:{updateHeight:x,startPause:p,endPause:v,calculateOffset:j}}},dx=Mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,mx=Mn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fx=Mn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,px=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${dx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${mx} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${fx} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,hx=Mn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,xx=cs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${hx} 1s linear infinite;
`,gx=Mn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,yx=Mn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,vx=cs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${gx} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${yx} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,jx=cs("div")`
  position: absolute;
`,wx=cs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Nx=Mn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,bx=cs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Nx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Ex=({toast:r})=>{let{icon:a,type:l,iconTheme:c}=r;return a!==void 0?typeof a=="string"?g.createElement(bx,null,a):a:l==="blank"?null:g.createElement(wx,null,g.createElement(xx,{...c}),l!=="loading"&&g.createElement(jx,null,l==="error"?g.createElement(px,{...c}):g.createElement(vx,{...c})))},Cx=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,kx=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,Sx="0%{opacity:0;} 100%{opacity:1;}",_x="0%{opacity:1;} 100%{opacity:0;}",Ax=cs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Fx=cs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Bx=(r,a)=>{let l=r.includes("top")?1:-1,[c,u]=Hm()?[Sx,_x]:[Cx(l),kx(l)];return{animation:a?`${Mn(c)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Mn(u)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Px=g.memo(({toast:r,position:a,style:l,children:c})=>{let u=r.height?Bx(r.position||a||"top-center",r.visible):{opacity:0},f=g.createElement(Ex,{toast:r}),m=g.createElement(Fx,{...r.ariaProps},Rl(r.message,r));return g.createElement(Ax,{className:r.className,style:{...u,...l,...r.style}},typeof c=="function"?c({icon:f,message:m}):g.createElement(g.Fragment,null,f,m))});tx(g.createElement);var Rx=({id:r,className:a,style:l,onHeightUpdate:c,children:u})=>{let f=g.useCallback(m=>{if(m){let p=()=>{let x=m.getBoundingClientRect().height;c(r,x)};p(),new MutationObserver(p).observe(m,{subtree:!0,childList:!0,characterData:!0})}},[r,c]);return g.createElement("div",{ref:f,className:a,style:l},u)},Dx=(r,a)=>{let l=r.includes("top"),c=l?{top:0}:{bottom:0},u=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Hm()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${a*(l?1:-1)}px)`,...c,...u}},Lx=Ol`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,wl=16,Tx=({reverseOrder:r,position:a="top-center",toastOptions:l,gutter:c,children:u,toasterId:f,containerStyle:m,containerClassName:p})=>{let{toasts:x,handlers:v}=ux(l,f);return g.createElement("div",{"data-rht-toaster":f||"",style:{position:"fixed",zIndex:9999,top:wl,left:wl,right:wl,bottom:wl,pointerEvents:"none",...m},className:p,onMouseEnter:v.startPause,onMouseLeave:v.endPause},x.map(j=>{let y=j.position||a,A=v.calculateOffset(j,{reverseOrder:r,gutter:c,defaultPosition:a}),O=Dx(y,A);return g.createElement(Rx,{id:j.id,key:j.id,onHeightUpdate:v.updateHeight,className:j.visible?Lx:"",style:O},j.type==="custom"?Rl(j.message,j):u?u(j):g.createElement(Px,{toast:j,position:y}))}))},Q=it;/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var pm="popstate";function Ox(r={}){function a(c,u){let{pathname:f,search:m,hash:p}=c.location;return Yo("",{pathname:f,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function l(c,u){return typeof u=="string"?u:Gr(u)}return $x(a,l,null,r)}function Ye(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Xt(r,a){if(!r){typeof console<"u"&&console.warn(a);try{throw new Error(a)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function hm(r,a){return{usr:r.state,key:r.key,idx:a}}function Yo(r,a,l=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof a=="string"?sr(a):a,state:l,key:a&&a.key||c||Mx()}}function Gr({pathname:r="/",search:a="",hash:l=""}){return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),l&&l!=="#"&&(r+=l.charAt(0)==="#"?l:"#"+l),r}function sr(r){let a={};if(r){let l=r.indexOf("#");l>=0&&(a.hash=r.substring(l),r=r.substring(0,l));let c=r.indexOf("?");c>=0&&(a.search=r.substring(c),r=r.substring(0,c)),r&&(a.pathname=r)}return a}function $x(r,a,l,c={}){let{window:u=document.defaultView,v5Compat:f=!1}=c,m=u.history,p="POP",x=null,v=j();v==null&&(v=0,m.replaceState({...m.state,idx:v},""));function j(){return(m.state||{idx:null}).idx}function y(){p="POP";let F=j(),R=F==null?null:F-v;v=F,x&&x({action:p,location:P.location,delta:R})}function A(F,R){p="PUSH";let L=Yo(P.location,F,R);v=j()+1;let S=hm(L,v),H=P.createHref(L);try{m.pushState(S,"",H)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;u.location.assign(H)}f&&x&&x({action:p,location:P.location,delta:1})}function O(F,R){p="REPLACE";let L=Yo(P.location,F,R);v=j();let S=hm(L,v),H=P.createHref(L);m.replaceState(S,"",H),f&&x&&x({action:p,location:P.location,delta:0})}function k(F){return zx(F)}let P={get action(){return p},get location(){return r(u,m)},listen(F){if(x)throw new Error("A history only accepts one active listener");return u.addEventListener(pm,y),x=F,()=>{u.removeEventListener(pm,y),x=null}},createHref(F){return a(u,F)},createURL:k,encodeLocation(F){let R=k(F);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:A,replace:O,go(F){return m.go(F)}};return P}function zx(r,a=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ye(l,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:Gr(r);return c=c.replace(/ $/,"%20"),!a&&c.startsWith("//")&&(c=l+c),new URL(c,l)}function Ym(r,a,l="/"){return Ix(r,a,l,!1)}function Ix(r,a,l,c){let u=typeof a=="string"?sr(a):a,f=$n(u.pathname||"/",l);if(f==null)return null;let m=Gm(r);Ux(m);let p=null;for(let x=0;p==null&&x<m.length;++x){let v=Zx(f);p=Jx(m[x],v,c)}return p}function Gm(r,a=[],l=[],c="",u=!1){let f=(m,p,x=u,v)=>{let j={relativePath:v===void 0?m.path||"":v,caseSensitive:m.caseSensitive===!0,childrenIndex:p,route:m};if(j.relativePath.startsWith("/")){if(!j.relativePath.startsWith(c)&&x)return;Ye(j.relativePath.startsWith(c),`Absolute route path "${j.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),j.relativePath=j.relativePath.slice(c.length)}let y=Ln([c,j.relativePath]),A=l.concat(j);m.children&&m.children.length>0&&(Ye(m.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Gm(m.children,a,A,y,x)),!(m.path==null&&!m.index)&&a.push({path:y,score:Yx(y,m.index),routesMeta:A})};return r.forEach((m,p)=>{if(m.path===""||!m.path?.includes("?"))f(m,p);else for(let x of Jm(m.path))f(m,p,!0,x)}),a}function Jm(r){let a=r.split("/");if(a.length===0)return[];let[l,...c]=a,u=l.endsWith("?"),f=l.replace(/\?$/,"");if(c.length===0)return u?[f,""]:[f];let m=Jm(c.join("/")),p=[];return p.push(...m.map(x=>x===""?f:[f,x].join("/"))),u&&p.push(...m),p.map(x=>r.startsWith("/")&&x===""?"/":x)}function Ux(r){r.sort((a,l)=>a.score!==l.score?l.score-a.score:Gx(a.routesMeta.map(c=>c.childrenIndex),l.routesMeta.map(c=>c.childrenIndex)))}var Vx=/^:[\w-]+$/,Hx=3,Wx=2,qx=1,Kx=10,Qx=-2,xm=r=>r==="*";function Yx(r,a){let l=r.split("/"),c=l.length;return l.some(xm)&&(c+=Qx),a&&(c+=Wx),l.filter(u=>!xm(u)).reduce((u,f)=>u+(Vx.test(f)?Hx:f===""?qx:Kx),c)}function Gx(r,a){return r.length===a.length&&r.slice(0,-1).every((c,u)=>c===a[u])?r[r.length-1]-a[a.length-1]:0}function Jx(r,a,l=!1){let{routesMeta:c}=r,u={},f="/",m=[];for(let p=0;p<c.length;++p){let x=c[p],v=p===c.length-1,j=f==="/"?a:a.slice(f.length)||"/",y=Dl({path:x.relativePath,caseSensitive:x.caseSensitive,end:v},j),A=x.route;if(!y&&v&&l&&!c[c.length-1].route.index&&(y=Dl({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},j)),!y)return null;Object.assign(u,y.params),m.push({params:u,pathname:Ln([f,y.pathname]),pathnameBase:sg(Ln([f,y.pathnameBase])),route:A}),y.pathnameBase!=="/"&&(f=Ln([f,y.pathnameBase]))}return m}function Dl(r,a){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[l,c]=Xx(r.path,r.caseSensitive,r.end),u=a.match(l);if(!u)return null;let f=u[0],m=f.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:c.reduce((v,{paramName:j,isOptional:y},A)=>{if(j==="*"){let k=p[A]||"";m=f.slice(0,f.length-k.length).replace(/(.)\/+$/,"$1")}const O=p[A];return y&&!O?v[j]=void 0:v[j]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:f,pathnameBase:m,pattern:r}}function Xx(r,a=!1,l=!0){Xt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],u="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,x)=>(c.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),u+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?u+="\\/*$":r!==""&&r!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,a?void 0:"i"),c]}function Zx(r){try{return r.split("/").map(a=>decodeURIComponent(a).replace(/\//g,"%2F")).join("/")}catch(a){return Xt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${a}).`),r}}function $n(r,a){if(a==="/")return r;if(!r.toLowerCase().startsWith(a.toLowerCase()))return null;let l=a.endsWith("/")?a.length-1:a.length,c=r.charAt(l);return c&&c!=="/"?null:r.slice(l)||"/"}var Xm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eg=r=>Xm.test(r);function tg(r,a="/"){let{pathname:l,search:c="",hash:u=""}=typeof r=="string"?sr(r):r,f;if(l)if(eg(l))f=l;else{if(l.includes("//")){let m=l;l=l.replace(/\/\/+/g,"/"),Xt(!1,`Pathnames cannot have embedded double slashes - normalizing ${m} -> ${l}`)}l.startsWith("/")?f=gm(l.substring(1),"/"):f=gm(l,a)}else f=a;return{pathname:f,search:rg(c),hash:ag(u)}}function gm(r,a){let l=a.replace(/\/+$/,"").split("/");return r.split("/").forEach(u=>{u===".."?l.length>1&&l.pop():u!=="."&&l.push(u)}),l.length>1?l.join("/"):"/"}function Oo(r,a,l,c){return`Cannot include a '${r}' character in a manually specified \`to.${a}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ng(r){return r.filter((a,l)=>l===0||a.route.path&&a.route.path.length>0)}function oc(r){let a=ng(r);return a.map((l,c)=>c===a.length-1?l.pathname:l.pathnameBase)}function cc(r,a,l,c=!1){let u;typeof r=="string"?u=sr(r):(u={...r},Ye(!u.pathname||!u.pathname.includes("?"),Oo("?","pathname","search",u)),Ye(!u.pathname||!u.pathname.includes("#"),Oo("#","pathname","hash",u)),Ye(!u.search||!u.search.includes("#"),Oo("#","search","hash",u)));let f=r===""||u.pathname==="",m=f?"/":u.pathname,p;if(m==null)p=l;else{let y=a.length-1;if(!c&&m.startsWith("..")){let A=m.split("/");for(;A[0]==="..";)A.shift(),y-=1;u.pathname=A.join("/")}p=y>=0?a[y]:"/"}let x=tg(u,p),v=m&&m!=="/"&&m.endsWith("/"),j=(f||m===".")&&l.endsWith("/");return!x.pathname.endsWith("/")&&(v||j)&&(x.pathname+="/"),x}var Ln=r=>r.join("/").replace(/\/\/+/g,"/"),sg=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),rg=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,ag=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,lg=class{constructor(r,a,l,c=!1){this.status=r,this.statusText=a||"",this.internal=c,l instanceof Error?(this.data=l.toString(),this.error=l):this.data=l}};function ig(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function og(r){return r.map(a=>a.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function ef(r,a){let l=r;if(typeof l!="string"||!Xm.test(l))return{absoluteURL:void 0,isExternal:!1,to:l};let c=l,u=!1;if(Zm)try{let f=new URL(window.location.href),m=l.startsWith("//")?new URL(f.protocol+l):new URL(l),p=$n(m.pathname,a);m.origin===f.origin&&p!=null?l=p+m.search+m.hash:u=!0}catch{Xt(!1,`<Link to="${l}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:u,to:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tf=["POST","PUT","PATCH","DELETE"];new Set(tf);var cg=["GET",...tf];new Set(cg);var rr=g.createContext(null);rr.displayName="DataRouter";var $l=g.createContext(null);$l.displayName="DataRouterState";var ug=g.createContext(!1),nf=g.createContext({isTransitioning:!1});nf.displayName="ViewTransition";var dg=g.createContext(new Map);dg.displayName="Fetchers";var mg=g.createContext(null);mg.displayName="Await";var Vt=g.createContext(null);Vt.displayName="Navigation";var Zr=g.createContext(null);Zr.displayName="Location";var fn=g.createContext({outlet:null,matches:[],isDataRoute:!1});fn.displayName="Route";var uc=g.createContext(null);uc.displayName="RouteError";var sf="REACT_ROUTER_ERROR",fg="REDIRECT",pg="ROUTE_ERROR_RESPONSE";function hg(r){if(r.startsWith(`${sf}:${fg}:{`))try{let a=JSON.parse(r.slice(28));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string"&&typeof a.location=="string"&&typeof a.reloadDocument=="boolean"&&typeof a.replace=="boolean")return a}catch{}}function xg(r){if(r.startsWith(`${sf}:${pg}:{`))try{let a=JSON.parse(r.slice(40));if(typeof a=="object"&&a&&typeof a.status=="number"&&typeof a.statusText=="string")return new lg(a.status,a.statusText,a.data)}catch{}}function gg(r,{relative:a}={}){Ye(ar(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:c}=g.useContext(Vt),{hash:u,pathname:f,search:m}=ea(r,{relative:a}),p=f;return l!=="/"&&(p=f==="/"?l:Ln([l,f])),c.createHref({pathname:p,search:m,hash:u})}function ar(){return g.useContext(Zr)!=null}function zn(){return Ye(ar(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(Zr).location}var rf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function af(r){g.useContext(Vt).static||g.useLayoutEffect(r)}function Xe(){let{isDataRoute:r}=g.useContext(fn);return r?Fg():yg()}function yg(){Ye(ar(),"useNavigate() may be used only in the context of a <Router> component.");let r=g.useContext(rr),{basename:a,navigator:l}=g.useContext(Vt),{matches:c}=g.useContext(fn),{pathname:u}=zn(),f=JSON.stringify(oc(c)),m=g.useRef(!1);return af(()=>{m.current=!0}),g.useCallback((x,v={})=>{if(Xt(m.current,rf),!m.current)return;if(typeof x=="number"){l.go(x);return}let j=cc(x,JSON.parse(f),u,v.relative==="path");r==null&&a!=="/"&&(j.pathname=j.pathname==="/"?a:Ln([a,j.pathname])),(v.replace?l.replace:l.push)(j,v.state,v)},[a,l,f,u,r])}g.createContext(null);function zl(){let{matches:r}=g.useContext(fn),a=r[r.length-1];return a?a.params:{}}function ea(r,{relative:a}={}){let{matches:l}=g.useContext(fn),{pathname:c}=zn(),u=JSON.stringify(oc(l));return g.useMemo(()=>cc(r,JSON.parse(u),c,a==="path"),[r,u,c,a])}function vg(r,a){return lf(r,a)}function lf(r,a,l,c,u){Ye(ar(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=g.useContext(Vt),{matches:m}=g.useContext(fn),p=m[m.length-1],x=p?p.params:{},v=p?p.pathname:"/",j=p?p.pathnameBase:"/",y=p&&p.route;{let L=y&&y.path||"";cf(v,!y||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let A=zn(),O;if(a){let L=typeof a=="string"?sr(a):a;Ye(j==="/"||L.pathname?.startsWith(j),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${j}" but pathname "${L.pathname}" was given in the \`location\` prop.`),O=L}else O=A;let k=O.pathname||"/",P=k;if(j!=="/"){let L=j.replace(/^\//,"").split("/");P="/"+k.replace(/^\//,"").split("/").slice(L.length).join("/")}let F=Ym(r,{pathname:P});Xt(y||F!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Xt(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Eg(F&&F.map(L=>Object.assign({},L,{params:Object.assign({},x,L.params),pathname:Ln([j,f.encodeLocation?f.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?j:Ln([j,f.encodeLocation?f.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),m,l,c,u);return a&&R?g.createElement(Zr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},R):R}function jg(){let r=Ag(),a=ig(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),l=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},m=null;return console.error("Error handled by React Router default ErrorBoundary:",r),m=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:f},"ErrorBoundary")," or"," ",g.createElement("code",{style:f},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},a),l?g.createElement("pre",{style:u},l):null,m)}var wg=g.createElement(jg,null),of=class extends g.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){this.props.onError?this.props.onError(r,a):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const l=xg(r.digest);l&&(r=l)}let a=r!==void 0?g.createElement(fn.Provider,{value:this.props.routeContext},g.createElement(uc.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?g.createElement(Ng,{error:r},a):a}};of.contextType=ug;var Mo=new WeakMap;function Ng({children:r,error:a}){let{basename:l}=g.useContext(Vt);if(typeof a=="object"&&a&&"digest"in a&&typeof a.digest=="string"){let c=hg(a.digest);if(c){let u=Mo.get(a);if(u)throw u;let f=ef(c.location,l);if(Zm&&!Mo.get(a))if(f.isExternal||c.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const m=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:c.replace}));throw Mo.set(a,m),m}return g.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return r}function bg({routeContext:r,match:a,children:l}){let c=g.useContext(rr);return c&&c.static&&c.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=a.route.id),g.createElement(fn.Provider,{value:r},l)}function Eg(r,a=[],l=null,c=null,u=null){if(r==null){if(!l)return null;if(l.errors)r=l.matches;else if(a.length===0&&!l.initialized&&l.matches.length>0)r=l.matches;else return null}let f=r,m=l?.errors;if(m!=null){let j=f.findIndex(y=>y.route.id&&m?.[y.route.id]!==void 0);Ye(j>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(m).join(",")}`),f=f.slice(0,Math.min(f.length,j+1))}let p=!1,x=-1;if(l)for(let j=0;j<f.length;j++){let y=f[j];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(x=j),y.route.id){let{loaderData:A,errors:O}=l,k=y.route.loader&&!A.hasOwnProperty(y.route.id)&&(!O||O[y.route.id]===void 0);if(y.route.lazy||k){p=!0,x>=0?f=f.slice(0,x+1):f=[f[0]];break}}}let v=l&&c?(j,y)=>{c(j,{location:l.location,params:l.matches?.[0]?.params??{},unstable_pattern:og(l.matches),errorInfo:y})}:void 0;return f.reduceRight((j,y,A)=>{let O,k=!1,P=null,F=null;l&&(O=m&&y.route.id?m[y.route.id]:void 0,P=y.route.errorElement||wg,p&&(x<0&&A===0?(cf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,F=null):x===A&&(k=!0,F=y.route.hydrateFallbackElement||null)));let R=a.concat(f.slice(0,A+1)),L=()=>{let S;return O?S=P:k?S=F:y.route.Component?S=g.createElement(y.route.Component,null):y.route.element?S=y.route.element:S=j,g.createElement(bg,{match:y,routeContext:{outlet:j,matches:R,isDataRoute:l!=null},children:S})};return l&&(y.route.ErrorBoundary||y.route.errorElement||A===0)?g.createElement(of,{location:l.location,revalidation:l.revalidation,component:P,error:O,children:L(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:v}):L()},null)}function dc(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cg(r){let a=g.useContext(rr);return Ye(a,dc(r)),a}function kg(r){let a=g.useContext($l);return Ye(a,dc(r)),a}function Sg(r){let a=g.useContext(fn);return Ye(a,dc(r)),a}function mc(r){let a=Sg(r),l=a.matches[a.matches.length-1];return Ye(l.route.id,`${r} can only be used on routes that contain a unique "id"`),l.route.id}function _g(){return mc("useRouteId")}function Ag(){let r=g.useContext(uc),a=kg("useRouteError"),l=mc("useRouteError");return r!==void 0?r:a.errors?.[l]}function Fg(){let{router:r}=Cg("useNavigate"),a=mc("useNavigate"),l=g.useRef(!1);return af(()=>{l.current=!0}),g.useCallback(async(u,f={})=>{Xt(l.current,rf),l.current&&(typeof u=="number"?await r.navigate(u):await r.navigate(u,{fromRouteId:a,...f}))},[r,a])}var ym={};function cf(r,a,l){!a&&!ym[r]&&(ym[r]=!0,Xt(!1,l))}g.memo(Bg);function Bg({routes:r,future:a,state:l,onError:c}){return lf(r,void 0,l,c,a)}function Pg({to:r,replace:a,state:l,relative:c}){Ye(ar(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=g.useContext(Vt);Xt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=g.useContext(fn),{pathname:m}=zn(),p=Xe(),x=cc(r,oc(f),m,c==="path"),v=JSON.stringify(x);return g.useEffect(()=>{p(JSON.parse(v),{replace:a,state:l,relative:c})},[p,v,c,a,l]),null}function Ke(r){Ye(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rg({basename:r="/",children:a=null,location:l,navigationType:c="POP",navigator:u,static:f=!1,unstable_useTransitions:m}){Ye(!ar(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=r.replace(/^\/*/,"/"),x=g.useMemo(()=>({basename:p,navigator:u,static:f,unstable_useTransitions:m,future:{}}),[p,u,f,m]);typeof l=="string"&&(l=sr(l));let{pathname:v="/",search:j="",hash:y="",state:A=null,key:O="default"}=l,k=g.useMemo(()=>{let P=$n(v,p);return P==null?null:{location:{pathname:P,search:j,hash:y,state:A,key:O},navigationType:c}},[p,v,j,y,A,O,c]);return Xt(k!=null,`<Router basename="${p}"> is not able to match the URL "${v}${j}${y}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:g.createElement(Vt.Provider,{value:x},g.createElement(Zr.Provider,{children:a,value:k}))}function Dg({children:r,location:a}){return vg(Go(r),a)}function Go(r,a=[]){let l=[];return g.Children.forEach(r,(c,u)=>{if(!g.isValidElement(c))return;let f=[...a,u];if(c.type===g.Fragment){l.push.apply(l,Go(c.props.children,f));return}Ye(c.type===Ke,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ye(!c.props.index||!c.props.children,"An index route cannot have child routes.");let m={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(m.children=Go(c.props.children,f)),l.push(m)}),l}var kl="get",Sl="application/x-www-form-urlencoded";function Il(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Lg(r){return Il(r)&&r.tagName.toLowerCase()==="button"}function Tg(r){return Il(r)&&r.tagName.toLowerCase()==="form"}function Og(r){return Il(r)&&r.tagName.toLowerCase()==="input"}function Mg(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function $g(r,a){return r.button===0&&(!a||a==="_self")&&!Mg(r)}var Nl=null;function zg(){if(Nl===null)try{new FormData(document.createElement("form"),0),Nl=!1}catch{Nl=!0}return Nl}var Ig=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $o(r){return r!=null&&!Ig.has(r)?(Xt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Sl}"`),null):r}function Ug(r,a){let l,c,u,f,m;if(Tg(r)){let p=r.getAttribute("action");c=p?$n(p,a):null,l=r.getAttribute("method")||kl,u=$o(r.getAttribute("enctype"))||Sl,f=new FormData(r)}else if(Lg(r)||Og(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=r.getAttribute("formaction")||p.getAttribute("action");if(c=x?$n(x,a):null,l=r.getAttribute("formmethod")||p.getAttribute("method")||kl,u=$o(r.getAttribute("formenctype"))||$o(p.getAttribute("enctype"))||Sl,f=new FormData(p,r),!zg()){let{name:v,type:j,value:y}=r;if(j==="image"){let A=v?`${v}.`:"";f.append(`${A}x`,"0"),f.append(`${A}y`,"0")}else v&&f.append(v,y)}}else{if(Il(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=kl,c=null,u=Sl,m=r}return f&&u==="text/plain"&&(m=f,f=void 0),{action:c,method:l.toLowerCase(),encType:u,formData:f,body:m}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fc(r,a){if(r===!1||r===null||typeof r>"u")throw new Error(a)}function Vg(r,a,l){let c=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return c.pathname==="/"?c.pathname=`_root.${l}`:a&&$n(c.pathname,a)==="/"?c.pathname=`${a.replace(/\/$/,"")}/_root.${l}`:c.pathname=`${c.pathname.replace(/\/$/,"")}.${l}`,c}async function Hg(r,a){if(r.id in a)return a[r.id];try{let l=await import(r.module);return a[r.id]=l,l}catch(l){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Wg(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qg(r,a,l){let c=await Promise.all(r.map(async u=>{let f=a.routes[u.route.id];if(f){let m=await Hg(f,l);return m.links?m.links():[]}return[]}));return Gg(c.flat(1).filter(Wg).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function vm(r,a,l,c,u,f){let m=(x,v)=>l[v]?x.route.id!==l[v].route.id:!0,p=(x,v)=>l[v].pathname!==x.pathname||l[v].route.path?.endsWith("*")&&l[v].params["*"]!==x.params["*"];return f==="assets"?a.filter((x,v)=>m(x,v)||p(x,v)):f==="data"?a.filter((x,v)=>{let j=c.routes[x.route.id];if(!j||!j.hasLoader)return!1;if(m(x,v)||p(x,v))return!0;if(x.route.shouldRevalidate){let y=x.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:l[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Kg(r,a,{includeHydrateFallback:l}={}){return Qg(r.map(c=>{let u=a.routes[c.route.id];if(!u)return[];let f=[u.module];return u.clientActionModule&&(f=f.concat(u.clientActionModule)),u.clientLoaderModule&&(f=f.concat(u.clientLoaderModule)),l&&u.hydrateFallbackModule&&(f=f.concat(u.hydrateFallbackModule)),u.imports&&(f=f.concat(u.imports)),f}).flat(1))}function Qg(r){return[...new Set(r)]}function Yg(r){let a={},l=Object.keys(r).sort();for(let c of l)a[c]=r[c];return a}function Gg(r,a){let l=new Set;return new Set(a),r.reduce((c,u)=>{let f=JSON.stringify(Yg(u));return l.has(f)||(l.add(f),c.push({key:f,link:u})),c},[])}function uf(){let r=g.useContext(rr);return fc(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Jg(){let r=g.useContext($l);return fc(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var pc=g.createContext(void 0);pc.displayName="FrameworkContext";function df(){let r=g.useContext(pc);return fc(r,"You must render this element inside a <HydratedRouter> element"),r}function Xg(r,a){let l=g.useContext(pc),[c,u]=g.useState(!1),[f,m]=g.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:v,onMouseLeave:j,onTouchStart:y}=a,A=g.useRef(null);g.useEffect(()=>{if(r==="render"&&m(!0),r==="viewport"){let P=R=>{R.forEach(L=>{m(L.isIntersecting)})},F=new IntersectionObserver(P,{threshold:.5});return A.current&&F.observe(A.current),()=>{F.disconnect()}}},[r]),g.useEffect(()=>{if(c){let P=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(P)}}},[c]);let O=()=>{u(!0)},k=()=>{u(!1),m(!1)};return l?r!=="intent"?[f,A,{}]:[f,A,{onFocus:Kr(p,O),onBlur:Kr(x,k),onMouseEnter:Kr(v,O),onMouseLeave:Kr(j,k),onTouchStart:Kr(y,O)}]:[!1,A,{}]}function Kr(r,a){return l=>{r&&r(l),l.defaultPrevented||a(l)}}function Zg({page:r,...a}){let{router:l}=uf(),c=g.useMemo(()=>Ym(l.routes,r,l.basename),[l.routes,r,l.basename]);return c?g.createElement(ty,{page:r,matches:c,...a}):null}function ey(r){let{manifest:a,routeModules:l}=df(),[c,u]=g.useState([]);return g.useEffect(()=>{let f=!1;return qg(r,a,l).then(m=>{f||u(m)}),()=>{f=!0}},[r,a,l]),c}function ty({page:r,matches:a,...l}){let c=zn(),{manifest:u,routeModules:f}=df(),{basename:m}=uf(),{loaderData:p,matches:x}=Jg(),v=g.useMemo(()=>vm(r,a,x,u,c,"data"),[r,a,x,u,c]),j=g.useMemo(()=>vm(r,a,x,u,c,"assets"),[r,a,x,u,c]),y=g.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let k=new Set,P=!1;if(a.forEach(R=>{let L=u.routes[R.route.id];!L||!L.hasLoader||(!v.some(S=>S.route.id===R.route.id)&&R.route.id in p&&f[R.route.id]?.shouldRevalidate||L.hasClientLoader?P=!0:k.add(R.route.id))}),k.size===0)return[];let F=Vg(r,m,"data");return P&&k.size>0&&F.searchParams.set("_routes",a.filter(R=>k.has(R.route.id)).map(R=>R.route.id).join(",")),[F.pathname+F.search]},[m,p,c,u,v,a,r,f]),A=g.useMemo(()=>Kg(j,u),[j,u]),O=ey(j);return g.createElement(g.Fragment,null,y.map(k=>g.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...l})),A.map(k=>g.createElement("link",{key:k,rel:"modulepreload",href:k,...l})),O.map(({key:k,link:P})=>g.createElement("link",{key:k,nonce:l.nonce,...P})))}function ny(...r){return a=>{r.forEach(l=>{typeof l=="function"?l(a):l!=null&&(l.current=a)})}}var sy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sy&&(window.__reactRouterVersion="7.11.0")}catch{}function ry({basename:r,children:a,unstable_useTransitions:l,window:c}){let u=g.useRef();u.current==null&&(u.current=Ox({window:c,v5Compat:!0}));let f=u.current,[m,p]=g.useState({action:f.action,location:f.location}),x=g.useCallback(v=>{l===!1?p(v):g.startTransition(()=>p(v))},[l]);return g.useLayoutEffect(()=>f.listen(x),[f,x]),g.createElement(Rg,{basename:r,children:a,location:m.location,navigationType:m.action,navigator:f,unstable_useTransitions:l})}var mf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ff=g.forwardRef(function({onClick:a,discover:l="render",prefetch:c="none",relative:u,reloadDocument:f,replace:m,state:p,target:x,to:v,preventScrollReset:j,viewTransition:y,unstable_defaultShouldRevalidate:A,...O},k){let{basename:P,unstable_useTransitions:F}=g.useContext(Vt),R=typeof v=="string"&&mf.test(v),L=ef(v,P);v=L.to;let S=gg(v,{relative:u}),[H,B,b]=Xg(c,O),W=oy(v,{replace:m,state:p,target:x,preventScrollReset:j,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:A,unstable_useTransitions:F});function ye(ge){a&&a(ge),ge.defaultPrevented||W(ge)}let ee=g.createElement("a",{...O,...b,href:L.absoluteURL||S,onClick:L.isExternal||f?a:ye,ref:ny(k,B),target:x,"data-discover":!R&&l==="render"?"true":void 0});return H&&!R?g.createElement(g.Fragment,null,ee,g.createElement(Zg,{page:S})):ee});ff.displayName="Link";var ay=g.forwardRef(function({"aria-current":a="page",caseSensitive:l=!1,className:c="",end:u=!1,style:f,to:m,viewTransition:p,children:x,...v},j){let y=ea(m,{relative:v.relative}),A=zn(),O=g.useContext($l),{navigator:k,basename:P}=g.useContext(Vt),F=O!=null&&fy(y)&&p===!0,R=k.encodeLocation?k.encodeLocation(y).pathname:y.pathname,L=A.pathname,S=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;l||(L=L.toLowerCase(),S=S?S.toLowerCase():null,R=R.toLowerCase()),S&&P&&(S=$n(S,P)||S);const H=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let B=L===R||!u&&L.startsWith(R)&&L.charAt(H)==="/",b=S!=null&&(S===R||!u&&S.startsWith(R)&&S.charAt(R.length)==="/"),W={isActive:B,isPending:b,isTransitioning:F},ye=B?a:void 0,ee;typeof c=="function"?ee=c(W):ee=[c,B?"active":null,b?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let ge=typeof f=="function"?f(W):f;return g.createElement(ff,{...v,"aria-current":ye,className:ee,ref:j,style:ge,to:m,viewTransition:p},typeof x=="function"?x(W):x)});ay.displayName="NavLink";var ly=g.forwardRef(({discover:r="render",fetcherKey:a,navigate:l,reloadDocument:c,replace:u,state:f,method:m=kl,action:p,onSubmit:x,relative:v,preventScrollReset:j,viewTransition:y,unstable_defaultShouldRevalidate:A,...O},k)=>{let{unstable_useTransitions:P}=g.useContext(Vt),F=dy(),R=my(p,{relative:v}),L=m.toLowerCase()==="get"?"get":"post",S=typeof p=="string"&&mf.test(p),H=B=>{if(x&&x(B),B.defaultPrevented)return;B.preventDefault();let b=B.nativeEvent.submitter,W=b?.getAttribute("formmethod")||m,ye=()=>F(b||B.currentTarget,{fetcherKey:a,method:W,navigate:l,replace:u,state:f,relative:v,preventScrollReset:j,viewTransition:y,unstable_defaultShouldRevalidate:A});P&&l!==!1?g.startTransition(()=>ye()):ye()};return g.createElement("form",{ref:k,method:L,action:R,onSubmit:c?x:H,...O,"data-discover":!S&&r==="render"?"true":void 0})});ly.displayName="Form";function iy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pf(r){let a=g.useContext(rr);return Ye(a,iy(r)),a}function oy(r,{target:a,replace:l,state:c,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p,unstable_useTransitions:x}={}){let v=Xe(),j=zn(),y=ea(r,{relative:f});return g.useCallback(A=>{if($g(A,a)){A.preventDefault();let O=l!==void 0?l:Gr(j)===Gr(y),k=()=>v(r,{replace:O,state:c,preventScrollReset:u,relative:f,viewTransition:m,unstable_defaultShouldRevalidate:p});x?g.startTransition(()=>k()):k()}},[j,v,y,l,c,a,r,u,f,m,p,x])}var cy=0,uy=()=>`__${String(++cy)}__`;function dy(){let{router:r}=pf("useSubmit"),{basename:a}=g.useContext(Vt),l=_g(),c=r.fetch,u=r.navigate;return g.useCallback(async(f,m={})=>{let{action:p,method:x,encType:v,formData:j,body:y}=Ug(f,a);if(m.navigate===!1){let A=m.fetcherKey||uy();await c(A,l,m.action||p,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:j,body:y,formMethod:m.method||x,formEncType:m.encType||v,flushSync:m.flushSync})}else await u(m.action||p,{unstable_defaultShouldRevalidate:m.unstable_defaultShouldRevalidate,preventScrollReset:m.preventScrollReset,formData:j,body:y,formMethod:m.method||x,formEncType:m.encType||v,replace:m.replace,state:m.state,fromRouteId:l,flushSync:m.flushSync,viewTransition:m.viewTransition})},[c,u,a,l])}function my(r,{relative:a}={}){let{basename:l}=g.useContext(Vt),c=g.useContext(fn);Ye(c,"useFormAction must be used inside a RouteContext");let[u]=c.matches.slice(-1),f={...ea(r||".",{relative:a})},m=zn();if(r==null){f.search=m.search;let p=new URLSearchParams(f.search),x=p.getAll("index");if(x.some(j=>j==="")){p.delete("index"),x.filter(y=>y).forEach(y=>p.append("index",y));let j=p.toString();f.search=j?`?${j}`:""}}return(!r||r===".")&&u.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Ln([l,f.pathname])),Gr(f)}function fy(r,{relative:a}={}){let l=g.useContext(nf);Ye(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=pf("useViewTransitionState"),u=ea(r,{relative:a});if(!l.isTransitioning)return!1;let f=$n(l.currentLocation.pathname,c)||l.currentLocation.pathname,m=$n(l.nextLocation.pathname,c)||l.nextLocation.pathname;return Dl(u.pathname,m)!=null||Dl(u.pathname,f)!=null}function hf(r,a){return function(){return r.apply(a,arguments)}}const{toString:py}=Object.prototype,{getPrototypeOf:hc}=Object,{iterator:Ul,toStringTag:xf}=Symbol,Vl=(r=>a=>{const l=py.call(a);return r[l]||(r[l]=l.slice(8,-1).toLowerCase())})(Object.create(null)),pn=r=>(r=r.toLowerCase(),a=>Vl(a)===r),Hl=r=>a=>typeof a===r,{isArray:lr}=Array,nr=Hl("undefined");function ta(r){return r!==null&&!nr(r)&&r.constructor!==null&&!nr(r.constructor)&&Dt(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const gf=pn("ArrayBuffer");function hy(r){let a;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?a=ArrayBuffer.isView(r):a=r&&r.buffer&&gf(r.buffer),a}const xy=Hl("string"),Dt=Hl("function"),yf=Hl("number"),na=r=>r!==null&&typeof r=="object",gy=r=>r===!0||r===!1,_l=r=>{if(Vl(r)!=="object")return!1;const a=hc(r);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(xf in r)&&!(Ul in r)},yy=r=>{if(!na(r)||ta(r))return!1;try{return Object.keys(r).length===0&&Object.getPrototypeOf(r)===Object.prototype}catch{return!1}},vy=pn("Date"),jy=pn("File"),wy=pn("Blob"),Ny=pn("FileList"),by=r=>na(r)&&Dt(r.pipe),Ey=r=>{let a;return r&&(typeof FormData=="function"&&r instanceof FormData||Dt(r.append)&&((a=Vl(r))==="formdata"||a==="object"&&Dt(r.toString)&&r.toString()==="[object FormData]"))},Cy=pn("URLSearchParams"),[ky,Sy,_y,Ay]=["ReadableStream","Request","Response","Headers"].map(pn),Fy=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function sa(r,a,{allOwnKeys:l=!1}={}){if(r===null||typeof r>"u")return;let c,u;if(typeof r!="object"&&(r=[r]),lr(r))for(c=0,u=r.length;c<u;c++)a.call(null,r[c],c,r);else{if(ta(r))return;const f=l?Object.getOwnPropertyNames(r):Object.keys(r),m=f.length;let p;for(c=0;c<m;c++)p=f[c],a.call(null,r[p],p,r)}}function vf(r,a){if(ta(r))return null;a=a.toLowerCase();const l=Object.keys(r);let c=l.length,u;for(;c-- >0;)if(u=l[c],a===u.toLowerCase())return u;return null}const Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,jf=r=>!nr(r)&&r!==Ss;function Jo(){const{caseless:r,skipUndefined:a}=jf(this)&&this||{},l={},c=(u,f)=>{const m=r&&vf(l,f)||f;_l(l[m])&&_l(u)?l[m]=Jo(l[m],u):_l(u)?l[m]=Jo({},u):lr(u)?l[m]=u.slice():(!a||!nr(u))&&(l[m]=u)};for(let u=0,f=arguments.length;u<f;u++)arguments[u]&&sa(arguments[u],c);return l}const By=(r,a,l,{allOwnKeys:c}={})=>(sa(a,(u,f)=>{l&&Dt(u)?r[f]=hf(u,l):r[f]=u},{allOwnKeys:c}),r),Py=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),Ry=(r,a,l,c)=>{r.prototype=Object.create(a.prototype,c),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:a.prototype}),l&&Object.assign(r.prototype,l)},Dy=(r,a,l,c)=>{let u,f,m;const p={};if(a=a||{},r==null)return a;do{for(u=Object.getOwnPropertyNames(r),f=u.length;f-- >0;)m=u[f],(!c||c(m,r,a))&&!p[m]&&(a[m]=r[m],p[m]=!0);r=l!==!1&&hc(r)}while(r&&(!l||l(r,a))&&r!==Object.prototype);return a},Ly=(r,a,l)=>{r=String(r),(l===void 0||l>r.length)&&(l=r.length),l-=a.length;const c=r.indexOf(a,l);return c!==-1&&c===l},Ty=r=>{if(!r)return null;if(lr(r))return r;let a=r.length;if(!yf(a))return null;const l=new Array(a);for(;a-- >0;)l[a]=r[a];return l},Oy=(r=>a=>r&&a instanceof r)(typeof Uint8Array<"u"&&hc(Uint8Array)),My=(r,a)=>{const c=(r&&r[Ul]).call(r);let u;for(;(u=c.next())&&!u.done;){const f=u.value;a.call(r,f[0],f[1])}},$y=(r,a)=>{let l;const c=[];for(;(l=r.exec(a))!==null;)c.push(l);return c},zy=pn("HTMLFormElement"),Iy=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(l,c,u){return c.toUpperCase()+u}),jm=(({hasOwnProperty:r})=>(a,l)=>r.call(a,l))(Object.prototype),Uy=pn("RegExp"),wf=(r,a)=>{const l=Object.getOwnPropertyDescriptors(r),c={};sa(l,(u,f)=>{let m;(m=a(u,f,r))!==!1&&(c[f]=m||u)}),Object.defineProperties(r,c)},Vy=r=>{wf(r,(a,l)=>{if(Dt(r)&&["arguments","caller","callee"].indexOf(l)!==-1)return!1;const c=r[l];if(Dt(c)){if(a.enumerable=!1,"writable"in a){a.writable=!1;return}a.set||(a.set=()=>{throw Error("Can not rewrite read-only method '"+l+"'")})}})},Hy=(r,a)=>{const l={},c=u=>{u.forEach(f=>{l[f]=!0})};return lr(r)?c(r):c(String(r).split(a)),l},Wy=()=>{},qy=(r,a)=>r!=null&&Number.isFinite(r=+r)?r:a;function Ky(r){return!!(r&&Dt(r.append)&&r[xf]==="FormData"&&r[Ul])}const Qy=r=>{const a=new Array(10),l=(c,u)=>{if(na(c)){if(a.indexOf(c)>=0)return;if(ta(c))return c;if(!("toJSON"in c)){a[u]=c;const f=lr(c)?[]:{};return sa(c,(m,p)=>{const x=l(m,u+1);!nr(x)&&(f[p]=x)}),a[u]=void 0,f}}return c};return l(r,0)},Yy=pn("AsyncFunction"),Gy=r=>r&&(na(r)||Dt(r))&&Dt(r.then)&&Dt(r.catch),Nf=((r,a)=>r?setImmediate:a?((l,c)=>(Ss.addEventListener("message",({source:u,data:f})=>{u===Ss&&f===l&&c.length&&c.shift()()},!1),u=>{c.push(u),Ss.postMessage(l,"*")}))(`axios@${Math.random()}`,[]):l=>setTimeout(l))(typeof setImmediate=="function",Dt(Ss.postMessage)),Jy=typeof queueMicrotask<"u"?queueMicrotask.bind(Ss):typeof process<"u"&&process.nextTick||Nf,Xy=r=>r!=null&&Dt(r[Ul]),I={isArray:lr,isArrayBuffer:gf,isBuffer:ta,isFormData:Ey,isArrayBufferView:hy,isString:xy,isNumber:yf,isBoolean:gy,isObject:na,isPlainObject:_l,isEmptyObject:yy,isReadableStream:ky,isRequest:Sy,isResponse:_y,isHeaders:Ay,isUndefined:nr,isDate:vy,isFile:jy,isBlob:wy,isRegExp:Uy,isFunction:Dt,isStream:by,isURLSearchParams:Cy,isTypedArray:Oy,isFileList:Ny,forEach:sa,merge:Jo,extend:By,trim:Fy,stripBOM:Py,inherits:Ry,toFlatObject:Dy,kindOf:Vl,kindOfTest:pn,endsWith:Ly,toArray:Ty,forEachEntry:My,matchAll:$y,isHTMLForm:zy,hasOwnProperty:jm,hasOwnProp:jm,reduceDescriptors:wf,freezeMethods:Vy,toObjectSet:Hy,toCamelCase:Iy,noop:Wy,toFiniteNumber:qy,findKey:vf,global:Ss,isContextDefined:jf,isSpecCompliantForm:Ky,toJSONObject:Qy,isAsyncFn:Yy,isThenable:Gy,setImmediate:Nf,asap:Jy,isIterable:Xy};function Ne(r,a,l,c,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",a&&(this.code=a),l&&(this.config=l),c&&(this.request=c),u&&(this.response=u,this.status=u.status?u.status:null)}I.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:I.toJSONObject(this.config),code:this.code,status:this.status}}});const bf=Ne.prototype,Ef={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{Ef[r]={value:r}});Object.defineProperties(Ne,Ef);Object.defineProperty(bf,"isAxiosError",{value:!0});Ne.from=(r,a,l,c,u,f)=>{const m=Object.create(bf);I.toFlatObject(r,m,function(j){return j!==Error.prototype},v=>v!=="isAxiosError");const p=r&&r.message?r.message:"Error",x=a==null&&r?r.code:a;return Ne.call(m,p,x,l,c,u),r&&m.cause==null&&Object.defineProperty(m,"cause",{value:r,configurable:!0}),m.name=r&&r.name||"Error",f&&Object.assign(m,f),m};const Zy=null;function Xo(r){return I.isPlainObject(r)||I.isArray(r)}function Cf(r){return I.endsWith(r,"[]")?r.slice(0,-2):r}function wm(r,a,l){return r?r.concat(a).map(function(u,f){return u=Cf(u),!l&&f?"["+u+"]":u}).join(l?".":""):a}function ev(r){return I.isArray(r)&&!r.some(Xo)}const tv=I.toFlatObject(I,{},null,function(a){return/^is[A-Z]/.test(a)});function Wl(r,a,l){if(!I.isObject(r))throw new TypeError("target must be an object");a=a||new FormData,l=I.toFlatObject(l,{metaTokens:!0,dots:!1,indexes:!1},!1,function(P,F){return!I.isUndefined(F[P])});const c=l.metaTokens,u=l.visitor||j,f=l.dots,m=l.indexes,x=(l.Blob||typeof Blob<"u"&&Blob)&&I.isSpecCompliantForm(a);if(!I.isFunction(u))throw new TypeError("visitor must be a function");function v(k){if(k===null)return"";if(I.isDate(k))return k.toISOString();if(I.isBoolean(k))return k.toString();if(!x&&I.isBlob(k))throw new Ne("Blob is not supported. Use a Buffer instead.");return I.isArrayBuffer(k)||I.isTypedArray(k)?x&&typeof Blob=="function"?new Blob([k]):Buffer.from(k):k}function j(k,P,F){let R=k;if(k&&!F&&typeof k=="object"){if(I.endsWith(P,"{}"))P=c?P:P.slice(0,-2),k=JSON.stringify(k);else if(I.isArray(k)&&ev(k)||(I.isFileList(k)||I.endsWith(P,"[]"))&&(R=I.toArray(k)))return P=Cf(P),R.forEach(function(S,H){!(I.isUndefined(S)||S===null)&&a.append(m===!0?wm([P],H,f):m===null?P:P+"[]",v(S))}),!1}return Xo(k)?!0:(a.append(wm(F,P,f),v(k)),!1)}const y=[],A=Object.assign(tv,{defaultVisitor:j,convertValue:v,isVisitable:Xo});function O(k,P){if(!I.isUndefined(k)){if(y.indexOf(k)!==-1)throw Error("Circular reference detected in "+P.join("."));y.push(k),I.forEach(k,function(R,L){(!(I.isUndefined(R)||R===null)&&u.call(a,R,I.isString(L)?L.trim():L,P,A))===!0&&O(R,P?P.concat(L):[L])}),y.pop()}}if(!I.isObject(r))throw new TypeError("data must be an object");return O(r),a}function Nm(r){const a={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(c){return a[c]})}function xc(r,a){this._pairs=[],r&&Wl(r,this,a)}const kf=xc.prototype;kf.append=function(a,l){this._pairs.push([a,l])};kf.toString=function(a){const l=a?function(c){return a.call(this,c,Nm)}:Nm;return this._pairs.map(function(u){return l(u[0])+"="+l(u[1])},"").join("&")};function nv(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Sf(r,a,l){if(!a)return r;const c=l&&l.encode||nv;I.isFunction(l)&&(l={serialize:l});const u=l&&l.serialize;let f;if(u?f=u(a,l):f=I.isURLSearchParams(a)?a.toString():new xc(a,l).toString(c),f){const m=r.indexOf("#");m!==-1&&(r=r.slice(0,m)),r+=(r.indexOf("?")===-1?"?":"&")+f}return r}class bm{constructor(){this.handlers=[]}use(a,l,c){return this.handlers.push({fulfilled:a,rejected:l,synchronous:c?c.synchronous:!1,runWhen:c?c.runWhen:null}),this.handlers.length-1}eject(a){this.handlers[a]&&(this.handlers[a]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(a){I.forEach(this.handlers,function(c){c!==null&&a(c)})}}const _f={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sv=typeof URLSearchParams<"u"?URLSearchParams:xc,rv=typeof FormData<"u"?FormData:null,av=typeof Blob<"u"?Blob:null,lv={isBrowser:!0,classes:{URLSearchParams:sv,FormData:rv,Blob:av},protocols:["http","https","file","blob","url","data"]},gc=typeof window<"u"&&typeof document<"u",Zo=typeof navigator=="object"&&navigator||void 0,iv=gc&&(!Zo||["ReactNative","NativeScript","NS"].indexOf(Zo.product)<0),ov=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",cv=gc&&window.location.href||"http://localhost",uv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gc,hasStandardBrowserEnv:iv,hasStandardBrowserWebWorkerEnv:ov,navigator:Zo,origin:cv},Symbol.toStringTag,{value:"Module"})),Et={...uv,...lv};function dv(r,a){return Wl(r,new Et.classes.URLSearchParams,{visitor:function(l,c,u,f){return Et.isNode&&I.isBuffer(l)?(this.append(c,l.toString("base64")),!1):f.defaultVisitor.apply(this,arguments)},...a})}function mv(r){return I.matchAll(/\w+|\[(\w*)]/g,r).map(a=>a[0]==="[]"?"":a[1]||a[0])}function fv(r){const a={},l=Object.keys(r);let c;const u=l.length;let f;for(c=0;c<u;c++)f=l[c],a[f]=r[f];return a}function Af(r){function a(l,c,u,f){let m=l[f++];if(m==="__proto__")return!0;const p=Number.isFinite(+m),x=f>=l.length;return m=!m&&I.isArray(u)?u.length:m,x?(I.hasOwnProp(u,m)?u[m]=[u[m],c]:u[m]=c,!p):((!u[m]||!I.isObject(u[m]))&&(u[m]=[]),a(l,c,u[m],f)&&I.isArray(u[m])&&(u[m]=fv(u[m])),!p)}if(I.isFormData(r)&&I.isFunction(r.entries)){const l={};return I.forEachEntry(r,(c,u)=>{a(mv(c),u,l,0)}),l}return null}function pv(r,a,l){if(I.isString(r))try{return(a||JSON.parse)(r),I.trim(r)}catch(c){if(c.name!=="SyntaxError")throw c}return(l||JSON.stringify)(r)}const ra={transitional:_f,adapter:["xhr","http","fetch"],transformRequest:[function(a,l){const c=l.getContentType()||"",u=c.indexOf("application/json")>-1,f=I.isObject(a);if(f&&I.isHTMLForm(a)&&(a=new FormData(a)),I.isFormData(a))return u?JSON.stringify(Af(a)):a;if(I.isArrayBuffer(a)||I.isBuffer(a)||I.isStream(a)||I.isFile(a)||I.isBlob(a)||I.isReadableStream(a))return a;if(I.isArrayBufferView(a))return a.buffer;if(I.isURLSearchParams(a))return l.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),a.toString();let p;if(f){if(c.indexOf("application/x-www-form-urlencoded")>-1)return dv(a,this.formSerializer).toString();if((p=I.isFileList(a))||c.indexOf("multipart/form-data")>-1){const x=this.env&&this.env.FormData;return Wl(p?{"files[]":a}:a,x&&new x,this.formSerializer)}}return f||u?(l.setContentType("application/json",!1),pv(a)):a}],transformResponse:[function(a){const l=this.transitional||ra.transitional,c=l&&l.forcedJSONParsing,u=this.responseType==="json";if(I.isResponse(a)||I.isReadableStream(a))return a;if(a&&I.isString(a)&&(c&&!this.responseType||u)){const m=!(l&&l.silentJSONParsing)&&u;try{return JSON.parse(a,this.parseReviver)}catch(p){if(m)throw p.name==="SyntaxError"?Ne.from(p,Ne.ERR_BAD_RESPONSE,this,null,this.response):p}}return a}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Et.classes.FormData,Blob:Et.classes.Blob},validateStatus:function(a){return a>=200&&a<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};I.forEach(["delete","get","head","post","put","patch"],r=>{ra.headers[r]={}});const hv=I.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),xv=r=>{const a={};let l,c,u;return r&&r.split(`
`).forEach(function(m){u=m.indexOf(":"),l=m.substring(0,u).trim().toLowerCase(),c=m.substring(u+1).trim(),!(!l||a[l]&&hv[l])&&(l==="set-cookie"?a[l]?a[l].push(c):a[l]=[c]:a[l]=a[l]?a[l]+", "+c:c)}),a},Em=Symbol("internals");function Qr(r){return r&&String(r).trim().toLowerCase()}function Al(r){return r===!1||r==null?r:I.isArray(r)?r.map(Al):String(r)}function gv(r){const a=Object.create(null),l=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let c;for(;c=l.exec(r);)a[c[1]]=c[2];return a}const yv=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function zo(r,a,l,c,u){if(I.isFunction(c))return c.call(this,a,l);if(u&&(a=l),!!I.isString(a)){if(I.isString(c))return a.indexOf(c)!==-1;if(I.isRegExp(c))return c.test(a)}}function vv(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(a,l,c)=>l.toUpperCase()+c)}function jv(r,a){const l=I.toCamelCase(" "+a);["get","set","has"].forEach(c=>{Object.defineProperty(r,c+l,{value:function(u,f,m){return this[c].call(this,a,u,f,m)},configurable:!0})})}let Lt=class{constructor(a){a&&this.set(a)}set(a,l,c){const u=this;function f(p,x,v){const j=Qr(x);if(!j)throw new Error("header name must be a non-empty string");const y=I.findKey(u,j);(!y||u[y]===void 0||v===!0||v===void 0&&u[y]!==!1)&&(u[y||x]=Al(p))}const m=(p,x)=>I.forEach(p,(v,j)=>f(v,j,x));if(I.isPlainObject(a)||a instanceof this.constructor)m(a,l);else if(I.isString(a)&&(a=a.trim())&&!yv(a))m(xv(a),l);else if(I.isObject(a)&&I.isIterable(a)){let p={},x,v;for(const j of a){if(!I.isArray(j))throw TypeError("Object iterator must return a key-value pair");p[v=j[0]]=(x=p[v])?I.isArray(x)?[...x,j[1]]:[x,j[1]]:j[1]}m(p,l)}else a!=null&&f(l,a,c);return this}get(a,l){if(a=Qr(a),a){const c=I.findKey(this,a);if(c){const u=this[c];if(!l)return u;if(l===!0)return gv(u);if(I.isFunction(l))return l.call(this,u,c);if(I.isRegExp(l))return l.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(a,l){if(a=Qr(a),a){const c=I.findKey(this,a);return!!(c&&this[c]!==void 0&&(!l||zo(this,this[c],c,l)))}return!1}delete(a,l){const c=this;let u=!1;function f(m){if(m=Qr(m),m){const p=I.findKey(c,m);p&&(!l||zo(c,c[p],p,l))&&(delete c[p],u=!0)}}return I.isArray(a)?a.forEach(f):f(a),u}clear(a){const l=Object.keys(this);let c=l.length,u=!1;for(;c--;){const f=l[c];(!a||zo(this,this[f],f,a,!0))&&(delete this[f],u=!0)}return u}normalize(a){const l=this,c={};return I.forEach(this,(u,f)=>{const m=I.findKey(c,f);if(m){l[m]=Al(u),delete l[f];return}const p=a?vv(f):String(f).trim();p!==f&&delete l[f],l[p]=Al(u),c[p]=!0}),this}concat(...a){return this.constructor.concat(this,...a)}toJSON(a){const l=Object.create(null);return I.forEach(this,(c,u)=>{c!=null&&c!==!1&&(l[u]=a&&I.isArray(c)?c.join(", "):c)}),l}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([a,l])=>a+": "+l).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(a){return a instanceof this?a:new this(a)}static concat(a,...l){const c=new this(a);return l.forEach(u=>c.set(u)),c}static accessor(a){const c=(this[Em]=this[Em]={accessors:{}}).accessors,u=this.prototype;function f(m){const p=Qr(m);c[p]||(jv(u,m),c[p]=!0)}return I.isArray(a)?a.forEach(f):f(a),this}};Lt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);I.reduceDescriptors(Lt.prototype,({value:r},a)=>{let l=a[0].toUpperCase()+a.slice(1);return{get:()=>r,set(c){this[l]=c}}});I.freezeMethods(Lt);function Io(r,a){const l=this||ra,c=a||l,u=Lt.from(c.headers);let f=c.data;return I.forEach(r,function(p){f=p.call(l,f,u.normalize(),a?a.status:void 0)}),u.normalize(),f}function Ff(r){return!!(r&&r.__CANCEL__)}function ir(r,a,l){Ne.call(this,r??"canceled",Ne.ERR_CANCELED,a,l),this.name="CanceledError"}I.inherits(ir,Ne,{__CANCEL__:!0});function Bf(r,a,l){const c=l.config.validateStatus;!l.status||!c||c(l.status)?r(l):a(new Ne("Request failed with status code "+l.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))}function wv(r){const a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""}function Nv(r,a){r=r||10;const l=new Array(r),c=new Array(r);let u=0,f=0,m;return a=a!==void 0?a:1e3,function(x){const v=Date.now(),j=c[f];m||(m=v),l[u]=x,c[u]=v;let y=f,A=0;for(;y!==u;)A+=l[y++],y=y%r;if(u=(u+1)%r,u===f&&(f=(f+1)%r),v-m<a)return;const O=j&&v-j;return O?Math.round(A*1e3/O):void 0}}function bv(r,a){let l=0,c=1e3/a,u,f;const m=(v,j=Date.now())=>{l=j,u=null,f&&(clearTimeout(f),f=null),r(...v)};return[(...v)=>{const j=Date.now(),y=j-l;y>=c?m(v,j):(u=v,f||(f=setTimeout(()=>{f=null,m(u)},c-y)))},()=>u&&m(u)]}const Ll=(r,a,l=3)=>{let c=0;const u=Nv(50,250);return bv(f=>{const m=f.loaded,p=f.lengthComputable?f.total:void 0,x=m-c,v=u(x),j=m<=p;c=m;const y={loaded:m,total:p,progress:p?m/p:void 0,bytes:x,rate:v||void 0,estimated:v&&p&&j?(p-m)/v:void 0,event:f,lengthComputable:p!=null,[a?"download":"upload"]:!0};r(y)},l)},Cm=(r,a)=>{const l=r!=null;return[c=>a[0]({lengthComputable:l,total:r,loaded:c}),a[1]]},km=r=>(...a)=>I.asap(()=>r(...a)),Ev=Et.hasStandardBrowserEnv?((r,a)=>l=>(l=new URL(l,Et.origin),r.protocol===l.protocol&&r.host===l.host&&(a||r.port===l.port)))(new URL(Et.origin),Et.navigator&&/(msie|trident)/i.test(Et.navigator.userAgent)):()=>!0,Cv=Et.hasStandardBrowserEnv?{write(r,a,l,c,u,f,m){if(typeof document>"u")return;const p=[`${r}=${encodeURIComponent(a)}`];I.isNumber(l)&&p.push(`expires=${new Date(l).toUTCString()}`),I.isString(c)&&p.push(`path=${c}`),I.isString(u)&&p.push(`domain=${u}`),f===!0&&p.push("secure"),I.isString(m)&&p.push(`SameSite=${m}`),document.cookie=p.join("; ")},read(r){if(typeof document>"u")return null;const a=document.cookie.match(new RegExp("(?:^|; )"+r+"=([^;]*)"));return a?decodeURIComponent(a[1]):null},remove(r){this.write(r,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function kv(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function Sv(r,a){return a?r.replace(/\/?\/$/,"")+"/"+a.replace(/^\/+/,""):r}function Pf(r,a,l){let c=!kv(a);return r&&(c||l==!1)?Sv(r,a):a}const Sm=r=>r instanceof Lt?{...r}:r;function As(r,a){a=a||{};const l={};function c(v,j,y,A){return I.isPlainObject(v)&&I.isPlainObject(j)?I.merge.call({caseless:A},v,j):I.isPlainObject(j)?I.merge({},j):I.isArray(j)?j.slice():j}function u(v,j,y,A){if(I.isUndefined(j)){if(!I.isUndefined(v))return c(void 0,v,y,A)}else return c(v,j,y,A)}function f(v,j){if(!I.isUndefined(j))return c(void 0,j)}function m(v,j){if(I.isUndefined(j)){if(!I.isUndefined(v))return c(void 0,v)}else return c(void 0,j)}function p(v,j,y){if(y in a)return c(v,j);if(y in r)return c(void 0,v)}const x={url:f,method:f,data:f,baseURL:m,transformRequest:m,transformResponse:m,paramsSerializer:m,timeout:m,timeoutMessage:m,withCredentials:m,withXSRFToken:m,adapter:m,responseType:m,xsrfCookieName:m,xsrfHeaderName:m,onUploadProgress:m,onDownloadProgress:m,decompress:m,maxContentLength:m,maxBodyLength:m,beforeRedirect:m,transport:m,httpAgent:m,httpsAgent:m,cancelToken:m,socketPath:m,responseEncoding:m,validateStatus:p,headers:(v,j,y)=>u(Sm(v),Sm(j),y,!0)};return I.forEach(Object.keys({...r,...a}),function(j){const y=x[j]||u,A=y(r[j],a[j],j);I.isUndefined(A)&&y!==p||(l[j]=A)}),l}const Rf=r=>{const a=As({},r);let{data:l,withXSRFToken:c,xsrfHeaderName:u,xsrfCookieName:f,headers:m,auth:p}=a;if(a.headers=m=Lt.from(m),a.url=Sf(Pf(a.baseURL,a.url,a.allowAbsoluteUrls),r.params,r.paramsSerializer),p&&m.set("Authorization","Basic "+btoa((p.username||"")+":"+(p.password?unescape(encodeURIComponent(p.password)):""))),I.isFormData(l)){if(Et.hasStandardBrowserEnv||Et.hasStandardBrowserWebWorkerEnv)m.setContentType(void 0);else if(I.isFunction(l.getHeaders)){const x=l.getHeaders(),v=["content-type","content-length"];Object.entries(x).forEach(([j,y])=>{v.includes(j.toLowerCase())&&m.set(j,y)})}}if(Et.hasStandardBrowserEnv&&(c&&I.isFunction(c)&&(c=c(a)),c||c!==!1&&Ev(a.url))){const x=u&&f&&Cv.read(f);x&&m.set(u,x)}return a},_v=typeof XMLHttpRequest<"u",Av=_v&&function(r){return new Promise(function(l,c){const u=Rf(r);let f=u.data;const m=Lt.from(u.headers).normalize();let{responseType:p,onUploadProgress:x,onDownloadProgress:v}=u,j,y,A,O,k;function P(){O&&O(),k&&k(),u.cancelToken&&u.cancelToken.unsubscribe(j),u.signal&&u.signal.removeEventListener("abort",j)}let F=new XMLHttpRequest;F.open(u.method.toUpperCase(),u.url,!0),F.timeout=u.timeout;function R(){if(!F)return;const S=Lt.from("getAllResponseHeaders"in F&&F.getAllResponseHeaders()),B={data:!p||p==="text"||p==="json"?F.responseText:F.response,status:F.status,statusText:F.statusText,headers:S,config:r,request:F};Bf(function(W){l(W),P()},function(W){c(W),P()},B),F=null}"onloadend"in F?F.onloadend=R:F.onreadystatechange=function(){!F||F.readyState!==4||F.status===0&&!(F.responseURL&&F.responseURL.indexOf("file:")===0)||setTimeout(R)},F.onabort=function(){F&&(c(new Ne("Request aborted",Ne.ECONNABORTED,r,F)),F=null)},F.onerror=function(H){const B=H&&H.message?H.message:"Network Error",b=new Ne(B,Ne.ERR_NETWORK,r,F);b.event=H||null,c(b),F=null},F.ontimeout=function(){let H=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const B=u.transitional||_f;u.timeoutErrorMessage&&(H=u.timeoutErrorMessage),c(new Ne(H,B.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,r,F)),F=null},f===void 0&&m.setContentType(null),"setRequestHeader"in F&&I.forEach(m.toJSON(),function(H,B){F.setRequestHeader(B,H)}),I.isUndefined(u.withCredentials)||(F.withCredentials=!!u.withCredentials),p&&p!=="json"&&(F.responseType=u.responseType),v&&([A,k]=Ll(v,!0),F.addEventListener("progress",A)),x&&F.upload&&([y,O]=Ll(x),F.upload.addEventListener("progress",y),F.upload.addEventListener("loadend",O)),(u.cancelToken||u.signal)&&(j=S=>{F&&(c(!S||S.type?new ir(null,r,F):S),F.abort(),F=null)},u.cancelToken&&u.cancelToken.subscribe(j),u.signal&&(u.signal.aborted?j():u.signal.addEventListener("abort",j)));const L=wv(u.url);if(L&&Et.protocols.indexOf(L)===-1){c(new Ne("Unsupported protocol "+L+":",Ne.ERR_BAD_REQUEST,r));return}F.send(f||null)})},Fv=(r,a)=>{const{length:l}=r=r?r.filter(Boolean):[];if(a||l){let c=new AbortController,u;const f=function(v){if(!u){u=!0,p();const j=v instanceof Error?v:this.reason;c.abort(j instanceof Ne?j:new ir(j instanceof Error?j.message:j))}};let m=a&&setTimeout(()=>{m=null,f(new Ne(`timeout ${a} of ms exceeded`,Ne.ETIMEDOUT))},a);const p=()=>{r&&(m&&clearTimeout(m),m=null,r.forEach(v=>{v.unsubscribe?v.unsubscribe(f):v.removeEventListener("abort",f)}),r=null)};r.forEach(v=>v.addEventListener("abort",f));const{signal:x}=c;return x.unsubscribe=()=>I.asap(p),x}},Bv=function*(r,a){let l=r.byteLength;if(l<a){yield r;return}let c=0,u;for(;c<l;)u=c+a,yield r.slice(c,u),c=u},Pv=async function*(r,a){for await(const l of Rv(r))yield*Bv(l,a)},Rv=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const a=r.getReader();try{for(;;){const{done:l,value:c}=await a.read();if(l)break;yield c}}finally{await a.cancel()}},_m=(r,a,l,c)=>{const u=Pv(r,a);let f=0,m,p=x=>{m||(m=!0,c&&c(x))};return new ReadableStream({async pull(x){try{const{done:v,value:j}=await u.next();if(v){p(),x.close();return}let y=j.byteLength;if(l){let A=f+=y;l(A)}x.enqueue(new Uint8Array(j))}catch(v){throw p(v),v}},cancel(x){return p(x),u.return()}},{highWaterMark:2})},Am=64*1024,{isFunction:bl}=I,Dv=(({Request:r,Response:a})=>({Request:r,Response:a}))(I.global),{ReadableStream:Fm,TextEncoder:Bm}=I.global,Pm=(r,...a)=>{try{return!!r(...a)}catch{return!1}},Lv=r=>{r=I.merge.call({skipUndefined:!0},Dv,r);const{fetch:a,Request:l,Response:c}=r,u=a?bl(a):typeof fetch=="function",f=bl(l),m=bl(c);if(!u)return!1;const p=u&&bl(Fm),x=u&&(typeof Bm=="function"?(k=>P=>k.encode(P))(new Bm):async k=>new Uint8Array(await new l(k).arrayBuffer())),v=f&&p&&Pm(()=>{let k=!1;const P=new l(Et.origin,{body:new Fm,method:"POST",get duplex(){return k=!0,"half"}}).headers.has("Content-Type");return k&&!P}),j=m&&p&&Pm(()=>I.isReadableStream(new c("").body)),y={stream:j&&(k=>k.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(k=>{!y[k]&&(y[k]=(P,F)=>{let R=P&&P[k];if(R)return R.call(P);throw new Ne(`Response type '${k}' is not supported`,Ne.ERR_NOT_SUPPORT,F)})});const A=async k=>{if(k==null)return 0;if(I.isBlob(k))return k.size;if(I.isSpecCompliantForm(k))return(await new l(Et.origin,{method:"POST",body:k}).arrayBuffer()).byteLength;if(I.isArrayBufferView(k)||I.isArrayBuffer(k))return k.byteLength;if(I.isURLSearchParams(k)&&(k=k+""),I.isString(k))return(await x(k)).byteLength},O=async(k,P)=>{const F=I.toFiniteNumber(k.getContentLength());return F??A(P)};return async k=>{let{url:P,method:F,data:R,signal:L,cancelToken:S,timeout:H,onDownloadProgress:B,onUploadProgress:b,responseType:W,headers:ye,withCredentials:ee="same-origin",fetchOptions:ge}=Rf(k),We=a||fetch;W=W?(W+"").toLowerCase():"text";let De=Fv([L,S&&S.toAbortSignal()],H),_e=null;const V=De&&De.unsubscribe&&(()=>{De.unsubscribe()});let Ae;try{if(b&&v&&F!=="get"&&F!=="head"&&(Ae=await O(ye,R))!==0){let N=new l(P,{method:"POST",body:R,duplex:"half"}),$;if(I.isFormData(R)&&($=N.headers.get("content-type"))&&ye.setContentType($),N.body){const[fe,se]=Cm(Ae,Ll(km(b)));R=_m(N.body,Am,fe,se)}}I.isString(ee)||(ee=ee?"include":"omit");const be=f&&"credentials"in l.prototype,Se={...ge,signal:De,method:F.toUpperCase(),headers:ye.normalize().toJSON(),body:R,duplex:"half",credentials:be?ee:void 0};_e=f&&new l(P,Se);let G=await(f?We(_e,ge):We(P,Se));const re=j&&(W==="stream"||W==="response");if(j&&(B||re&&V)){const N={};["status","statusText","headers"].forEach(Ee=>{N[Ee]=G[Ee]});const $=I.toFiniteNumber(G.headers.get("content-length")),[fe,se]=B&&Cm($,Ll(km(B),!0))||[];G=new c(_m(G.body,Am,fe,()=>{se&&se(),V&&V()}),N)}W=W||"text";let E=await y[I.findKey(y,W)||"text"](G,k);return!re&&V&&V(),await new Promise((N,$)=>{Bf(N,$,{data:E,headers:Lt.from(G.headers),status:G.status,statusText:G.statusText,config:k,request:_e})})}catch(be){throw V&&V(),be&&be.name==="TypeError"&&/Load failed|fetch/i.test(be.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,k,_e),{cause:be.cause||be}):Ne.from(be,be&&be.code,k,_e)}}},Tv=new Map,Df=r=>{let a=r&&r.env||{};const{fetch:l,Request:c,Response:u}=a,f=[c,u,l];let m=f.length,p=m,x,v,j=Tv;for(;p--;)x=f[p],v=j.get(x),v===void 0&&j.set(x,v=p?new Map:Lv(a)),j=v;return v};Df();const yc={http:Zy,xhr:Av,fetch:{get:Df}};I.forEach(yc,(r,a)=>{if(r){try{Object.defineProperty(r,"name",{value:a})}catch{}Object.defineProperty(r,"adapterName",{value:a})}});const Rm=r=>`- ${r}`,Ov=r=>I.isFunction(r)||r===null||r===!1;function Mv(r,a){r=I.isArray(r)?r:[r];const{length:l}=r;let c,u;const f={};for(let m=0;m<l;m++){c=r[m];let p;if(u=c,!Ov(c)&&(u=yc[(p=String(c)).toLowerCase()],u===void 0))throw new Ne(`Unknown adapter '${p}'`);if(u&&(I.isFunction(u)||(u=u.get(a))))break;f[p||"#"+m]=u}if(!u){const m=Object.entries(f).map(([x,v])=>`adapter ${x} `+(v===!1?"is not supported by the environment":"is not available in the build"));let p=l?m.length>1?`since :
`+m.map(Rm).join(`
`):" "+Rm(m[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+p,"ERR_NOT_SUPPORT")}return u}const Lf={getAdapter:Mv,adapters:yc};function Uo(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new ir(null,r)}function Dm(r){return Uo(r),r.headers=Lt.from(r.headers),r.data=Io.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Lf.getAdapter(r.adapter||ra.adapter,r)(r).then(function(c){return Uo(r),c.data=Io.call(r,r.transformResponse,c),c.headers=Lt.from(c.headers),c},function(c){return Ff(c)||(Uo(r),c&&c.response&&(c.response.data=Io.call(r,r.transformResponse,c.response),c.response.headers=Lt.from(c.response.headers))),Promise.reject(c)})}const Tf="1.13.2",ql={};["object","boolean","number","function","string","symbol"].forEach((r,a)=>{ql[r]=function(c){return typeof c===r||"a"+(a<1?"n ":" ")+r}});const Lm={};ql.transitional=function(a,l,c){function u(f,m){return"[Axios v"+Tf+"] Transitional option '"+f+"'"+m+(c?". "+c:"")}return(f,m,p)=>{if(a===!1)throw new Ne(u(m," has been removed"+(l?" in "+l:"")),Ne.ERR_DEPRECATED);return l&&!Lm[m]&&(Lm[m]=!0,console.warn(u(m," has been deprecated since v"+l+" and will be removed in the near future"))),a?a(f,m,p):!0}};ql.spelling=function(a){return(l,c)=>(console.warn(`${c} is likely a misspelling of ${a}`),!0)};function $v(r,a,l){if(typeof r!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const c=Object.keys(r);let u=c.length;for(;u-- >0;){const f=c[u],m=a[f];if(m){const p=r[f],x=p===void 0||m(p,f,r);if(x!==!0)throw new Ne("option "+f+" must be "+x,Ne.ERR_BAD_OPTION_VALUE);continue}if(l!==!0)throw new Ne("Unknown option "+f,Ne.ERR_BAD_OPTION)}}const Fl={assertOptions:$v,validators:ql},wn=Fl.validators;let _s=class{constructor(a){this.defaults=a||{},this.interceptors={request:new bm,response:new bm}}async request(a,l){try{return await this._request(a,l)}catch(c){if(c instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const f=u.stack?u.stack.replace(/^.+\n/,""):"";try{c.stack?f&&!String(c.stack).endsWith(f.replace(/^.+\n.+\n/,""))&&(c.stack+=`
`+f):c.stack=f}catch{}}throw c}}_request(a,l){typeof a=="string"?(l=l||{},l.url=a):l=a||{},l=As(this.defaults,l);const{transitional:c,paramsSerializer:u,headers:f}=l;c!==void 0&&Fl.assertOptions(c,{silentJSONParsing:wn.transitional(wn.boolean),forcedJSONParsing:wn.transitional(wn.boolean),clarifyTimeoutError:wn.transitional(wn.boolean)},!1),u!=null&&(I.isFunction(u)?l.paramsSerializer={serialize:u}:Fl.assertOptions(u,{encode:wn.function,serialize:wn.function},!0)),l.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?l.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:l.allowAbsoluteUrls=!0),Fl.assertOptions(l,{baseUrl:wn.spelling("baseURL"),withXsrfToken:wn.spelling("withXSRFToken")},!0),l.method=(l.method||this.defaults.method||"get").toLowerCase();let m=f&&I.merge(f.common,f[l.method]);f&&I.forEach(["delete","get","head","post","put","patch","common"],k=>{delete f[k]}),l.headers=Lt.concat(m,f);const p=[];let x=!0;this.interceptors.request.forEach(function(P){typeof P.runWhen=="function"&&P.runWhen(l)===!1||(x=x&&P.synchronous,p.unshift(P.fulfilled,P.rejected))});const v=[];this.interceptors.response.forEach(function(P){v.push(P.fulfilled,P.rejected)});let j,y=0,A;if(!x){const k=[Dm.bind(this),void 0];for(k.unshift(...p),k.push(...v),A=k.length,j=Promise.resolve(l);y<A;)j=j.then(k[y++],k[y++]);return j}A=p.length;let O=l;for(;y<A;){const k=p[y++],P=p[y++];try{O=k(O)}catch(F){P.call(this,F);break}}try{j=Dm.call(this,O)}catch(k){return Promise.reject(k)}for(y=0,A=v.length;y<A;)j=j.then(v[y++],v[y++]);return j}getUri(a){a=As(this.defaults,a);const l=Pf(a.baseURL,a.url,a.allowAbsoluteUrls);return Sf(l,a.params,a.paramsSerializer)}};I.forEach(["delete","get","head","options"],function(a){_s.prototype[a]=function(l,c){return this.request(As(c||{},{method:a,url:l,data:(c||{}).data}))}});I.forEach(["post","put","patch"],function(a){function l(c){return function(f,m,p){return this.request(As(p||{},{method:a,headers:c?{"Content-Type":"multipart/form-data"}:{},url:f,data:m}))}}_s.prototype[a]=l(),_s.prototype[a+"Form"]=l(!0)});let zv=class Of{constructor(a){if(typeof a!="function")throw new TypeError("executor must be a function.");let l;this.promise=new Promise(function(f){l=f});const c=this;this.promise.then(u=>{if(!c._listeners)return;let f=c._listeners.length;for(;f-- >0;)c._listeners[f](u);c._listeners=null}),this.promise.then=u=>{let f;const m=new Promise(p=>{c.subscribe(p),f=p}).then(u);return m.cancel=function(){c.unsubscribe(f)},m},a(function(f,m,p){c.reason||(c.reason=new ir(f,m,p),l(c.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(a){if(this.reason){a(this.reason);return}this._listeners?this._listeners.push(a):this._listeners=[a]}unsubscribe(a){if(!this._listeners)return;const l=this._listeners.indexOf(a);l!==-1&&this._listeners.splice(l,1)}toAbortSignal(){const a=new AbortController,l=c=>{a.abort(c)};return this.subscribe(l),a.signal.unsubscribe=()=>this.unsubscribe(l),a.signal}static source(){let a;return{token:new Of(function(u){a=u}),cancel:a}}};function Iv(r){return function(l){return r.apply(null,l)}}function Uv(r){return I.isObject(r)&&r.isAxiosError===!0}const ec={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ec).forEach(([r,a])=>{ec[a]=r});function Mf(r){const a=new _s(r),l=hf(_s.prototype.request,a);return I.extend(l,_s.prototype,a,{allOwnKeys:!0}),I.extend(l,a,null,{allOwnKeys:!0}),l.create=function(u){return Mf(As(r,u))},l}const nt=Mf(ra);nt.Axios=_s;nt.CanceledError=ir;nt.CancelToken=zv;nt.isCancel=Ff;nt.VERSION=Tf;nt.toFormData=Wl;nt.AxiosError=Ne;nt.Cancel=nt.CanceledError;nt.all=function(a){return Promise.all(a)};nt.spread=Iv;nt.isAxiosError=Uv;nt.mergeConfig=As;nt.AxiosHeaders=Lt;nt.formToJSON=r=>Af(I.isHTMLForm(r)?new FormData(r):r);nt.getAdapter=Lf.getAdapter;nt.HttpStatusCode=ec;nt.default=nt;const{Axios:T1,AxiosError:O1,CanceledError:M1,isCancel:$1,CancelToken:z1,VERSION:I1,all:U1,Cancel:V1,isAxiosError:H1,spread:W1,toFormData:q1,AxiosHeaders:K1,HttpStatusCode:Q1,formToJSON:Y1,getAdapter:G1,mergeConfig:J1}=nt;/*! js-cookie v3.0.5 | MIT */function El(r){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var c in l)r[c]=l[c]}return r}var Vv={read:function(r){return r[0]==='"'&&(r=r.slice(1,-1)),r.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(r){return encodeURIComponent(r).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function tc(r,a){function l(u,f,m){if(!(typeof document>"u")){m=El({},a,m),typeof m.expires=="number"&&(m.expires=new Date(Date.now()+m.expires*864e5)),m.expires&&(m.expires=m.expires.toUTCString()),u=encodeURIComponent(u).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var p="";for(var x in m)m[x]&&(p+="; "+x,m[x]!==!0&&(p+="="+m[x].split(";")[0]));return document.cookie=u+"="+r.write(f,u)+p}}function c(u){if(!(typeof document>"u"||arguments.length&&!u)){for(var f=document.cookie?document.cookie.split("; "):[],m={},p=0;p<f.length;p++){var x=f[p].split("="),v=x.slice(1).join("=");try{var j=decodeURIComponent(x[0]);if(m[j]=r.read(v,j),u===j)break}catch{}}return u?m[u]:m}}return Object.create({set:l,get:c,remove:function(u,f){l(u,"",El({},f,{expires:-1}))},withAttributes:function(u){return tc(this.converter,El({},this.attributes,u))},withConverter:function(u){return tc(El({},this.converter,u),this.attributes)}},{attributes:{value:Object.freeze(a)},converter:{value:Object.freeze(r)}})}var aa=tc(Vv,{path:"/"});const Hv="http://localhost:8000/api",$f="auth_token",me=nt.create({baseURL:Hv,headers:{"Content-Type":"application/json",Accept:"application/json"}});me.interceptors.request.use(r=>{const a=aa.get($f);return a&&r.headers&&(r.headers.Authorization=`Bearer ${a}`),r.data instanceof FormData&&r.headers&&delete r.headers["Content-Type"],r},r=>Promise.reject(r));me.interceptors.response.use(r=>r,r=>{if(!r.response)return Q.error("Network error. Please check your connection."),Promise.reject(r);const{status:a,data:l}=r.response;if(a===401)return aa.remove($f),setTimeout(()=>{window.location.href="/login"},100),Promise.reject(r);if(a===403)return Q.error(l?.message||"You do not have permission to perform this action."),Promise.reject(r);if(a===422&&l?.errors){const c=Object.values(l.errors)[0]?.[0];return c&&Q.error(c),Promise.reject(r)}return l?.message?Q.error(l.message):Q.error("An unexpected error occurred. Please try again."),Promise.reject(r)});function pe(r){if(r.data.success&&r.data.data!==void 0)return r.data.data;throw new Error(r.data.message||"Invalid response format")}function Tn(r){return r.data.meta||{}}const vc="auth_token",Wv={expires:7,secure:!0,sameSite:"strict"};function Tm(r){aa.set(vc,r,Wv)}function qv(){return aa.get(vc)}function Kv(){aa.remove(vc)}function zf(){return!!qv()}const la={async register(r){const a=await me.post("/auth/register",r),l=pe(a);return Tm(l.token),l},async login(r){const a=await me.post("/auth/login",r),l=pe(a);return Tm(l.token),l},async logout(){try{await me.post("/auth/logout")}catch(r){console.error("Logout error:",r)}finally{Kv()}},async getCurrentUser(){const r=await me.get("/auth/me");return pe(r)}};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yv=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(a,l,c)=>c?c.toUpperCase():l.toLowerCase()),Om=r=>{const a=Yv(r);return a.charAt(0).toUpperCase()+a.slice(1)},If=(...r)=>r.filter((a,l,c)=>!!a&&a.trim()!==""&&c.indexOf(a)===l).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Gv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:c,className:u="",children:f,iconNode:m,...p},x)=>g.createElement("svg",{ref:x,...Gv,width:a,height:a,stroke:r,strokeWidth:c?Number(l)*24/Number(a):l,className:If("lucide",u),...p},[...m.map(([v,j])=>g.createElement(v,j)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=(r,a)=>{const l=g.forwardRef(({className:c,...u},f)=>g.createElement(Jv,{ref:f,iconNode:a,className:If(`lucide-${Qv(Om(r))}`,`lucide-${r}`,c),...u}));return l.displayName=Om(r),l};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jt=Ce("arrow-left",Xv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],os=Ce("building-2",Zv);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],On=Ce("calendar",ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nj=Ce("chevron-down",tj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sj=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rj=Ce("chevron-left",sj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aj=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],lj=Ce("chevron-right",aj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ij=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Mm=Ce("circle-arrow-down",ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Zt=Ce("circle-alert",oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]],uj=Ce("circle-arrow-up",cj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dj=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qe=Ce("circle-check-big",dj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Uf=Ce("circle-x",mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],En=Ce("clock",fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nc=Ce("credit-card",pj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],en=Ce("dollar-sign",hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gj=Ce("eye-off",xj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vf=Ce("eye",yj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Jr=Ce("file-text",vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]],Bl=Ce("folder-kanban",jj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Nj=Ce("house",wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Vo=Ce("image",bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Cj=Ce("info",Ej);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sj=Ce("layout-dashboard",kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Aj=Ce("loader-circle",_j);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$m=Ce("log-out",Fj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bj=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Pj=Ce("mail",Bj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dj=Ce("map-pin",Rj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lj=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Tj=Ce("menu",Lj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Tl=Ce("message-square",Oj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],$j=Ce("phone",Mj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Yr=Ce("plus",zj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ij=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Pl=Ce("receipt",Ij);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uj=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],jc=Ce("search",Uj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zm=Ce("settings",Vj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],sc=Ce("shield",Hj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wj=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qj=Ce("star",Wj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kj=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Hf=Ce("trash-2",Kj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qj=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Yj=Ce("upload",Qj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gj=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],rc=Ce("video",Gj);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jj=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mn=Ce("x",Jj);function Xj({children:r,userRole:a="client",userName:l="User"}){const[c,u]=g.useState(!0),[f,m]=g.useState(73),p=g.useRef(null),x=Xe(),j=zn().pathname;g.useEffect(()=>{const O=()=>{p.current&&m(p.current.offsetHeight)};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const y=async()=>{try{await la.logout(),Q.success("Logged out successfully"),x("/login")}catch(O){console.error("Logout error:",O),x("/login")}},A=[{label:"Dashboard",icon:t.jsx(Sj,{className:"w-5 h-5"}),path:"/dashboard"},{label:"Consultations",icon:t.jsx(On,{className:"w-5 h-5"}),path:"/consultations"},{label:"Projects",icon:t.jsx(Bl,{className:"w-5 h-5"}),path:"/projects"},{label:"Transactions",icon:t.jsx(Pl,{className:"w-5 h-5"}),path:"/transactions"},{label:"Messages",icon:t.jsx(Tl,{className:"w-5 h-5"}),path:"/messages"},{label:"Settings",icon:t.jsx(zm,{className:"w-5 h-5"}),path:"/settings"}];return a==="admin"&&A.push({label:"Companies",icon:t.jsx(os,{className:"w-5 h-5"}),path:"/admin/companies",adminOnly:!0},{label:"Escrow",icon:t.jsx(sc,{className:"w-5 h-5"}),path:"/admin/escrow",adminOnly:!0},{label:"Disputes",icon:t.jsx(Zt,{className:"w-5 h-5"}),path:"/admin/disputes",adminOnly:!0},{label:"Platform Settings",icon:t.jsx(zm,{className:"w-5 h-5"}),path:"/admin/platform-settings",adminOnly:!0}),t.jsxs("div",{className:"h-screen bg-gradient-to-br from-[#F0F4F8] via-[#F8FAFC] to-[#F0F7FF] overflow-hidden",children:[t.jsx("header",{ref:p,className:"fixed top-0 left-0 right-0 w-full bg-white/95 backdrop-blur-sm border-b border-[#E0E7FF] z-40 shadow-sm",children:t.jsxs("div",{className:"flex items-center justify-between px-6 py-4",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("button",{onClick:()=>u(!c),className:"text-[#64748B] hover:text-[#1E3A8A] hover:bg-[#EFF6FF] transition-all p-2 rounded-lg",children:c?t.jsx(mn,{className:"w-5 h-5"}):t.jsx(Tj,{className:"w-5 h-5"})}),!c&&t.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-[#1E3A8A] to-[#3B82F6] bg-clip-text text-transparent",children:"BT"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-[#F0F7FF] transition-colors cursor-pointer group",children:[t.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-[#1E3A8A] via-[#2563EB] to-[#3B82F6] flex items-center justify-center text-white text-sm font-bold shadow-md",children:l.charAt(0).toUpperCase()}),t.jsxs("div",{className:"text-left",children:[t.jsx("p",{className:"text-sm font-semibold text-[#1E3A8A]",children:l}),t.jsx("p",{className:"text-xs text-[#64748B] capitalize",children:a})]}),t.jsx(nj,{className:"w-4 h-4 text-[#64748B] group-hover:text-[#1E3A8A] transition-colors"})]}),t.jsx("button",{onClick:y,className:"text-[#64748B] hover:text-[#DC2626] hover:bg-[#FEF2F2] transition-all p-2 rounded-lg",title:"Logout",children:t.jsx($m,{className:"w-5 h-5"})})]})]})}),t.jsx("aside",{style:{top:`${f}px`,height:`calc(100vh - ${f}px)`},className:`fixed left-0 bg-white border-r border-[#E0E7FF] transition-all duration-300 z-30 overflow-hidden shadow-sm ${c?"w-64":"w-16"}`,children:t.jsxs("div",{className:"h-full flex flex-col",children:[c&&t.jsx("div",{className:"p-4 border-b border-[#E0E7FF]",children:t.jsxs("button",{onClick:()=>x("/dashboard"),className:"w-full bg-gradient-to-r from-[#1E3A8A] via-[#2563EB] to-[#3B82F6] hover:from-[#1E40AF] hover:via-[#1D4ED8] hover:to-[#2563EB] text-white rounded-xl px-4 py-3 flex items-center gap-3 transition-all duration-200 shadow-lg hover:shadow-xl font-bold",children:[t.jsx(Nj,{className:"w-5 h-5"}),t.jsx("span",{className:"text-lg",children:"BuildTrust"})]})}),t.jsx("nav",{className:`flex-1 overflow-y-auto ${c?"p-4":"p-2"} space-y-1`,children:A.map(O=>{const k=j===O.path||j.startsWith(O.path+"/");return t.jsxs("button",{onClick:()=>x(O.path),className:`w-full flex items-center rounded-xl transition-all duration-200 ${c?"gap-3 px-4 py-3":"justify-center px-2 py-3"} ${k?"bg-gradient-to-r from-[#1E3A8A] via-[#2563EB] to-[#3B82F6] text-white shadow-lg font-semibold":"text-[#64748B] hover:bg-gradient-to-r hover:from-[#EFF6FF] hover:to-[#DBEAFE] hover:text-[#1E3A8A] font-medium"}`,title:c?void 0:O.label,children:[t.jsx("span",{className:k?"text-white":"",children:O.icon}),c&&t.jsx("span",{className:`text-sm ${k?"text-white":"text-[#64748B]"}`,children:O.label})]},O.path)})}),t.jsx("div",{className:`border-t border-[#E0E7FF] ${c?"p-4":"p-2"}`,children:t.jsxs("button",{onClick:y,className:`w-full flex items-center rounded-xl transition-all duration-200 text-[#DC2626] hover:bg-[#FEF2F2] hover:text-[#B91C1C] font-medium ${c?"gap-3 px-4 py-3":"justify-center px-2 py-3"}`,title:c?void 0:"Logout",children:[t.jsx($m,{className:"w-5 h-5"}),c&&t.jsx("span",{className:"text-sm",children:"Log Out"})]})})]})}),t.jsx("main",{style:{marginTop:`${f}px`,marginLeft:c?"16rem":"4rem",height:`calc(100vh - ${f}px)`},className:"overflow-y-auto transition-all duration-300",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:r})})]})}function X({variant:r="primary",size:a="md",children:l,fullWidth:c=!1,className:u="",disabled:f,...m}){const p="inline-flex items-center justify-center gap-2 rounded-lg font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",x={primary:"bg-[#1E3A8A] text-white hover:bg-[#1D4ED8] focus:ring-[#1E3A8A]",secondary:"border-2 border-[#334155] text-[#334155] bg-white hover:bg-[#F8FAFC] focus:ring-[#334155]",danger:"bg-[#DC2626] text-white hover:bg-[#B91C1C] focus:ring-[#DC2626]",ghost:"text-[#64748B] hover:bg-[#F8FAFC] focus:ring-[#64748B]"},v={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},j=c?"w-full":"";return t.jsx("button",{className:`${p} ${x[r]} ${v[a]} ${j} ${u}`,disabled:f,...m,children:l})}function Zj({onNavigate:r}){return t.jsxs("div",{className:"min-h-screen bg-[#F8FAFC]",children:[t.jsx("header",{className:"bg-white border-b border-[#E5E7EB]",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[t.jsx("h1",{className:"text-xl font-semibold text-[#334155]",children:"BuildTrust"}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(X,{variant:"ghost",onClick:()=>r("/login"),children:"Sign In"}),t.jsx(X,{onClick:()=>r("/register"),children:"Get Started"})]})]})}),t.jsx("section",{className:"max-w-7xl mx-auto px-6 py-16",children:t.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[t.jsx("h2",{className:"text-4xl font-semibold text-[#334155] mb-6",children:"Build Your Dream Home in Africa with Complete Trust"}),t.jsx("p",{className:"text-lg text-[#64748B] mb-8",children:"Secure escrow platform connecting Africans in the diaspora with verified construction companies. Fund projects with confidence, approve milestones, and release payments only when work is complete."}),t.jsx(X,{size:"lg",onClick:()=>r("/consultations"),children:"Book Free Consultation"})]})}),t.jsx("section",{className:"bg-white border-y border-[#E5E7EB] py-16",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[t.jsx("h3",{className:"text-2xl font-semibold text-[#334155] text-center mb-12",children:"How It Works"}),t.jsx("div",{className:"grid md:grid-cols-4 gap-8",children:[{icon:t.jsx(On,{className:"w-8 h-8"}),title:"1. Book Consultation",description:"Connect with verified construction companies for a free initial consultation."},{icon:t.jsx(Jr,{className:"w-8 h-8"}),title:"2. Define Project",description:"Agree on scope, milestones, and payment schedule with complete transparency."},{icon:t.jsx(sc,{className:"w-8 h-8"}),title:"3. Fund Escrow",description:"Your funds are held securely in escrow until each milestone is approved."},{icon:t.jsx(Qe,{className:"w-8 h-8"}),title:"4. Approve & Release",description:"Review photo/video evidence and approve payments for completed work."}].map((a,l)=>t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-[#1E3A8A] text-white rounded-full mb-4",children:a.icon}),t.jsx("h4",{className:"text-lg font-medium text-[#334155] mb-2",children:a.title}),t.jsx("p",{className:"text-sm text-[#64748B]",children:a.description})]},l))})]})}),t.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-16",children:[t.jsx("h3",{className:"text-2xl font-semibold text-[#334155] text-center mb-12",children:"Why Escrow Matters"}),t.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{title:"Full Financial Control",description:"Release funds only when you approve completed milestones. No surprises, no upfront risks."},{title:"Verified Companies Only",description:"Every construction company is thoroughly vetted and verified by our admin team."},{title:"Evidence-Based Approvals",description:"Review photos and videos of completed work before releasing any payment."}].map((a,l)=>t.jsxs("div",{className:"bg-white rounded-xl border border-[#E5E7EB] p-6",children:[t.jsx("div",{className:"w-10 h-10 bg-[#DBEAFE] rounded-lg flex items-center justify-center mb-4",children:t.jsx(sc,{className:"w-5 h-5 text-[#1E3A8A]"})}),t.jsx("h4",{className:"text-lg font-medium text-[#334155] mb-2",children:a.title}),t.jsx("p",{className:"text-sm text-[#64748B]",children:a.description})]},l))})]}),t.jsx("section",{className:"bg-[#1E3A8A] py-16",children:t.jsxs("div",{className:"max-w-7xl mx-auto px-6 text-center",children:[t.jsx("h3",{className:"text-2xl font-semibold text-white mb-4",children:"Ready to Start Building?"}),t.jsx("p",{className:"text-lg text-white/80 mb-8",children:"Book a free consultation with a verified construction company today."}),t.jsx(X,{size:"lg",variant:"secondary",onClick:()=>r("/register"),children:"Create Free Account"})]})}),t.jsx("footer",{className:"bg-white border-t border-[#E5E7EB] py-8",children:t.jsx("div",{className:"max-w-7xl mx-auto px-6 text-center",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:" 2026 BuildTrust. Secure construction for the diaspora."})})})]})}function Ue({label:r,helperText:a,error:l,className:c="",id:u,type:f,...m}){const p=g.useRef(null);p.current||(p.current=u||`input-${Math.random().toString(36).substr(2,9)}`);const x=u||p.current,[v,j]=g.useState(!1),y=f==="password",A=y&&v?"text":f;return t.jsxs("div",{className:"w-full",children:[r&&t.jsx("label",{htmlFor:x,className:"block text-xs uppercase tracking-wide text-[#64748B] mb-2",children:r}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{id:x,type:A,className:`w-full px-4 py-2 rounded-lg border ${l?"border-[#DC2626] focus:border-[#DC2626] focus:ring-[#DC2626]":"border-[#E5E7EB] focus:border-[#1E3A8A] focus:ring-[#1E3A8A]"} focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors text-sm text-[#334155] placeholder:text-[#64748B] ${y?"pr-10":""} ${c}`,...m}),y&&t.jsx("button",{type:"button",onClick:()=>j(!v),className:"absolute right-3 top-1/2 -translate-y-1/2 text-[#64748B] hover:text-[#334155] transition-colors","aria-label":v?"Hide password":"Show password",children:v?t.jsx(gj,{className:"w-5 h-5"}):t.jsx(Vf,{className:"w-5 h-5"})})]}),l&&t.jsx("p",{className:"mt-1 text-xs text-[#DC2626]",children:l}),a&&!l&&t.jsx("p",{className:"mt-1 text-xs text-[#64748B]",children:a})]})}function e1({onNavigate:r,onLogin:a}){const[l,c]=g.useState(""),[u,f]=g.useState(""),[m,p]=g.useState(!1),x=async v=>{v.preventDefault(),p(!0);try{const j=await la.login({email:l,password:u});Q.success(j.user.name?`Welcome back, ${j.user.name}!`:"Login successful"),a(j.user.role,j.user),r("/dashboard")}catch(j){console.error("Login error:",j)}finally{p(!1)}};return t.jsx("div",{className:"min-h-screen bg-[#F8FAFC] flex items-center justify-center px-6",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"BuildTrust"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Sign in to your account"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-[#E5E7EB] shadow-sm p-8",children:[t.jsxs("form",{onSubmit:x,className:"space-y-6",children:[t.jsx(Ue,{type:"email",label:"Email Address",placeholder:"you@example.com",value:l,onChange:v=>c(v.target.value),required:!0}),t.jsx(Ue,{type:"password",label:"Password",placeholder:"Enter your password",value:u,onChange:v=>f(v.target.value),required:!0}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded border-[#E5E7EB] text-[#1E3A8A] focus:ring-[#1E3A8A]"}),t.jsx("span",{className:"text-sm text-[#64748B]",children:"Remember me"})]}),t.jsx("button",{type:"button",className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8]",children:"Forgot password?"})]}),t.jsx(X,{type:"submit",fullWidth:!0,size:"lg",disabled:m,children:m?"Signing in...":"Sign In"})]}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Don't have an account? "}),t.jsx("button",{onClick:()=>r("/register"),className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8] font-medium",children:"Sign up"})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:()=>r("/"),className:"text-sm text-[#64748B] hover:text-[#334155]",children:" Back to home"})})]})})}function bn({label:r,helperText:a,error:l,options:c,placeholder:u,className:f="",id:m,...p}){const x=m||`select-${Math.random().toString(36).substr(2,9)}`;return t.jsxs("div",{className:"w-full",children:[r&&t.jsx("label",{htmlFor:x,className:"block text-xs uppercase tracking-wide text-[#64748B] mb-2",children:r}),t.jsxs("select",{id:x,className:`w-full px-4 py-2 rounded-lg border ${l?"border-[#DC2626] focus:border-[#DC2626] focus:ring-[#DC2626]":"border-[#E5E7EB] focus:border-[#1E3A8A] focus:ring-[#1E3A8A]"} focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors text-sm text-[#334155] bg-white ${f}`,...p,children:[u&&t.jsx("option",{value:"",disabled:!0,children:u}),c.map(v=>t.jsx("option",{value:v.value,children:v.label},v.value))]}),l&&t.jsx("p",{className:"mt-1 text-xs text-[#DC2626]",children:l}),a&&!l&&t.jsx("p",{className:"mt-1 text-xs text-[#64748B]",children:a})]})}function t1({onNavigate:r,onRegister:a}){const[l,c]=g.useState({role:"",fullName:"",email:"",phone:"",password:"",confirmPassword:""}),[u,f]=g.useState(!1),m=async p=>{if(p.preventDefault(),l.password!==l.confirmPassword){Q.error("Passwords do not match");return}if(!l.role){Q.error("Please select an account type");return}f(!0);try{const x=await la.register({name:l.fullName,email:l.email,phone:l.phone||void 0,password:l.password,password_confirmation:l.confirmPassword,role:l.role});Q.success(`Account created successfully! Welcome, ${x.user.name}!`),a(x.user.role,x.user),r("/dashboard")}catch(x){console.error("Registration error:",x)}finally{f(!1)}};return t.jsx("div",{className:"min-h-screen bg-[#F8FAFC] flex items-center justify-center px-6 py-12",children:t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"BuildTrust"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Create your account"})]}),t.jsxs("div",{className:"bg-white rounded-xl border border-[#E5E7EB] shadow-sm p-8",children:[t.jsxs("form",{onSubmit:m,className:"space-y-5",children:[t.jsx(bn,{label:"Account Type",options:[{value:"client",label:"Client (Diaspora)"},{value:"company",label:"Construction Company"}],placeholder:"Select account type",value:l.role,onChange:p=>c({...l,role:p.target.value}),required:!0}),t.jsx(Ue,{type:"text",label:"Full Name",placeholder:"John Doe",value:l.fullName,onChange:p=>c({...l,fullName:p.target.value}),required:!0}),t.jsx(Ue,{type:"email",label:"Email Address",placeholder:"you@example.com",value:l.email,onChange:p=>c({...l,email:p.target.value}),required:!0}),t.jsx(Ue,{type:"tel",label:"Phone Number (Optional)",placeholder:"+1234567890",value:l.phone,onChange:p=>c({...l,phone:p.target.value})}),t.jsx(Ue,{type:"password",label:"Password",placeholder:"Create a password",value:l.password,onChange:p=>c({...l,password:p.target.value}),helperText:"Minimum 8 characters",required:!0}),t.jsx(Ue,{type:"password",label:"Confirm Password",placeholder:"Confirm your password",value:l.confirmPassword,onChange:p=>c({...l,confirmPassword:p.target.value}),required:!0}),t.jsx("div",{className:"pt-2",children:t.jsx(X,{type:"submit",fullWidth:!0,size:"lg",disabled:u,children:u?"Creating account...":"Create Account"})})]}),t.jsxs("div",{className:"mt-6 text-center",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Already have an account? "}),t.jsx("button",{onClick:()=>r("/login"),className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8] font-medium",children:"Sign in"})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:()=>r("/"),className:"text-sm text-[#64748B] hover:text-[#334155]",children:" Back to home"})})]})})}function Z({children:r,className:a="",onClick:l}){return t.jsx("div",{className:`bg-white rounded-xl border border-[#E5E7EB] shadow-sm p-6 ${l?"cursor-pointer hover:shadow-md transition-shadow":""} ${a}`,onClick:l,children:r})}function ve({children:r,className:a=""}){return t.jsx("div",{className:`mb-4 ${a}`,children:r})}function je({children:r,className:a=""}){return t.jsx("h3",{className:`text-lg font-medium text-[#334155] ${a}`,children:r})}function ne({children:r,className:a=""}){return t.jsx("div",{className:a,children:r})}function ze({status:r,className:a=""}){const l={pending:{bg:"bg-[#FEF3C7]",text:"text-[#92400E]",label:"Pending"},approved:{bg:"bg-[#D1FAE5]",text:"text-[#065F46]",label:"Approved"},rejected:{bg:"bg-[#FEE2E2]",text:"text-[#991B1B]",label:"Rejected"},funded:{bg:"bg-[#DBEAFE]",text:"text-[#1E40AF]",label:"Funded"},released:{bg:"bg-[#D1FAE5]",text:"text-[#065F46]",label:"Released"},disputed:{bg:"bg-[#FEE2E2]",text:"text-[#991B1B]",label:"Disputed"},completed:{bg:"bg-[#D1FAE5]",text:"text-[#065F46]",label:"Completed"},active:{bg:"bg-[#DBEAFE]",text:"text-[#1E40AF]",label:"Active"},scheduled:{bg:"bg-[#E0E7FF]",text:"text-[#3730A3]",label:"Scheduled"}},c=l[r];if(!c){console.warn(`Invalid status badge status: ${r}. Falling back to 'pending'.`);const u=l.pending;return t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${u.bg} ${u.text} ${a}`,children:r||"Unknown"})}return t.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${c.bg} ${c.text} ${a}`,children:c.label})}const Gt={async list(r){const a=await me.get("/client/consultations",{params:r}),l=pe(a),c=Tn(a);return{consultations:l,meta:c}},async listForCompany(r){const a=await me.get("/company/consultations",{params:r}),l=pe(a),c=Tn(a);return{consultations:l,meta:c}},async get(r){const a=await me.get(`/client/consultations/${r}`);return pe(a)},async getForCompany(r){const a=await me.get(`/company/consultations/${r}`);return pe(a)},async create(r){const a=await me.post("/client/consultations",r);return pe(a)},async pay(r){const a=await me.post(`/client/consultations/${r}/pay`);return pe(a)},async complete(r){const a=await me.post(`/company/consultations/${r}/complete`);return pe(a)}},gt={async list(r){const a=await me.get("/client/projects",{params:r}),l=pe(a),c=Tn(a);return{projects:l,meta:c}},async listForCompany(r){const a=await me.get("/company/projects",{params:r}),l=pe(a),c=Tn(a);return{projects:l,meta:c}},async get(r){const a=await me.get(`/client/projects/${r}`);return pe(a)},async getForCompany(r){const a=await me.get(`/company/projects/${r}`);return pe(a)},async getShared(r){const a=await me.get(`/projects/${r}`);return pe(a)},async create(r){const a=await me.post("/client/projects",r);return pe(a)},async createMilestones(r,a){const l=await me.post(`/company/projects/${r}/milestones`,{milestones:a});return pe(l)}};function n1({userRole:r}){const a=Xe(),[l,c]=g.useState([]),[u,f]=g.useState([]),[m,p]=g.useState(!0),[x,v]=g.useState(!1);g.useEffect(()=>{j()},[r]);const j=async()=>{try{if(p(!0),v(!1),r==="company")try{const[B,b]=await Promise.all([Gt.listForCompany({per_page:10}),gt.listForCompany({per_page:10})]);c(B.consultations),f(b.projects)}catch(B){if(B.response?.status===404&&B.response?.data?.message?.includes("Company profile not found"))v(!0);else throw B}else if(r==="client"){const[B,b]=await Promise.all([Gt.list({per_page:10}),gt.list({per_page:10})]);c(B.consultations),f(b.projects)}else p(!1)}catch(B){console.error("Failed to load dashboard data:",B)}finally{p(!1)}},y=l.filter(B=>B.status==="scheduled"&&!B.is_completed).length,A=u.filter(B=>B.status==="active"||B.status==="draft").length,O=u.reduce((B,b)=>b.milestones?B+b.milestones.reduce((W,ye)=>ye.escrow&&ye.escrow.status==="held"?W+ye.escrow.amount:W,0):B,0),k=u.reduce((B,b)=>b.milestones?B+b.milestones.filter(W=>W.status==="submitted").length:B,0),P=l.filter(B=>B.status==="scheduled"&&!B.is_completed).sort((B,b)=>new Date(B.scheduled_at).getTime()-new Date(b.scheduled_at).getTime()).slice(0,5),F=u.filter(B=>B.status==="active"||B.status==="draft").slice(0,5),R=u.flatMap(B=>B.milestones?B.milestones.filter(b=>b.status==="submitted").map(b=>({id:b.id,title:`Review ${b.title} Milestone`,project:B.title,projectId:B.id,milestoneId:b.id,type:"approval"})):[]),L=B=>new Date(B).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=B=>{if(!B.milestones||B.milestones.length===0)return 0;const b=B.milestones.filter(W=>W.status==="approved"||W.status==="released").length;return Math.round(b/B.milestones.length*100)},H=[{label:"Active Consultations",value:y.toString(),icon:t.jsx(On,{className:"w-6 h-6"}),gradient:"from-[#3B82F6] via-[#2563EB] to-[#1E40AF]",bgGradient:"from-[#EFF6FF] to-[#DBEAFE]",iconBg:"bg-[#3B82F6]/10",change:"0%",subtitle:`${l.length} total`},{label:"Active Projects",value:A.toString(),icon:t.jsx(Bl,{className:"w-6 h-6"}),gradient:"from-[#8B5CF6] via-[#7C3AED] to-[#6D28D9]",bgGradient:"from-[#F5F3FF] to-[#EDE9FE]",iconBg:"bg-[#8B5CF6]/10",change:"0%",subtitle:`${u.length} total`},{label:"Escrow Balance",value:`${O.toLocaleString()}`,icon:t.jsx(en,{className:"w-6 h-6"}),gradient:"from-[#1E3A8A] via-[#1E40AF] to-[#1E3A8A]",bgGradient:"from-[#EFF6FF] to-[#DBEAFE]",iconBg:"bg-[#1E3A8A]/10",change:"0%",subtitle:"Held in escrow"},{label:"Pending Approvals",value:k.toString(),icon:t.jsx(En,{className:"w-6 h-6"}),gradient:"from-[#F59E0B] via-[#D97706] to-[#B45309]",bgGradient:"from-[#FFFBEB] to-[#FEF3C7]",iconBg:"bg-[#F59E0B]/10",change:"0%",subtitle:"Require action"}];return x?t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{children:t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Dashboard"})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Zt,{className:"w-16 h-16 text-[#F59E0B] mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-[#334155] mb-2",children:"Company Profile Required"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-6",children:"You need to create your company profile before you can access consultations and projects."}),t.jsx(X,{onClick:()=>a("/settings"),className:"bg-[#1E3A8A] text-white",children:"Go to Settings"})]})})})]}):m?t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Dashboard"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Welcome back! Here's an overview of your projects."})]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading dashboard..."})]})]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-[#1E3A8A] via-[#2563EB] to-[#3B82F6] bg-clip-text text-transparent mb-2",children:"Dashboard"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Welcome back! Here's an overview of your projects and activities."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:H.map((B,b)=>t.jsxs("div",{className:`relative overflow-hidden rounded-2xl bg-gradient-to-br ${B.bgGradient} border border-white/50 shadow-lg hover:shadow-xl transition-all duration-300 group`,children:[t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsx("div",{className:`w-14 h-14 rounded-xl ${B.iconBg} flex items-center justify-center text-white bg-gradient-to-br ${B.gradient} shadow-md group-hover:scale-110 transition-transform duration-300`,children:B.icon}),t.jsx("div",{className:"text-right",children:t.jsx("span",{className:"text-xs font-medium text-[#64748B]",children:B.change})})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1 font-medium",children:B.label}),t.jsx("p",{className:"text-3xl font-bold text-[#1E3A8A] mb-1",children:B.value}),t.jsx("p",{className:"text-xs text-[#64748B]",children:B.subtitle})]})]}),t.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r ${B.gradient}`})]},b))}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(Z,{className:"border border-[#E0E7FF] shadow-lg hover:shadow-xl transition-shadow duration-300",children:[t.jsx(ve,{className:"bg-gradient-to-r from-[#EFF6FF] to-[#DBEAFE] border-b border-[#E0E7FF]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#3B82F6] to-[#1E3A8A] flex items-center justify-center",children:t.jsx(On,{className:"w-4 h-4 text-white"})}),t.jsx(je,{className:"text-[#1E3A8A] font-bold",children:"Upcoming Consultations"})]}),t.jsx(X,{variant:"ghost",size:"sm",onClick:()=>a("/consultations"),className:"text-[#3B82F6] hover:text-[#1E3A8A] hover:bg-white/50",children:"View All"})]})}),t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[P.map(B=>t.jsxs("div",{onClick:()=>a(`/consultations/${B.id}`),className:"flex items-center justify-between p-4 bg-gradient-to-r from-white to-[#F8FAFF] rounded-xl border border-[#E0E7FF] hover:border-[#3B82F6] hover:shadow-md cursor-pointer transition-all duration-200 group",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-[#1E3A8A] group-hover:text-[#2563EB] transition-colors",children:B.company?.company_name||"Company"}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:L(B.scheduled_at)})]}),t.jsx(ze,{status:B.status})]},B.id)),P.length===0&&t.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-[#F8FAFF] to-[#EFF6FF] rounded-xl border border-[#E0E7FF]",children:[t.jsx(On,{className:"w-12 h-12 text-[#3B82F6]/30 mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"No upcoming consultations"}),t.jsx(X,{onClick:()=>a("/consultations"),className:"bg-gradient-to-r from-[#1E3A8A] to-[#3B82F6] text-white hover:from-[#1E40AF] hover:to-[#2563EB] shadow-md",children:"Book Consultation"})]})]})})]}),t.jsxs(Z,{className:"border border-[#E0E7FF] shadow-lg hover:shadow-xl transition-shadow duration-300",children:[t.jsx(ve,{className:"bg-gradient-to-r from-[#F5F3FF] to-[#EDE9FE] border-b border-[#E0E7FF]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#8B5CF6] to-[#6D28D9] flex items-center justify-center",children:t.jsx(Bl,{className:"w-4 h-4 text-white"})}),t.jsx(je,{className:"text-[#6D28D9] font-bold",children:"Active Projects"})]}),t.jsx(X,{variant:"ghost",size:"sm",onClick:()=>a("/projects"),className:"text-[#8B5CF6] hover:text-[#6D28D9] hover:bg-white/50",children:"View All"})]})}),t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"space-y-3",children:[F.map(B=>{const b=S(B);return t.jsxs("div",{onClick:()=>a(`/projects/${B.id}`),className:"p-4 bg-gradient-to-r from-white to-[#F8FAFF] rounded-xl border border-[#E0E7FF] hover:border-[#8B5CF6] hover:shadow-md cursor-pointer transition-all duration-200 group",children:[t.jsxs("div",{className:"flex items-start justify-between mb-3",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-[#1E3A8A] group-hover:text-[#2563EB] transition-colors",children:B.title}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:B.company?.company_name||"Company"})]}),t.jsx(ze,{status:B.status})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-xs font-medium text-[#64748B]",children:"Progress"}),t.jsxs("span",{className:"text-xs font-bold text-[#1E3A8A]",children:[b,"%"]})]}),t.jsx("div",{className:"w-full h-2.5 bg-[#E0E7FF] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-gradient-to-r from-[#3B82F6] via-[#2563EB] to-[#1E3A8A] rounded-full transition-all duration-500",style:{width:`${b}%`}})})]})]},B.id)}),F.length===0&&t.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-[#F8FAFF] to-[#EFF6FF] rounded-xl border border-[#E0E7FF]",children:[t.jsx(Bl,{className:"w-12 h-12 text-[#3B82F6]/30 mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No active projects"})]})]})})]})]}),R.length>0&&t.jsxs(Z,{className:"border border-[#FEF3C7] shadow-lg bg-gradient-to-br from-[#FFFBEB] to-[#FEF3C7]",children:[t.jsx(ve,{className:"bg-gradient-to-r from-[#FEF3C7] to-[#FDE68A] border-b border-[#F59E0B]/30",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-[#F59E0B] to-[#D97706] flex items-center justify-center",children:t.jsx(Zt,{className:"w-4 h-4 text-white"})}),t.jsx(je,{className:"text-[#B45309] font-bold",children:"Actions Required"})]})}),t.jsx(ne,{className:"p-4",children:t.jsx("div",{className:"space-y-3",children:R.map(B=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/80 rounded-xl border border-[#F59E0B]/30 hover:border-[#F59E0B] hover:shadow-md transition-all duration-200",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-semibold text-[#B45309]",children:B.title}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:B.project})]}),t.jsx(X,{size:"sm",onClick:()=>a(`/projects/${B.projectId}#milestone-${B.milestoneId}`),className:"bg-gradient-to-r from-[#F59E0B] to-[#D97706] text-white hover:from-[#D97706] hover:to-[#B45309] shadow-md",children:"Review"})]},B.id))})})]})]})}function xt({isOpen:r,onClose:a,title:l,children:c,primaryAction:u,secondaryAction:f,size:m="md"}){if(g.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[r]),!r)return null;const p={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl"};return t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:a}),t.jsxs("div",{className:`relative bg-white rounded-xl shadow-lg w-full ${p[m]} max-h-[90vh] flex flex-col`,children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-[#E5E7EB]",children:[t.jsx("h2",{className:"text-lg font-medium text-[#334155]",children:l}),t.jsx("button",{onClick:a,className:"text-[#64748B] hover:text-[#334155] transition-colors",children:t.jsx(mn,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"px-6 py-4 overflow-y-auto flex-1",children:c}),(u||f)&&t.jsxs("div",{className:"flex items-center justify-end gap-3 px-6 py-4 border-t border-[#E5E7EB]",children:[f&&t.jsx(X,{variant:"ghost",onClick:f.onClick,children:f.label}),u&&t.jsx(X,{variant:u.variant||"primary",onClick:u.onClick,disabled:u.disabled,children:u.label})]})]})]})}const s1={async listVerified(r){const a=await me.get("/client/companies",{params:r}),l=pe(a),c=Tn(a);return{companies:l,meta:c}},async get(r){const a=await me.get(`/client/companies/${r}`);return pe(a)}};function r1({userRole:r}){const a=Xe(),[l,c]=g.useState("companies"),[u,f]=g.useState(""),[m,p]=g.useState(null),[x,v]=g.useState(!1),[j,y]=g.useState([]),[A,O]=g.useState([]),[k,P]=g.useState(!0),[F,R]=g.useState(!0),[L,S]=g.useState(!1),[H,B]=g.useState({scheduledDate:"",scheduledTime:"",durationMinutes:30});g.useEffect(()=>{r&&(r==="client"&&b(),W())},[r]);const b=async()=>{try{P(!0);const{companies:V}=await s1.listVerified({per_page:20,...u&&{search:u}});y(V)}catch(V){console.error("Failed to load companies:",V),y([])}finally{P(!1)}},W=async()=>{if(r)try{if(R(!0),r==="company"){const{consultations:V}=await Gt.listForCompany();O(V)}else if(r==="client"){const{consultations:V}=await Gt.list();O(V)}else O([])}catch(V){console.error("Failed to load consultations:",V),O([])}finally{R(!1)}},ye=V=>{p(V),B({scheduledDate:"",scheduledTime:"",durationMinutes:30}),v(!0)},ee=async()=>{if(!m)return;if(!H.scheduledDate||!H.scheduledTime){Q.error("Please select date and time for consultation");return}const V=m.consultation_fee;if(!V||V<=0){Q.error("This company has not set a consultation fee. Please contact them before booking.");return}S(!0);try{const Ae=new Date(`${H.scheduledDate}T${H.scheduledTime}`).toISOString(),be=await Gt.create({company_id:m.id,scheduled_at:Ae,duration_minutes:H.durationMinutes});Q.success("Consultation booked successfully!"),v(!1);const Se=await Gt.pay(be.id);window.location.href=Se.payment_url}catch(Ae){console.error("Booking error:",Ae)}finally{S(!1)}},ge=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),We=V=>new Date(V).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),De=V=>{switch(V?.toLowerCase()){case"scheduled":return"scheduled";case"completed":return"completed";case"active":case"in_progress":return"active";case"pending":return"pending";case"approved":return"approved";case"rejected":case"cancelled":return"rejected";default:return"pending"}},_e=V=>{switch(V?.toLowerCase()){case"paid":return"approved";case"pending":case"unpaid":return"pending";case"refunded":return"rejected";default:return"pending"}};return r?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Consultations"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:r==="company"?"Manage your consultation bookings and meetings.":"Browse verified construction companies and manage your consultations."})]}),r==="client"&&t.jsx("div",{className:"border-b border-[#E5E7EB]",children:t.jsxs("div",{className:"flex gap-6",children:[t.jsx("button",{onClick:()=>c("companies"),className:`pb-4 text-sm font-medium transition-colors border-b-2 ${l==="companies"?"border-[#1E3A8A] text-[#1E3A8A]":"border-transparent text-[#64748B] hover:text-[#334155]"}`,children:"Browse Companies"}),t.jsxs("button",{onClick:()=>c("consultations"),className:`pb-4 text-sm font-medium transition-colors border-b-2 ${l==="consultations"?"border-[#1E3A8A] text-[#1E3A8A]":"border-transparent text-[#64748B] hover:text-[#334155]"}`,children:["My Consultations ",A.length>0&&`(${A.length})`]})]})}),r==="client"?t.jsxs(t.Fragment,{children:[l==="companies"&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold text-[#334155]",children:"Browse Verified Companies"}),t.jsx(X,{variant:"outline",onClick:b,disabled:k,children:"Refresh"})]}),t.jsx(Z,{children:t.jsx(ne,{children:t.jsxs("div",{className:"relative",children:[t.jsx(jc,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-[#64748B]"}),t.jsx("input",{type:"text",placeholder:"Search companies...",value:u,onChange:V=>f(V.target.value),onKeyDown:V=>{V.key==="Enter"&&b()},className:"w-full pl-10 pr-4 py-2 rounded-lg border border-[#E5E7EB] focus:border-[#1E3A8A] focus:ring-2 focus:ring-[#1E3A8A] focus:outline-none text-sm"})]})})}),k?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading companies..."})]}):j.length===0?t.jsx(Z,{children:t.jsx(ne,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(os,{className:"w-12 h-12 text-[#64748B] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No verified companies found."})]})})}):t.jsx("div",{className:"grid gap-6",children:j.map(V=>t.jsx(Z,{children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"flex items-start justify-between mb-3",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h3",{className:"text-lg font-medium text-[#334155]",children:V.company_name}),V.is_verified&&t.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-[#DBEAFE] text-[#1E40AF]",children:"Verified"})]}),V.specialization&&V.specialization.length>0&&t.jsx("p",{className:"text-sm text-[#64748B]",children:V.specialization.join(", ")})]})}),V.registration_number&&t.jsxs("p",{className:"text-sm text-[#64748B] mb-4",children:["Registration: ",V.registration_number]}),V.portfolio_links&&V.portfolio_links.length>0&&t.jsxs("div",{className:"flex items-center gap-2 text-sm text-[#64748B] mb-4",children:[t.jsx(os,{className:"w-4 h-4"}),t.jsx("span",{children:"Portfolio Available"})]})]}),t.jsxs("div",{className:"md:w-64 flex flex-col justify-between md:border-l md:border-[#E5E7EB] md:pl-6",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Consultation Fee"}),t.jsxs("p",{className:"text-2xl font-semibold text-[#334155] mb-4",children:["",(V.consultation_fee&&V.consultation_fee>0?V.consultation_fee:0).toLocaleString()]}),!(V.consultation_fee&&V.consultation_fee>0)&&t.jsx("p",{className:"text-xs text-[#64748B]",children:"Fee not set by company"})]}),t.jsx(X,{fullWidth:!0,onClick:()=>ye(V),children:"Book Consultation"})]})]})},V.id))})]}),l==="consultations"&&t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-[#334155]",children:"My Consultations"}),F?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading consultations..."})]}):A.length>0?t.jsx("div",{className:"grid gap-4",children:A.map(V=>t.jsx(Z,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-medium text-[#334155]",children:r==="company"?V.client?.name||"Client":V.company?.company_name||"Company"}),t.jsx(ze,{status:De(V.status)}),t.jsx(ze,{status:_e(V.payment_status)})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#64748B]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-4 h-4"}),t.jsx("span",{children:ge(V.scheduled_at)})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(En,{className:"w-4 h-4"}),t.jsxs("span",{children:[We(V.scheduled_at)," (",V.duration_minutes," min)"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(en,{className:"w-4 h-4"}),t.jsxs("span",{children:["",V.price.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(X,{variant:"outline",onClick:()=>a(`/consultations/${V.id}`),children:"View Details"}),r==="client"&&!V.is_paid&&V.payment_status!=="paid"&&t.jsx(X,{onClick:async()=>{try{const Ae=await Gt.pay(V.id);window.location.href=Ae.payment_url}catch(Ae){console.error("Payment error:",Ae)}},children:"Pay Now"}),r==="client"&&(V.is_paid||V.payment_status==="paid")&&t.jsx("span",{className:"text-sm text-[#16A34A] font-medium",children:"Paid"})]})]})},V.id))}):t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"No consultations found"})})]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx("h2",{className:"text-lg font-semibold text-[#334155]",children:r==="company"?"Consultation Requests":"My Consultations"}),F?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading consultations..."})]}):A.length>0?t.jsx("div",{className:"grid gap-4",children:A.map(V=>t.jsx(Z,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("h3",{className:"text-lg font-medium text-[#334155]",children:r==="company"?V.client?.name||"Client":V.company?.company_name||"Company"}),t.jsx(ze,{status:De(V.status)}),t.jsx(ze,{status:_e(V.payment_status)})]}),t.jsxs("div",{className:"flex items-center gap-4 text-sm text-[#64748B]",children:[t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(On,{className:"w-4 h-4"}),t.jsx("span",{children:ge(V.scheduled_at)})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(En,{className:"w-4 h-4"}),t.jsxs("span",{children:[We(V.scheduled_at)," (",V.duration_minutes," min)"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(en,{className:"w-4 h-4"}),t.jsxs("span",{children:["",V.price.toLocaleString()]})]})]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(X,{variant:"outline",onClick:()=>a(`/consultations/${V.id}`),children:"View Details"}),r==="client"&&!V.is_paid&&V.payment_status!=="paid"&&t.jsx(X,{onClick:async()=>{try{const Ae=await Gt.pay(V.id);window.location.href=Ae.payment_url}catch(Ae){console.error("Payment error:",Ae)}},children:"Pay Now"}),r==="client"&&(V.is_paid||V.payment_status==="paid")&&t.jsx("span",{className:"text-sm text-[#16A34A] font-medium",children:"Paid"})]})]})},V.id))}):t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"No consultations found"})})]}),t.jsx(xt,{isOpen:x,onClose:()=>!L&&v(!1),title:"Book Consultation",primaryAction:{label:L?"Processing...":"Confirm & Pay",onClick:ee,disabled:L},secondaryAction:{label:"Cancel",onClick:()=>v(!1),disabled:L},children:t.jsxs("div",{className:"space-y-4",children:[m&&t.jsxs("p",{className:"text-sm text-[#64748B]",children:["You're about to book a consultation with"," ",t.jsx("strong",{className:"text-[#334155]",children:m.company_name})]}),t.jsx(Ue,{label:"Preferred Date",type:"date",value:H.scheduledDate,onChange:V=>B({...H,scheduledDate:V.target.value}),min:new Date().toISOString().split("T")[0],required:!0}),t.jsx(Ue,{label:"Preferred Time",type:"time",value:H.scheduledTime,onChange:V=>B({...H,scheduledTime:V.target.value}),required:!0}),t.jsx(bn,{label:"Duration",options:[{value:"15",label:"15 minutes"},{value:"30",label:"30 minutes"},{value:"45",label:"45 minutes"},{value:"60",label:"60 minutes"}],value:H.durationMinutes.toString(),onChange:V=>B({...H,durationMinutes:parseInt(V.target.value)}),required:!0}),m&&m.consultation_fee&&m.consultation_fee>0?t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Consultation Fee (NGN)"}),t.jsxs("div",{className:"px-4 py-3 bg-[#F8F9FA] border border-[#E5E7EB] rounded-lg",children:[t.jsxs("p",{className:"text-lg font-semibold text-[#334155]",children:["",m.consultation_fee.toLocaleString()]}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:"This fee is set by the company and cannot be changed"})]})]}):t.jsx("div",{className:"px-4 py-3 bg-[#FEF3C7] border border-[#FCD34D] rounded-lg",children:t.jsx("p",{className:"text-sm text-[#92400E]",children:" This company has not set a consultation fee. Please contact them before booking."})}),m&&m.consultation_fee&&m.consultation_fee>0&&t.jsxs("div",{className:"pt-4 border-t border-[#E5E7EB]",children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-2",children:[t.jsx("span",{className:"text-[#64748B]",children:"Consultation Fee"}),t.jsxs("span",{className:"font-medium text-[#334155]",children:["",m.consultation_fee.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium text-[#334155]",children:"Total"}),t.jsxs("span",{className:"text-lg font-semibold text-[#334155]",children:["",m.consultation_fee.toLocaleString()]})]})]})]})})]}):t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading..."})]})})}function Ut({label:r,helperText:a,error:l,className:c="",id:u,...f}){const m=u||`textarea-${Math.random().toString(36).substr(2,9)}`;return t.jsxs("div",{className:"w-full",children:[r&&t.jsx("label",{htmlFor:m,className:"block text-xs uppercase tracking-wide text-[#64748B] mb-2",children:r}),t.jsx("textarea",{id:m,className:`w-full px-4 py-2 rounded-lg border ${l?"border-[#DC2626] focus:border-[#DC2626] focus:ring-[#DC2626]":"border-[#E5E7EB] focus:border-[#1E3A8A] focus:ring-[#1E3A8A]"} focus:outline-none focus:ring-2 focus:ring-offset-0 transition-colors text-sm text-[#334155] placeholder:text-[#64748B] resize-vertical ${c}`,rows:4,...f}),l&&t.jsx("p",{className:"mt-1 text-xs text-[#DC2626]",children:l}),a&&!l&&t.jsx("p",{className:"mt-1 text-xs text-[#64748B]",children:a})]})}function a1({consultationId:r,userRole:a}){const[l,c]=g.useState(null),[u,f]=g.useState(!0),[m,p]=g.useState(!1),[x,v]=g.useState({title:"",description:"",location:"",budget_min:"",budget_max:""}),[j,y]=g.useState(!1),A=Xe();g.useEffect(()=>{r&&O()},[r,a]);const O=async()=>{try{f(!0);let S;a==="company"?S=await Gt.getForCompany(r):S=await Gt.get(r),c(S),a==="company"&&console.log("Consultation data for company:",{status:S.status,is_paid:S.is_paid,payment_status:S.payment_status,is_completed:S.is_completed,userRole:a})}catch(S){console.error("Failed to load consultation:",S),Q.error("Failed to load consultation details")}finally{f(!1)}},k=S=>new Date(S).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),P=S=>new Date(S).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",timeZoneName:"short"}),F=S=>{switch(S?.toLowerCase()){case"scheduled":return"scheduled";case"completed":return"completed";case"active":case"in_progress":return"active";case"pending":return"pending";case"approved":return"approved";case"rejected":case"cancelled":return"rejected";default:return"pending"}},R=S=>{switch(S?.toLowerCase()){case"paid":return"approved";case"pending":case"unpaid":return"pending";case"refunded":return"rejected";default:return"pending"}},L=async()=>{if(l)try{const S=await Gt.pay(l.id);window.location.href=S.payment_url}catch(S){console.error("Payment error:",S)}};return u?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>A("/consultations"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Consultations"]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading consultation..."})]})]}):l?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>A("/consultations"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Consultations"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:["Consultation with ",l.company?.company_name||"Company"]}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:["Consultation ID: #",l.id]})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(ze,{status:F(l.status)}),t.jsx(ze,{status:R(l.payment_status)})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Session Details"})}),t.jsxs(ne,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(On,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Scheduled Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:k(l.scheduled_at)})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(En,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Time & Duration"}),t.jsxs("p",{className:"text-sm text-[#334155]",children:[P(l.scheduled_at)," (",l.duration_minutes," min)"]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(en,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Consultation Fee"}),t.jsxs("p",{className:"text-sm text-[#334155]",children:["",l.price.toLocaleString()]}),l.platform_fee&&l.platform_fee>0&&l.is_paid&&t.jsxs("div",{className:"mt-2 pt-2 border-t border-[#E5E7EB] space-y-1",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("span",{className:"text-xs text-[#64748B]",children:["Platform Fee (",l.platform_fee_percentage||0,"%)"]}),t.jsxs("span",{className:"text-xs font-medium text-[#F97316]",children:["-",l.platform_fee.toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center pt-1",children:[t.jsx("span",{className:"text-xs font-medium text-[#334155]",children:a==="client"?"Amount to Company":"Amount You'll Receive"}),t.jsxs("span",{className:"text-xs font-bold text-[#334155]",children:["",(l.net_amount||l.price-l.platform_fee).toLocaleString()]})]})]})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Jr,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Payment Status"}),t.jsx(ze,{status:R(l.payment_status)})]})]})]}),l.meeting_link&&t.jsxs("div",{className:"flex items-start gap-3 pt-4 border-t border-[#E5E7EB]",children:[t.jsx(rc,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Meeting Link"}),t.jsx("a",{href:l.meeting_link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8] underline break-all",children:l.meeting_link})]})]})]}),l.status==="scheduled"&&l.is_paid&&l.meeting_link&&t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsxs(X,{fullWidth:!0,onClick:()=>window.open(l.meeting_link,"_blank"),children:[t.jsx(rc,{className:"w-4 h-4 mr-2"}),"Join Meeting"]})}),a==="client"&&l.status==="scheduled"&&!l.is_paid&&l.payment_status!=="paid"&&t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsxs(X,{fullWidth:!0,onClick:L,children:[t.jsx(en,{className:"w-4 h-4 mr-2"}),"Pay Consultation Fee (",l.price.toLocaleString(),")"]})}),a==="client"&&(l.is_paid||l.payment_status==="paid")&&t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsx("div",{className:"bg-[#D1FAE5] rounded-lg p-4 text-center",children:t.jsx("p",{className:"text-sm font-medium text-[#16A34A]",children:" Payment Completed"})})}),a==="company"&&l.status==="scheduled"&&(l.is_paid||l.payment_status==="paid")&&l.status!=="completed"&&!l.is_completed&&t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsxs(X,{fullWidth:!0,onClick:async()=>{try{await Gt.complete(l.id),Q.success("Consultation marked as completed"),O()}catch(S){console.error("Failed to complete consultation:",S),Q.error(S.response?.data?.message||"Failed to mark consultation as completed")}},children:[t.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Mark as Completed"]})}),a==="client"&&l.status==="completed"&&(l.is_paid||l.payment_status==="paid")&&t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsxs(X,{fullWidth:!0,onClick:()=>p(!0),children:[t.jsx(Jr,{className:"w-4 h-4 mr-2"}),"Create Project from Consultation"]})})]})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"After the Consultation"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-[#1E3A8A] text-white flex items-center justify-center text-xs font-medium flex-shrink-0",children:"1"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:"Define Project Scope"}),t.jsx("p",{className:"text-sm text-[#64748B] mt-1",children:"Work with the company to outline your project requirements and timeline."})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-[#1E3A8A] text-white flex items-center justify-center text-xs font-medium flex-shrink-0",children:"2"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:"Review Proposal"}),t.jsx("p",{className:"text-sm text-[#64748B] mt-1",children:"Company will provide detailed proposal with milestones and pricing."})]})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("div",{className:"w-6 h-6 rounded-full bg-[#1E3A8A] text-white flex items-center justify-center text-xs font-medium flex-shrink-0",children:"3"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:"Fund Escrow"}),t.jsx("p",{className:"text-sm text-[#64748B] mt-1",children:"Once approved, fund the project escrow to begin construction."})]})]})]})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Company Contact"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Company Name"}),t.jsx("p",{className:"text-sm text-[#334155] font-medium",children:l.company?.company_name||"N/A"})]}),l.company?.user&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Contact Person"}),t.jsx("p",{className:"text-sm text-[#334155]",children:l.company.user.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Email"}),t.jsx("a",{href:`mailto:${l.company.user.email}`,className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8]",children:l.company.user.email})]})]}),l.company?.registration_number&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-sm text-[#334155]",children:l.company.registration_number})]}),l.company?.specialization&&l.company.specialization.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Specialization"}),t.jsx("p",{className:"text-sm text-[#334155]",children:l.company.specialization.join(", ")})]})]})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Payment"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Consultation Fee"}),t.jsxs("span",{className:"text-sm font-medium text-[#334155]",children:["",l.price.toLocaleString()]})]}),l.platform_fee&&l.platform_fee>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-[#64748B]",children:["Platform Fee (",l.platform_fee_percentage||0,"%)"]}),t.jsxs("span",{className:"text-xs font-medium text-[#F97316]",children:["-",l.platform_fee.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[#E5E7EB]",children:[t.jsx("span",{className:"text-sm font-medium text-[#334155]",children:a==="client"?"Amount to Company":"Amount You'll Receive"}),t.jsxs("span",{className:"text-sm font-bold text-[#334155]",children:["",(l.net_amount||l.price-l.platform_fee).toLocaleString()]})]})]})]}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["Paid to ",l.company?.company_name||"the company"," for consultation services"]}),t.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-[#E5E7EB]",children:[t.jsx("span",{className:"text-sm font-medium text-[#334155]",children:"Payment Status"}),t.jsx(ze,{status:R(l.payment_status)})]}),a==="client"&&!l.is_paid&&l.payment_status!=="paid"&&t.jsx("div",{className:"pt-3 border-t border-[#E5E7EB]",children:t.jsx(X,{fullWidth:!0,onClick:L,children:"Pay Now"})}),a==="client"&&(l.is_paid||l.payment_status==="paid")&&t.jsx("div",{className:"pt-3 border-t border-[#E5E7EB]",children:t.jsx("div",{className:"bg-[#D1FAE5] rounded-lg p-3 text-center",children:t.jsx("p",{className:"text-sm font-medium text-[#16A34A]",children:" Payment Completed"})})})]})})]})]})]}),t.jsx(xt,{isOpen:m,onClose:()=>p(!1),title:"Create New Project",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-1",children:"Project Title *"}),t.jsx(Ue,{value:x.title,onChange:S=>v({...x,title:S.target.value}),placeholder:"e.g., 3-Bedroom House Construction"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-1",children:"Description"}),t.jsx(Ut,{value:x.description,onChange:S=>v({...x,description:S.target.value}),placeholder:"Describe your project requirements...",rows:4})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-1",children:"Location *"}),t.jsx(Ue,{value:x.location,onChange:S=>v({...x,location:S.target.value}),placeholder:"e.g., Lagos, Nigeria"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-1",children:"Budget Min ()"}),t.jsx(Ue,{type:"number",value:x.budget_min,onChange:S=>v({...x,budget_min:S.target.value}),placeholder:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-1",children:"Budget Max ()"}),t.jsx(Ue,{type:"number",value:x.budget_max,onChange:S=>v({...x,budget_max:S.target.value}),placeholder:"0"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(X,{variant:"secondary",onClick:()=>p(!1),className:"flex-1",children:"Cancel"}),t.jsx(X,{onClick:async()=>{if(!x.title||!x.location){Q.error("Please fill in all required fields");return}try{y(!0);const S=await gt.create({consultation_id:l.id,title:x.title,description:x.description||void 0,location:x.location,budget_min:x.budget_min?parseFloat(x.budget_min):void 0,budget_max:x.budget_max?parseFloat(x.budget_max):void 0});Q.success("Project created successfully!"),p(!1),A(`/projects/${S.id}`)}catch(S){console.error("Failed to create project:",S),Q.error(S.response?.data?.message||"Failed to create project")}finally{y(!1)}},disabled:j,className:"flex-1",children:j?"Creating...":"Create Project"})]})]})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>A("/consultations"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Consultations"]}),t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Consultation not found"})})})})]})}function ia({columns:r,data:a,onRowClick:l,emptyMessage:c="No data available",className:u=""}){return t.jsx("div",{className:`w-full overflow-x-auto ${u}`,children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-[#F8FAFC] border-b border-[#E5E7EB]",children:t.jsx("tr",{children:r.map((f,m)=>t.jsx("th",{className:"px-6 py-3 text-left text-xs uppercase tracking-wide text-[#64748B] font-medium",children:f.header},m))})}),t.jsx("tbody",{className:"bg-white divide-y divide-[#E5E7EB]",children:a.length===0?t.jsx("tr",{children:t.jsx("td",{colSpan:r.length,className:"px-6 py-8 text-center text-sm text-[#64748B]",children:c})}):a.map(f=>t.jsx("tr",{onClick:()=>l?.(f),className:l?"cursor-pointer hover:bg-[#F8FAFC] transition-colors":"",children:r.map((m,p)=>t.jsx("td",{className:`px-6 py-4 text-sm text-[#334155] ${m.className||""}`,children:typeof m.accessor=="function"?m.accessor(f):String(f[m.accessor])},p))},f.id))})]})})}function oa({currentPage:r,totalPages:a,onPageChange:l,className:c=""}){return t.jsxs("div",{className:`flex items-center justify-between ${c}`,children:[t.jsxs("div",{className:"text-sm text-[#64748B]",children:["Page ",r," of ",a]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>l(r-1),disabled:r===1,children:[t.jsx(rj,{className:"w-4 h-4"}),"Previous"]}),t.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>l(r+1),disabled:r===a,children:["Next",t.jsx(lj,{className:"w-4 h-4"})]})]})]})}function l1({userRole:r}){const a=Xe(),[l,c]=g.useState(1),[u,f]=g.useState([]),[m,p]=g.useState(!0),[x,v]=g.useState({current_page:1,per_page:15,total:0,last_page:1});g.useEffect(()=>{j()},[l,r]);const j=async()=>{try{if(p(!0),r==="company"){const{projects:R,meta:L}=await gt.listForCompany({per_page:15});f(R),v(L)}else if(r==="client"){const{projects:R,meta:L}=await gt.list({per_page:15});f(R),v(L)}}catch(R){console.error("Failed to load projects:",R)}finally{p(!1)}},y=R=>{if(!R.milestones||R.milestones.length===0)return 0;const L=R.milestones.filter(S=>S.status==="approved"||S.status==="released").length;return Math.round(L/R.milestones.length*100)},A=R=>R.budget_min&&R.budget_max?`${R.budget_min.toLocaleString()} - ${R.budget_max.toLocaleString()}`:R.budget_min?`${R.budget_min.toLocaleString()}+`:R.budget_max?`Up to ${R.budget_max.toLocaleString()}`:"Not specified",O=u.filter(R=>R.status==="active"||R.status==="draft").length,k=u.filter(R=>R.status==="completed").length,P=u.reduce((R,L)=>L.budget_max?R+L.budget_max:L.budget_min?R+L.budget_min:R,0),F=[{header:"Project Name",accessor:R=>t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-[#334155]",children:R.title}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:R.company?.company_name||"Company"})]})},{header:"Location",accessor:R=>R.location},{header:"Budget",accessor:R=>A(R)},{header:"Progress",accessor:R=>{const L=y(R);return t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center justify-between mb-1",children:t.jsxs("span",{className:"text-sm font-medium text-[#334155]",children:[L,"%"]})}),t.jsx("div",{className:"w-full h-2 bg-[#E5E7EB] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-[#16A34A] rounded-full",style:{width:`${L}%`}})})]})}},{header:"Status",accessor:R=>t.jsx(ze,{status:R.status})}];return m?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Projects"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Track and manage your construction projects."})]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading projects..."})]})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Projects"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Track and manage your construction projects."})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(Z,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Active Projects"}),t.jsx("p",{className:"text-3xl font-semibold text-[#334155]",children:O})]})}),t.jsx(Z,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Total Investment"}),t.jsxs("p",{className:"text-3xl font-semibold text-[#334155]",children:["",(P/1e3).toFixed(0),"K"]})]})}),t.jsx(Z,{children:t.jsxs("div",{className:"text-center",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Completed Projects"}),t.jsx("p",{className:"text-3xl font-semibold text-[#334155]",children:k})]})})]}),t.jsxs(Z,{children:[t.jsx(ia,{columns:F,data:u,onRowClick:R=>a(`/projects/${R.id}`),emptyMessage:"No projects yet. Book a consultation to get started."}),x.last_page>1&&t.jsx("div",{className:"p-6 border-t border-[#E5E7EB]",children:t.jsx(oa,{currentPage:l,totalPages:x.last_page,onPageChange:c})})]})]})}const It={async fundEscrow(r){const a=await me.post(`/client/milestones/${r}/fund`);return pe(a)},async approve(r){const a=await me.post(`/client/milestones/${r}/approve`);return pe(a)},async reject(r,a){const l=await me.post(`/client/milestones/${r}/reject`,a);return pe(l)},async submit(r){const a=await me.post(`/company/milestones/${r}/submit`);return pe(a)},async uploadEvidence(r,a){const l=new FormData;l.append("type",a.type),l.append("description",a.description),a.file&&l.append("file",a.file);const c=await me.post(`/company/milestones/${r}/evidence`,l);return pe(c)},async verify(r,a){const l=await me.post(`/client/milestones/${r}/verify`,a?{notes:a}:{});return pe(l)},async updateClientNotes(r,a){const l=await me.put(`/client/milestones/${r}/notes`,{notes:a});return pe(l)},async updateCompanyNotes(r,a){const l=await me.put(`/company/milestones/${r}/notes`,{notes:a});return pe(l)}};function i1({userRole:r}){const a=Xe(),{id:l}=zl(),c=l||"",[u,f]=g.useState("overview"),[m,p]=g.useState(null),[x,v]=g.useState(!0),[j,y]=g.useState(!1),[A,O]=g.useState(!1),[k,P]=g.useState(null),[F,R]=g.useState(""),[L,S]=g.useState(""),[H,B]=g.useState(!1);g.useEffect(()=>{c&&b()},[c,r]);const b=async()=>{try{v(!0);let E;r==="admin"?E=await gt.getShared(c):r==="company"?E=await gt.getForCompany(c):E=await gt.get(c),p(E)}catch(E){console.error("Failed to load project:",E),Q.error("Failed to load project details")}finally{v(!1)}},W=E=>{if(!E.milestones||E.milestones.length===0)return 0;const N=E.milestones.filter($=>$.status==="approved"||$.status==="released").length;return Math.round(N/E.milestones.length*100)},ye=E=>E.budget_min&&E.budget_max?`${E.budget_min.toLocaleString()} - ${E.budget_max.toLocaleString()}`:E.budget_min?`${E.budget_min.toLocaleString()}+`:E.budget_max?`Up to ${E.budget_max.toLocaleString()}`:"Not specified",ee=E=>new Date(E).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),ge=m?{funded:m.milestones?.reduce((E,N)=>N.escrow&&(N.escrow.status==="held"||N.escrow.status==="released")?E+N.escrow.amount:E,0)||0,released:m.milestones?.reduce((E,N)=>N.escrow&&N.escrow.status==="released"?E+N.escrow.amount:E,0)||0}:{funded:0,released:0},We=async E=>{try{const N=await It.fundEscrow(E);window.location.href=N.payment_url}catch(N){console.error("Failed to fund milestone:",N)}},De=async()=>{if(k){B(!0);try{await It.verify(k.id,F||void 0),Q.success("Milestone verified successfully!"),y(!1),R(""),P(null),await b()}catch(E){console.error("Failed to verify milestone:",E)}finally{B(!1)}}},_e=async()=>{if(k){B(!0);try{r==="client"?await It.updateClientNotes(k.id,L):r==="company"&&await It.updateCompanyNotes(k.id,L),Q.success("Notes updated successfully!"),O(!1),S(""),P(null),await b()}catch(E){console.error("Failed to update notes:",E)}finally{B(!1)}}},V=E=>{P(E),R(E.client_notes||""),y(!0)},Ae=E=>{P(E),r==="client"?S(E.client_notes||""):r==="company"&&S(E.company_notes||""),O(!0)},be=E=>{switch(E){case"released":case"approved":return t.jsx(Qe,{className:"w-5 h-5"});case"submitted":return t.jsx(Zt,{className:"w-5 h-5"});case"rejected":return t.jsx(mn,{className:"w-5 h-5"});default:return t.jsx(En,{className:"w-5 h-5"})}},Se=E=>{switch(E){case"released":case"approved":return"bg-[#D1FAE5] text-[#16A34A]";case"submitted":return"bg-[#FEF3C7] text-[#F59E0B]";case"funded":return"bg-[#DBEAFE] text-[#2563EB]";case"rejected":return"bg-[#FEE2E2] text-[#DC2626]";default:return"bg-[#F8FAFC] text-[#64748B]"}};if(x)return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>a("/projects"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Projects"]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading project..."})]})]});if(!m)return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>a("/projects"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Projects"]}),t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Project not found"})})})})]});const G=W(m),re=m.milestones||[];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>a("/projects"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Projects"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:m.title}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:["Project ID: #",m.id]})]}),t.jsx(ze,{status:m.status})]}),t.jsx(Z,{children:t.jsxs(ne,{children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-[#334155]",children:"Overall Progress"}),t.jsxs("span",{className:"text-sm font-medium text-[#334155]",children:[G,"%"]})]}),t.jsx("div",{className:"w-full h-3 bg-[#E5E7EB] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-[#16A34A] rounded-full transition-all",style:{width:`${G}%`}})})]})}),t.jsx("div",{className:"border-b border-[#E5E7EB]",children:t.jsx("div",{className:"flex gap-6",children:[{id:"overview",label:"Overview"},{id:"milestones",label:"Milestones"},{id:"escrow",label:"Escrow"}].map(E=>t.jsx("button",{onClick:()=>f(E.id),className:`pb-4 text-sm font-medium transition-colors border-b-2 ${u===E.id?"border-[#1E3A8A] text-[#1E3A8A]":"border-transparent text-[#64748B] hover:text-[#334155]"}`,children:E.label},E.id))})}),u==="overview"&&t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsx("div",{className:"lg:col-span-2 space-y-6",children:t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Project Details"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[m.description&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Description"}),t.jsx("p",{className:"text-sm text-[#334155]",children:m.description})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(On,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Created Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:ee(m.created_at)})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Dj,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Location"}),t.jsx("p",{className:"text-sm text-[#334155]",children:m.location})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(en,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Budget Range"}),t.jsx("p",{className:"text-sm text-[#334155]",children:ye(m)})]})]})]})]})})]})}),t.jsx("div",{className:"space-y-6",children:t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Company"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Company Name"}),t.jsx("p",{className:"text-sm text-[#334155] font-medium",children:m.company?.company_name||"N/A"})]}),m.company?.user&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Contact Person"}),t.jsx("p",{className:"text-sm text-[#334155]",children:m.company.user.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Email"}),t.jsx("a",{href:`mailto:${m.company.user.email}`,className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8]",children:m.company.user.email})]})]}),m.company?.registration_number&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-sm text-[#334155]",children:m.company.registration_number})]})]})})]})})]}),u==="milestones"&&t.jsxs("div",{className:"space-y-4",children:[r==="client"&&m?.status==="draft"&&re.length>0&&t.jsx(Z,{className:"border-[#F59E0B] bg-[#FEF3C7]",children:t.jsx(ne,{className:"pt-6",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Zt,{className:"w-5 h-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155] mb-1",children:"Verify Milestones to Activate Project"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Please review and verify all milestones. The project will become active once all milestones are verified."}),t.jsxs("div",{className:"mt-2 text-xs text-[#64748B]",children:["Verified: ",re.filter(E=>E.verified_at).length," / ",re.length]})]})]})})}),r==="company"&&m?.status==="draft"&&re.length===0&&t.jsx(Z,{children:t.jsx(ne,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"No milestones yet. Create milestones to activate this project."}),t.jsx(X,{onClick:()=>a(`/projects/${c}/create-milestones`),children:"Create Milestones"})]})})}),re.length===0&&!(r==="company"&&m?.status==="draft")?t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"No milestones yet"})})})}):re.length>0?re.map(E=>{const N=m.disputes?.find($=>$.milestone_id===E.id);return t.jsx(Z,{onClick:()=>a(`/milestones/${E.id}`),className:"cursor-pointer hover:shadow-md transition-shadow",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${Se(E.status)}`,children:be(E.status)}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-lg font-medium text-[#334155] mb-1",children:E.title}),E.description&&t.jsx("p",{className:"text-sm text-[#64748B]",children:E.description}),E.verified_at&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-[#16A34A]",children:[t.jsx(Qe,{className:"w-3 h-3"}),t.jsxs("span",{children:["Verified on ",new Date(E.verified_at).toLocaleDateString()]}),E.verifier&&t.jsxs("span",{className:"text-[#64748B]",children:["by ",E.verifier.name]})]}),(E.client_notes||E.company_notes)&&t.jsxs("div",{className:"mt-2 flex items-center gap-2 text-xs text-[#64748B]",children:[t.jsx(Tl,{className:"w-3 h-3"}),t.jsx("span",{children:E.client_notes&&E.company_notes?"Both parties have notes":E.client_notes?"Client has notes":"Company has notes"})]}),r==="company"&&E.status==="rejected"&&N&&t.jsxs("div",{className:"mt-2 p-3 bg-[#FEF3C7] rounded-lg border border-[#F59E0B]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Rejection Reason"}),t.jsx("p",{className:"text-sm text-[#334155] line-clamp-2",children:N.reason})]}),t.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[t.jsxs("span",{className:"text-[#64748B]",children:["Sequence: ",E.sequence_order]}),E.escrow&&t.jsxs("span",{className:"text-[#64748B]",children:["Escrow: ",E.escrow.status]})]})]})]})}),t.jsxs("div",{className:"text-right ml-4",children:[t.jsxs("p",{className:"text-lg font-semibold text-[#334155] mb-2",children:["",E.amount.toLocaleString()]}),t.jsx(ze,{status:E.status}),r==="client"&&m?.status==="draft"&&!E.verified_at&&t.jsxs(X,{size:"sm",variant:"primary",className:"mt-2",onClick:$=>{$.stopPropagation(),V(E)},children:[t.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Verify"]}),E.verified_at&&t.jsxs("div",{className:"mt-2 flex items-center gap-1 text-xs text-[#16A34A]",children:[t.jsx(Qe,{className:"w-3 h-3"}),"Verified"]}),r==="client"&&m?.status==="active"&&E.status==="pending"&&!E.escrow&&t.jsx(X,{size:"sm",className:"mt-2",onClick:$=>{$.stopPropagation(),We(E.id)},children:"Fund Escrow"}),(r==="client"||r==="company")&&t.jsxs(X,{size:"sm",variant:"outline",className:"mt-2",onClick:$=>{$.stopPropagation(),Ae(E)},children:[t.jsx(Tl,{className:"w-4 h-4 mr-1"}),"Notes"]}),r==="company"&&E.status==="rejected"&&t.jsx(X,{size:"sm",variant:"primary",className:"mt-2",onClick:$=>{$.stopPropagation(),a(`/milestones/${E.id}`)},children:"View & Revise"})]})]})},E.id)}):null]}),u==="escrow"&&t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Summary"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total Funded"}),t.jsxs("p",{className:"text-2xl font-semibold text-[#334155]",children:["",ge.funded.toLocaleString()]})]}),t.jsxs("div",{className:"pt-4 border-t border-[#E5E7EB] space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Released to Date"}),t.jsxs("span",{className:"text-sm font-medium text-[#16A34A]",children:["",ge.released.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Remaining in Escrow"}),t.jsxs("span",{className:"text-sm font-medium text-[#1E3A8A]",children:["",(ge.funded-ge.released).toLocaleString()]})]})]}),ge.funded>0&&t.jsxs("div",{className:"pt-4 border-t border-[#E5E7EB]",children:[t.jsx("div",{className:"w-full h-3 bg-[#E5E7EB] rounded-full overflow-hidden",children:t.jsx("div",{className:"h-full bg-[#16A34A] rounded-full",style:{width:`${ge.released/ge.funded*100}%`}})}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-2",children:[(ge.released/ge.funded*100).toFixed(0),"% of funds released"]})]})]})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Protection"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-[#64748B]",children:"Your funds are held securely in escrow and only released when you approve completed milestones."}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Qe,{className:"w-5 h-5 text-[#16A34A] flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-[#334155]",children:"Funds protected until milestone approval"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Qe,{className:"w-5 h-5 text-[#16A34A] flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-[#334155]",children:"Evidence-based approval process"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Qe,{className:"w-5 h-5 text-[#16A34A] flex-shrink-0 mt-0.5"}),t.jsx("p",{className:"text-sm text-[#334155]",children:"Dispute resolution available"})]})]})]})})]})]}),t.jsx(xt,{isOpen:j,onClose:()=>{y(!1),P(null),R("")},title:"Verify Milestone",children:k&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-2",children:"Milestone:"}),t.jsx("p",{className:"font-medium text-[#334155]",children:k.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Notes (Optional)"}),t.jsx(Ut,{value:F,onChange:E=>R(E.target.value),placeholder:"Add any notes or comments about this milestone...",rows:4})]}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx(X,{variant:"outline",onClick:()=>{y(!1),P(null),R("")},disabled:H,children:"Cancel"}),t.jsx(X,{variant:"primary",onClick:De,disabled:H,children:H?"Verifying...":"Verify Milestone"})]})]})}),t.jsx(xt,{isOpen:A,onClose:()=>{O(!1),P(null),S("")},title:`${r==="client"?"Client":"Company"} Notes`,children:k&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-2",children:"Milestone:"}),t.jsx("p",{className:"font-medium text-[#334155]",children:k.title})]}),k.client_notes&&t.jsxs("div",{className:"p-3 bg-[#EFF6FF] rounded-lg border border-[#3B82F6]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Client Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:k.client_notes})]}),k.company_notes&&t.jsxs("div",{className:"p-3 bg-[#F0FDF4] rounded-lg border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Company Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:k.company_notes})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:r==="client"?"Your Notes":"Company Notes"}),t.jsx(Ut,{value:L,onChange:E=>S(E.target.value),placeholder:"Add your notes or comments about this milestone...",rows:4})]}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx(X,{variant:"outline",onClick:()=>{O(!1),P(null),S("")},disabled:H,children:"Cancel"}),t.jsx(X,{variant:"primary",onClick:_e,disabled:H,children:H?"Saving...":"Save Notes"})]})]})})]})}const yt={async listCompanies(r){const a=await me.get("/admin/companies",{params:r});return{companies:pe(a),meta:Tn(a)}},async getCompany(r){const a=await me.get(`/admin/companies/${r}`);return pe(a)},async approveCompany(r){const a=await me.post(`/admin/companies/${r}/approve`);return pe(a)},async rejectCompany(r,a){const l=await me.post(`/admin/companies/${r}/reject`,{reason:a});return pe(l)},async suspendCompany(r,a){const l=await me.post(`/admin/companies/${r}/suspend`,{reason:a});return pe(l)},async listDisputes(r){const a=await me.get("/admin/disputes",{params:r});return{disputes:pe(a),meta:Tn(a)}},async getDispute(r){const a=await me.get(`/admin/disputes/${r}`);return pe(a)},async resolveDispute(r,a){const l=await me.post(`/admin/disputes/${r}/resolve`,a);return pe(l)},async listEscrowMilestones(r){const a=await me.get("/admin/milestones",{params:r}),l=pe(a),c=Tn(a);let u=[];return Array.isArray(l)?u=l:l&&typeof l=="object"&&"data"in l&&(u=Array.isArray(l.data)?l.data:[]),{milestones:u,meta:c||{current_page:1,per_page:r?.per_page||15,total:0,last_page:1,from:0,to:0}}},async getPlatformFee(){const r=await me.get("/admin/platform-settings/fee");return pe(r)},async updatePlatformFee(r){const a=await me.put("/admin/platform-settings/fee",{percentage:r});return pe(a)},async releaseEscrow(r,a){const l=await me.post(`/admin/milestones/${r}/release`,a);return pe(l)}},dn={async list(){const r=await me.get("/payment-accounts");return pe(r)},async create(r){const a=await me.post("/payment-accounts",r);return pe(a)},async update(r,a){const l=await me.put(`/payment-accounts/${r}`,a);return pe(l)},async delete(r){await me.delete(`/payment-accounts/${r}`)},async setDefault(r){const a=await me.post(`/payment-accounts/${r}/set-default`);return pe(a)},async requestEscrowRelease(r,a){const l=await me.post(`/escrow/milestones/${r}/release`,a||{});return pe(l)},async requestEscrowRefund(r,a){const l=await me.post(`/escrow/milestones/${r}/refund`,a);return pe(l)},async getBanks(){const r=await me.get("/payment-accounts/banks");return pe(r)},async verifyAccount(r,a){const l=await me.post("/payment-accounts/verify",{account_number:r,bank_code:a});return pe(l)},async getUserAccounts(r){const a=await me.get(`/admin/users/${r}/payment-accounts`);return pe(a)}},o1=()=>"http://localhost:8000/api".replace("/api",""),ac=r=>{if(!r)return"";if(r.startsWith("http://")||r.startsWith("https://"))return r;const a=r.startsWith("/")?r.slice(1):r;return`${o1()}/storage/${a}`};function c1({onNavigate:r,userRole:a}){const[l,c]=g.useState(!1),[u,f]=g.useState(!1),[m,p]=g.useState(!1),[x,v]=g.useState(!1),[j,y]=g.useState(!1),[A,O]=g.useState(!1),[k,P]=g.useState(!1),[F,R]=g.useState(""),[L,S]=g.useState(""),[H,B]=g.useState(""),[b,W]=g.useState("image"),[ye,ee]=g.useState(null),[ge,We]=g.useState(""),[De,_e]=g.useState(!1),[V,Ae]=g.useState([]),[be,Se]=g.useState([]),[G,re]=g.useState(""),[E,N]=g.useState(""),[$,fe]=g.useState(!1),[se,Ee]=g.useState(null),[M,Le]=g.useState(null),[Be,Te]=g.useState(!0),[ie,Oe]=g.useState(!1),[K,le]=g.useState(!1),[rt,$e]=g.useState(!1),[Fs,tn]=g.useState(""),[In,hn]=g.useState(""),nn=window.location.pathname.split("/milestones/")[1]?.split("#")[0]||"",Cn=new URLSearchParams(window.location.search),us=Cn.get("project_id")||Cn.get("project");g.useEffect(()=>{nn&&Ct()},[nn,a,us]),g.useEffect(()=>{(k||A)&&ca()},[k,A]),g.useEffect(()=>{j&&a==="admin"&&se&&ua()},[j,se,a]);const ca=async()=>{try{const U=await dn.list();Ae(U);const Fe=U.find(ft=>ft.is_default);Fe?re(Fe.id):U.length>0&&re(U[0].id)}catch(U){console.error("Failed to load payment accounts:",U)}},ua=async()=>{if(!se)return;const U=se?.company?.user_id||se?.company?.user?.id;if(!U){Q.error("Company user information not available. Please refresh the page.");return}try{fe(!0);const Fe=await dn.getUserAccounts(U);Se(Fe);const ft=Fe.find(ot=>ot.is_default);ft?N(ft.id):Fe.length>0&&N(Fe[0].id)}catch(Fe){console.error("Failed to load company accounts:",Fe),Q.error("Failed to load company payment accounts")}finally{fe(!1)}},Ct=async()=>{try{Te(!0);let U;if(a==="admin")if(us)U=[await gt.getShared(us)];else{const vt=(await yt.listEscrowMilestones({per_page:100,status:"all"})).milestones.find(Tt=>Tt.id===nn);if(vt&&vt.project_id)U=[await gt.getShared(vt.project_id)];else{Q.error("Milestone not found or project ID unavailable");return}}else a==="company"?U=(await gt.listForCompany({per_page:100})).projects:U=(await gt.list({per_page:100})).projects;let Fe=null,ft=null;for(const ot of U){const vt=ot.milestones?.find(Tt=>Tt.id===nn);if(vt){Fe=ot,ft=vt;break}}if(!ft){Q.error("Milestone not found in your projects");return}if(!ft.evidence||ft.evidence.length===0){let ot;a==="admin"?ot=await gt.getShared(Fe.id):a==="company"?ot=await gt.getForCompany(Fe.id):ot=await gt.get(Fe.id);const vt=ot.milestones?.find(Tt=>Tt.id===nn);vt&&(ft=vt,Fe=ot)}Ee(Fe),Le(ft)}catch(U){console.error("Failed to load milestone:",U),Q.error("Failed to load milestone details")}finally{Te(!1)}},da=async()=>{if(M){Oe(!0);try{await It.approve(M.id),Q.success("Milestone approved successfully! Funds will be released by admin."),c(!1),await Ct(),r(`/projects/${se?.id}`)}catch(U){console.error("Approval error:",U)}finally{Oe(!1)}}},or=async()=>{if(!M||!F.trim()){Q.error("Please provide a reason for rejection");return}Oe(!0);try{await It.reject(M.id,{reason:F}),Q.success("Milestone rejected. A dispute has been created for review."),f(!1),R(""),await Ct(),r(`/projects/${se?.id}`)}catch(U){console.error("Rejection error:",U)}finally{Oe(!1)}},Bs=async()=>{if(!M||!L.trim()||!se){Q.error("Please provide a reason for the dispute");return}Oe(!0);try{const U=await me.post("/disputes",{project_id:se.id,milestone_id:M.id,reason:L});Q.success("Dispute created successfully. Admin will review within 24-48 hours."),p(!1),S(""),await Ct(),r(`/projects/${se?.id}`)}catch(U){console.error("Dispute error:",U)}finally{Oe(!1)}},ma=async()=>{if(M){Oe(!0);try{await It.verify(M.id,Fs||void 0),Q.success("Milestone verified successfully!"),le(!1),tn(""),await Ct()}catch(U){console.error("Failed to verify milestone:",U)}finally{Oe(!1)}}},ds=async()=>{if(M){Oe(!0);try{a==="client"?await It.updateClientNotes(M.id,In):a==="company"&&await It.updateCompanyNotes(M.id,In),Q.success("Notes updated successfully!"),$e(!1),hn(""),await Ct()}catch(U){console.error("Failed to update notes:",U)}finally{Oe(!1)}}},ms=()=>{tn(M?.client_notes||""),le(!0)},Kl=()=>{a==="client"?hn(M?.client_notes||""):a==="company"&&hn(M?.company_notes||""),$e(!0)},Ps=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),Rs=M?.evidence?.filter(U=>U.type==="image")||[],cr=M?.evidence?.filter(U=>U.type==="video")||[],fs=M?.evidence?.filter(U=>U.type==="text")||[];return Be?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>r("/projects"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Projects"]}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading milestone..."})]})]}):!M||!se?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>r("/projects"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Projects"]}),t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Milestone not found"})})})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>r(`/projects/${se.id}`),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Project"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:M.title}),t.jsx("p",{className:"text-sm text-[#64748B]",children:se.title})]}),t.jsx(ze,{status:M.status})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Milestone Details"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[M.description&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Description"}),t.jsx("p",{className:"text-sm text-[#334155]",children:M.description})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Sequence Order"}),t.jsx("p",{className:"text-sm text-[#334155]",children:M.sequence_order})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Created Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:Ps(M.created_at)})]}),M.status==="submitted"&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Submitted Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:Ps(M.updated_at)})]}),M.escrow&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Escrow Status"}),t.jsx("p",{className:"text-sm text-[#334155] capitalize",children:M.escrow.status})]}),M.verified_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Verified Date"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"w-4 h-4 text-[#16A34A]"}),t.jsx("p",{className:"text-sm text-[#334155]",children:Ps(M.verified_at)})]}),M.verifier&&t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["by ",M.verifier.name]})]})]}),fs.length>0&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Notes from Company"}),fs.map(U=>t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:U.description},U.id))]})]})})]}),Rs.length>0&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Vo,{className:"w-5 h-5 text-[#64748B]"}),t.jsx(je,{children:"Photo Evidence"})]})}),t.jsx(ne,{children:t.jsx("div",{className:"grid grid-cols-2 gap-4",children:Rs.map(U=>{const Fe=U.url||U.file_path;return t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"aspect-video rounded-lg overflow-hidden bg-[#F8FAFC] border border-[#E5E7EB]",children:Fe?t.jsx("img",{src:ac(Fe),alt:U.description||"Evidence photo",className:"w-full h-full object-cover",onError:ft=>{ft.target.src="https://via.placeholder.com/800x450?text=Image+Not+Available"}}):t.jsx("div",{className:"w-full h-full flex items-center justify-center text-[#64748B]",children:"No image available"})}),U.description&&t.jsx("p",{className:"text-xs text-[#64748B]",children:U.description})]},U.id)})})})]}),cr.length>0&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(rc,{className:"w-5 h-5 text-[#64748B]"}),t.jsx(je,{children:"Video Evidence"})]})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-6",children:cr.map(U=>{const Fe=U.url||U.file_path;return t.jsxs("div",{className:"space-y-2",children:[U.description&&t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:U.description}),Fe?t.jsx("div",{className:"rounded-lg overflow-hidden bg-[#000] border border-[#E5E7EB]",children:t.jsx("video",{src:ac(Fe),controls:!0,className:"w-full max-h-[600px]",preload:"metadata",children:"Your browser does not support the video tag."})}):t.jsx("div",{className:"w-full aspect-video flex items-center justify-center bg-[#F8FAFC] rounded-lg border border-[#E5E7EB] text-[#64748B]",children:"Video not available"})]},U.id)})})})]}),!Rs.length&&!cr.length&&!fs.length&&t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"No evidence uploaded yet"})})})})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Payment"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Milestone Amount"}),t.jsxs("p",{className:"text-3xl font-semibold text-[#334155]",children:["",M.amount.toLocaleString()]})]}),M.escrow&&t.jsxs("div",{className:"pt-4 border-t border-[#E5E7EB] space-y-2",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[#64748B]",children:"Escrow Amount"}),t.jsxs("span",{className:"text-sm font-medium text-[#334155]",children:["",M.escrow.amount.toLocaleString()]})]}),M.escrow.platform_fee&&M.escrow.platform_fee>0&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("span",{className:"text-xs text-[#64748B]",children:["Platform Fee (",M.escrow.platform_fee_percentage||0,"%)"]}),t.jsxs("span",{className:"text-sm font-medium text-[#F97316]",children:["-",M.escrow.platform_fee.toLocaleString()]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[#E5E7EB]",children:[t.jsx("span",{className:"text-xs font-medium text-[#334155]",children:a==="client"?"Amount to Company":"Amount You'll Receive"}),t.jsxs("span",{className:"text-sm font-bold text-[#334155]",children:["",(M.escrow.net_amount||M.escrow.amount-M.escrow.platform_fee).toLocaleString()]})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-xs text-[#64748B]",children:"Escrow Status"}),t.jsx(ze,{status:M.escrow.status})]})]}),t.jsx("div",{className:"pt-4 border-t border-[#E5E7EB]",children:t.jsx("p",{className:"text-xs text-[#64748B] mb-3",children:M.status==="submitted"?"This amount will be released from escrow upon your approval.":M.escrow?.status==="held"?"Funds are held in escrow. Approve milestone to release payment.":"Fund escrow to proceed with this milestone."})})]})})]}),a==="client"&&se?.status==="draft"&&!M.verified_at&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Verify Milestone"})}),t.jsxs(ne,{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"Verify this milestone to proceed. The project will become active once all milestones are verified."}),t.jsxs(X,{fullWidth:!0,variant:"primary",onClick:ms,disabled:ie,children:[t.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Verify Milestone"]})]})]}),a==="client"&&M.status==="submitted"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Review Actions"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs(X,{fullWidth:!0,onClick:()=>c(!0),disabled:ie,children:[t.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Approve Milestone"]}),t.jsxs(X,{fullWidth:!0,variant:"secondary",onClick:()=>f(!0),disabled:ie,children:[t.jsx(mn,{className:"w-4 h-4 mr-2"}),"Request Revisions"]}),t.jsx(X,{fullWidth:!0,variant:"danger",onClick:()=>p(!0),disabled:ie,children:"Open Dispute"})]})})]}),(a==="client"||a==="company")&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Notes & Annotations"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3",children:[M.client_notes&&t.jsxs("div",{className:"p-3 bg-[#EFF6FF] rounded-lg border border-[#3B82F6]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1 font-medium",children:"Client Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:M.client_notes})]}),M.company_notes&&t.jsxs("div",{className:"p-3 bg-[#F0FDF4] rounded-lg border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1 font-medium",children:"Company Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:M.company_notes})]}),!M.client_notes&&!M.company_notes&&t.jsxs("p",{className:"text-sm text-[#64748B]",children:["No notes added yet. Add notes to communicate with the ",a==="client"?"company":"client","."]}),t.jsxs(X,{fullWidth:!0,variant:"outline",onClick:Kl,disabled:ie,children:[t.jsx(Tl,{className:"w-4 h-4 mr-2"}),M.client_notes||M.company_notes?"Update Notes":"Add Notes"]})]})})]}),a==="client"&&M.escrow&&M.escrow.status==="held"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Refund"})}),t.jsxs(ne,{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"Request a refund for the escrow funds. This will cancel the milestone payment."}),t.jsx(X,{fullWidth:!0,variant:"danger",onClick:()=>O(!0),disabled:ie,children:"Request Refund"})]})]}),a==="client"&&M.status==="pending"&&!M.escrow&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Funding Required"})}),t.jsxs(ne,{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"Fund the escrow for this milestone to proceed. A platform fee will be deducted when funds are released."}),t.jsx("div",{className:"bg-[#F8F9FA] border border-[#E5E7EB] rounded-lg p-4 mb-4",children:t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Milestone Amount"}),t.jsxs("span",{className:"text-sm font-medium text-[#334155]",children:["",M.amount.toLocaleString()]})]}),t.jsx("div",{className:"text-xs text-[#64748B] pt-2 border-t border-[#E5E7EB]",children:t.jsx("p",{children:"Note: A platform fee (5-8%) will be deducted from the escrow amount when funds are released to the company."})})]})}),t.jsxs(X,{fullWidth:!0,onClick:async()=>{try{const U=await It.fundEscrow(M.id);window.location.href=U.payment_url}catch(U){console.error("Funding error:",U)}},children:["Fund Escrow (",M.amount.toLocaleString(),")"]})]})]}),a==="company"&&M.escrow&&M.escrow.status==="held"&&M.status==="approved"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Release"})}),t.jsxs(ne,{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"Milestone has been approved. Request release of escrow funds to your account."}),t.jsx(X,{fullWidth:!0,variant:"primary",onClick:()=>P(!0),disabled:ie,children:"Request Escrow Release"})]})]}),a==="company"&&M.status==="funded"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Milestone Actions"})}),t.jsxs(ne,{children:[t.jsxs("div",{className:"space-y-3",children:[t.jsxs(X,{fullWidth:!0,onClick:()=>v(!0),disabled:ie,children:[t.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Upload Evidence"]}),M.evidence&&M.evidence.length>0&&t.jsxs(X,{fullWidth:!0,variant:"primary",onClick:async()=>{try{Oe(!0),await It.submit(M.id),Q.success("Milestone submitted for approval!"),Ct()}catch(U){console.error("Submit error:",U)}finally{Oe(!1)}},disabled:ie,children:[t.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Submit for Approval"]})]}),t.jsx("p",{className:"text-xs text-[#64748B] mt-3",children:"Upload evidence of completed work, then submit for client approval."})]})]}),a==="company"&&M.status==="rejected"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Revision Required"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[se.disputes&&se.disputes.length>0&&t.jsxs("div",{className:"bg-[#FEF3C7] rounded-lg p-4 border border-[#F59E0B]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Rejection Reason"}),t.jsx("p",{className:"text-sm text-[#334155]",children:se.disputes.find(U=>U.milestone_id===M.id)?.reason||se.disputes[0]?.reason||"Client requested revisions"})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(X,{fullWidth:!0,onClick:()=>v(!0),disabled:ie,children:[t.jsx(Vo,{className:"w-4 h-4 mr-2"}),"Upload Revised Evidence"]}),M.evidence&&M.evidence.length>0&&t.jsxs(X,{fullWidth:!0,variant:"primary",onClick:async()=>{try{Oe(!0),await It.submit(M.id),Q.success("Milestone resubmitted for approval!"),Ct()}catch(U){console.error("Resubmit error:",U)}finally{Oe(!1)}},disabled:ie,children:[t.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Resubmit for Approval"]})]}),t.jsx("p",{className:"text-xs text-[#64748B]",children:"Address the client's concerns, upload revised evidence, then resubmit for approval."})]})})]}),a==="client"&&M.status==="rejected"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Revision Requested"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[se.disputes&&se.disputes.length>0&&t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-2",children:"Your Revision Request"}),t.jsx("p",{className:"text-sm text-[#334155]",children:se.disputes.find(U=>U.milestone_id===M.id)?.reason||se.disputes[0]?.reason||"Revision requested"})]}),t.jsxs("div",{className:"bg-[#DBEAFE] rounded-lg p-4 border border-[#1E3A8A]/20",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Next Steps:"})}),t.jsxs("ul",{className:"space-y-1 text-xs text-[#64748B]",children:[t.jsx("li",{children:" Company will address your concerns"}),t.jsx("li",{children:" They will upload revised evidence"}),t.jsx("li",{children:" You'll be notified when they resubmit"}),t.jsx("li",{children:" Review the updated work and approve or request more changes"})]})]}),se.disputes&&se.disputes.length>0&&t.jsxs("div",{className:"pt-2 border-t border-[#E5E7EB]",children:[t.jsxs("p",{className:"text-xs text-[#64748B] mb-2",children:["Dispute Status: ",t.jsx(ze,{status:se.disputes.find(U=>U.milestone_id===M.id)?.status||se.disputes[0]?.status||"open"})]}),t.jsx("p",{className:"text-xs text-[#64748B]",children:"Admin will review the dispute and coordinate resolution between you and the company."})]})]})})]}),a==="admin"&&M.escrow&&M.escrow.status==="held"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Release"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Escrow Amount"}),t.jsxs("p",{className:"text-2xl font-semibold text-[#334155]",children:["",M.escrow.amount.toLocaleString()]})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Milestone Status"}),t.jsx(ze,{status:M.status})]}),M.status!=="approved"&&t.jsx("div",{className:"bg-[#FEF3C7] rounded-lg p-3 border border-[#F59E0B]/20",children:t.jsxs("label",{className:"flex items-start gap-2",children:[t.jsx("input",{type:"checkbox",checked:De,onChange:U=>_e(U.target.checked),className:"mt-0.5 w-4 h-4 rounded border-[#E5E7EB] text-[#1E3A8A] focus:ring-[#1E3A8A]"}),t.jsx("span",{className:"text-xs text-[#334155]",children:"Override: Release funds without client approval"})]})}),t.jsx(X,{fullWidth:!0,onClick:()=>y(!0),disabled:ie||M.status!=="approved"&&!De,children:"Release Escrow Funds"}),t.jsx("p",{className:"text-xs text-[#64748B]",children:M.status==="approved"?"Milestone is approved. Release funds to company.":"Use override to release funds without client approval."})]})})]}),a==="client"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Approval Guidelines"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3 text-sm text-[#64748B]",children:[t.jsx("p",{children:"Review all photo and video evidence carefully."}),t.jsx("p",{children:"Verify work matches the milestone description."}),t.jsx("p",{children:"Check quality meets agreed specifications."}),t.jsx("p",{children:"Contact company if you need clarification."})]})})]})]})]}),t.jsx(xt,{isOpen:l,onClose:()=>!ie&&c(!1),title:"Approve Milestone",primaryAction:{label:ie?"Processing...":`Approve & Release ${M.amount.toLocaleString()}`,onClick:da,disabled:ie},secondaryAction:{label:"Cancel",onClick:()=>c(!1),disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-sm text-[#64748B]",children:["You are about to approve this milestone. Admin will release"," ",t.jsxs("strong",{className:"text-[#334155]",children:["",M.amount.toLocaleString()]})," ","from escrow to the construction company."]}),t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-sm text-[#334155]",children:t.jsx("strong",{children:"Please confirm:"})}),t.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-[#64748B]",children:[t.jsx("li",{children:" Work matches milestone description"}),t.jsx("li",{children:" Quality meets specifications"}),t.jsx("li",{children:" All evidence has been reviewed"})]})]}),t.jsx("p",{className:"text-xs text-[#64748B]",children:"This action cannot be undone. Admin will release funds after approval."})]})}),t.jsx(xt,{isOpen:u,onClose:()=>!ie&&f(!1),title:"Request Revisions",primaryAction:{label:ie?"Processing...":"Send Request",onClick:or,disabled:ie},secondaryAction:{label:"Cancel",onClick:()=>f(!1),disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-[#64748B]",children:"Please explain what needs to be revised or corrected before you can approve this milestone. This will create a dispute for admin review."}),t.jsx(Ut,{label:"Revision Details",placeholder:"Describe what needs to be changed...",value:F,onChange:U=>R(U.target.value),rows:6,required:!0})]})}),t.jsx(xt,{isOpen:m,onClose:()=>!ie&&p(!1),title:"Open Dispute",size:"lg",primaryAction:{label:ie?"Processing...":"Submit Dispute",onClick:Bs,variant:"danger",disabled:ie},secondaryAction:{label:"Cancel",onClick:()=>p(!1),disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#FEF3C7] rounded-lg p-4 border border-[#F59E0B]/20",children:[t.jsx("p",{className:"text-sm text-[#334155]",children:t.jsx("strong",{children:"Opening a dispute will:"})}),t.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-[#64748B]",children:[t.jsx("li",{children:" Pause all payments for this project"}),t.jsx("li",{children:" Notify our admin team for review"}),t.jsx("li",{children:" Require mediation before proceeding"})]})]}),t.jsx(Ut,{label:"Dispute Reason",placeholder:"Explain the issue in detail...",value:L,onChange:U=>S(U.target.value),rows:6,helperText:"Be specific about what is wrong and what you expect.",required:!0}),t.jsx("p",{className:"text-xs text-[#64748B]",children:"Our admin team will review your dispute within 24-48 hours."})]})}),a==="company"&&t.jsx(xt,{isOpen:x,onClose:()=>!ie&&v(!1),title:"Upload Evidence",size:"lg",primaryAction:{label:ie?"Uploading...":"Upload Evidence",onClick:async()=>{if(!ge.trim()){Q.error("Description is required");return}if(b!=="text"&&!ye){Q.error("File is required for image/video evidence");return}try{Oe(!0),await It.uploadEvidence(M.id,{type:b,file:ye||void 0,description:ge}),Q.success("Evidence uploaded successfully!"),v(!1),ee(null),We(""),W("image"),Ct()}catch(U){console.error("Upload error:",U)}finally{Oe(!1)}},disabled:ie},secondaryAction:{label:"Cancel",onClick:()=>{v(!1),ee(null),We("")},disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Evidence Type ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("select",{value:b,onChange:U=>{W(U.target.value),ee(null)},className:"w-full px-3 py-2 border border-[#E5E7EB] rounded-lg focus:border-[#1E3A8A] focus:ring-2 focus:ring-[#1E3A8A] focus:outline-none",disabled:ie,children:[t.jsx("option",{value:"image",children:"Photo"}),t.jsx("option",{value:"video",children:"Video"}),t.jsx("option",{value:"text",children:"Text Note"})]})]}),(b==="image"||b==="video")&&t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["File ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"file",accept:b==="image"?"image/*":"video/*",onChange:U=>{U.target.files&&U.target.files[0]&&ee(U.target.files[0])},className:"w-full px-3 py-2 border border-[#E5E7EB] rounded-lg focus:border-[#1E3A8A] focus:ring-2 focus:ring-[#1E3A8A] focus:outline-none",disabled:ie}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["Max file size: 10MB. Supported: ",b==="image"?"JPG, PNG":"MP4, MOV, AVI"]}),ye&&t.jsxs("p",{className:"text-sm text-[#334155] mt-2",children:["Selected: ",ye.name]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Description ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(Ut,{value:ge,onChange:U=>We(U.target.value),placeholder:"Describe the evidence or work completed...",rows:4,disabled:ie,required:!0})]})]})}),a==="admin"&&t.jsx(xt,{isOpen:j,onClose:()=>!ie&&y(!1),title:"Release Escrow Funds",size:"lg",primaryAction:{label:ie?"Releasing...":"Release Funds",onClick:async()=>{if(!M||!M.escrow)return;if(be.length===0){Q.error("Company has no payment accounts. Please ask them to add one first.");return}const U=be.find(Fe=>Fe.id===E);if(!U){Q.error("Please select a payment account");return}Oe(!0);try{await yt.releaseEscrow(M.id,{override:De,recipient_account:{account_number:U.account_number,bank_code:U.bank_code,name:U.account_name}}),Q.success("Escrow funds released successfully!"),y(!1),N(""),_e(!1),Ct()}catch(Fe){Q.error(Fe.response?.data?.message||"Failed to release escrow funds")}finally{Oe(!1)}},disabled:ie||be.length===0||!E},secondaryAction:{label:"Cancel",onClick:()=>{y(!1),N(""),_e(!1)},disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Release Details:"})}),t.jsxs("div",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsxs("p",{children:["Milestone: ",M?.title]}),t.jsxs("p",{children:["Amount: ",M?.escrow?.amount.toLocaleString()]}),t.jsxs("p",{children:["Status: ",M?.status]})]})]}),M?.status!=="approved"&&t.jsx("div",{className:"bg-[#FEF3C7] rounded-lg p-3 border border-[#F59E0B]/20",children:t.jsxs("label",{className:"flex items-start gap-2",children:[t.jsx("input",{type:"checkbox",checked:De,onChange:U=>_e(U.target.checked),className:"mt-0.5 w-4 h-4 rounded border-[#E5E7EB] text-[#1E3A8A] focus:ring-[#1E3A8A]"}),t.jsx("span",{className:"text-xs text-[#334155]",children:"Override client approval requirement"})]})}),$?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E3A8A] mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading company payment accounts..."})]}):be.length===0?t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Company has no payment accounts linked. Please ask them to add a payment account in their settings."})}):t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Select Company Payment Account ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(bn,{value:E,onChange:U=>N(U.target.value),options:be.map(U=>({value:U.id,label:`${U.account_name} - ${U.account_number}${U.is_default?" (Default)":""}`})),placeholder:"Select payment account",required:!0}),E&&t.jsx("div",{className:"mt-3 p-3 bg-[#F8FAFC] rounded-lg border border-[#E5E7EB]",children:(()=>{const U=be.find(Fe=>Fe.id===E);return U?t.jsxs("div",{className:"text-sm text-[#64748B]",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account:"})," ",U.account_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Number:"})," ",U.account_number]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Bank:"})," ",U.bank_name||`Code: ${U.bank_code}`]}),U.is_verified&&t.jsx("p",{className:"text-green-600 mt-1",children:" Verified"})]}):null})()})]}),t.jsxs("div",{className:"bg-[#D1FAE5] rounded-lg p-4 border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"This action will:"})}),t.jsxs("ul",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsx("li",{children:" Transfer funds from escrow to company account"}),t.jsx("li",{children:" Mark milestone as released"}),t.jsx("li",{children:" Update escrow status"}),t.jsx("li",{children:" Notify both parties"})]})]})]})}),a==="company"&&t.jsx(xt,{isOpen:k,onClose:()=>!ie&&P(!1),title:"Request Escrow Release",size:"lg",primaryAction:{label:ie?"Processing...":"Request Release",onClick:async()=>{if(!(!M||!M.escrow)){if(V.length===0){Q.error("Please add a payment account in Settings first");return}Oe(!0);try{await dn.requestEscrowRelease(M.id,{account_id:G||void 0}),Q.success("Escrow release requested successfully!"),P(!1),Ct()}catch(U){Q.error(U.response?.data?.message||"Failed to request escrow release")}finally{Oe(!1)}}},disabled:ie||V.length===0},secondaryAction:{label:"Cancel",onClick:()=>{P(!1)},disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Release Details:"})}),t.jsxs("div",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsxs("p",{children:["Milestone: ",M?.title]}),t.jsxs("p",{children:["Amount: ",M?.escrow?.amount.toLocaleString()]})]})]}),V.length===0?t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No payment accounts found. Please add a payment account in Settings first."}),t.jsx(X,{variant:"secondary",size:"sm",onClick:()=>{P(!1),r("/settings")},children:"Go to Settings"})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Select Payment Account"}),t.jsx(bn,{value:G,onChange:U=>re(U.target.value),options:V.map(U=>({value:U.id,label:`${U.account_name} - ${U.account_number}${U.is_default?" (Default)":""}`}))}),G&&t.jsx("div",{className:"mt-3 p-3 bg-[#F8FAFC] rounded-lg border border-[#E5E7EB]",children:(()=>{const U=V.find(Fe=>Fe.id===G);return U?t.jsxs("div",{className:"text-sm text-[#64748B]",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account:"})," ",U.account_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Number:"})," ",U.account_number]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Bank:"})," ",U.bank_name||`Code: ${U.bank_code}`]})]}):null})()})]}),t.jsxs("div",{className:"bg-[#D1FAE5] rounded-lg p-4 border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"This action will:"})}),t.jsxs("ul",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsx("li",{children:" Transfer funds from escrow to your selected account"}),t.jsx("li",{children:" Mark milestone as released"}),t.jsx("li",{children:" Update escrow status"})]})]})]})}),a==="client"&&t.jsx(xt,{isOpen:A,onClose:()=>!ie&&O(!1),title:"Request Escrow Refund",size:"lg",primaryAction:{label:ie?"Processing...":"Request Refund",onClick:async()=>{if(!(!M||!M.escrow)){if(!H.trim()){Q.error("Please provide a reason for the refund");return}if(V.length===0){Q.error("Please add a payment account in Settings first");return}Oe(!0);try{await dn.requestEscrowRefund(M.id,{reason:H,account_id:G||void 0}),Q.success("Refund requested successfully!"),O(!1),B(""),Ct()}catch(U){Q.error(U.response?.data?.message||"Failed to request refund")}finally{Oe(!1)}}},disabled:ie||!H.trim()||V.length===0},secondaryAction:{label:"Cancel",onClick:()=>{O(!1),B("")},disabled:ie},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Refund Details:"})}),t.jsxs("div",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsxs("p",{children:["Milestone: ",M?.title]}),t.jsxs("p",{children:["Amount: ",M?.escrow?.amount.toLocaleString()]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Reason for Refund ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(Ut,{value:H,onChange:U=>B(U.target.value),placeholder:"Please explain why you are requesting a refund...",rows:4,required:!0})]}),V.length===0?t.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[t.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"No payment accounts found. Please add a payment account in Settings first."}),t.jsx(X,{variant:"secondary",size:"sm",onClick:()=>{O(!1),r("/settings")},children:"Go to Settings"})]}):t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Refund to Account"}),t.jsx(bn,{value:G,onChange:U=>re(U.target.value),options:V.map(U=>({value:U.id,label:`${U.account_name} - ${U.account_number}${U.is_default?" (Default)":""}`}))})]}),t.jsxs("div",{className:"bg-[#FEF3C7] rounded-lg p-4 border border-[#F59E0B]/20",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Note:"})}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"This will cancel the milestone payment and refund the escrow amount to your selected account."})]})]})}),t.jsx(xt,{isOpen:K,onClose:()=>{le(!1),tn("")},title:"Verify Milestone",children:M&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-2",children:"Milestone:"}),t.jsx("p",{className:"font-medium text-[#334155]",children:M.title})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Notes (Optional)"}),t.jsx(Ut,{value:Fs,onChange:U=>tn(U.target.value),placeholder:"Add any notes or comments about this milestone...",rows:4})]}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx(X,{variant:"outline",onClick:()=>{le(!1),tn("")},disabled:ie,children:"Cancel"}),t.jsx(X,{variant:"primary",onClick:ma,disabled:ie,children:ie?"Verifying...":"Verify Milestone"})]})]})}),t.jsx(xt,{isOpen:rt,onClose:()=>{$e(!1),hn("")},title:`${a==="client"?"Client":"Company"} Notes`,children:M&&t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#64748B] mb-2",children:"Milestone:"}),t.jsx("p",{className:"font-medium text-[#334155]",children:M.title})]}),M.client_notes&&t.jsxs("div",{className:"p-3 bg-[#EFF6FF] rounded-lg border border-[#3B82F6]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Client Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:M.client_notes})]}),M.company_notes&&t.jsxs("div",{className:"p-3 bg-[#F0FDF4] rounded-lg border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Company Notes"}),t.jsx("p",{className:"text-sm text-[#334155] whitespace-pre-wrap",children:M.company_notes})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:a==="client"?"Your Notes":"Company Notes"}),t.jsx(Ut,{value:In,onChange:U=>hn(U.target.value),placeholder:"Add your notes or comments about this milestone...",rows:4})]}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx(X,{variant:"outline",onClick:()=>{$e(!1),hn("")},disabled:ie,children:"Cancel"}),t.jsx(X,{variant:"primary",onClick:ds,disabled:ie,children:ie?"Saving...":"Save Notes"})]})]})})]})}function u1({userRole:r}){const a=Xe(),{id:l}=zl(),c=l||"",[u,f]=g.useState(null),[m,p]=g.useState(!0),[x,v]=g.useState(!1),[j,y]=g.useState([{title:"",description:"",amount:"",sequence_order:1}]);g.useEffect(()=>{c&&r==="company"?A():r!=="company"&&(Q.error("Only companies can create milestones"),a("/projects"))},[c,r]);const A=async()=>{try{p(!0);const S=await gt.getForCompany(c);if(S.status!=="draft"){Q.error("Can only create milestones for draft projects"),a(`/projects/${c}`);return}f(S)}catch(S){console.error("Failed to load project:",S),Q.error("Failed to load project"),a("/projects")}finally{p(!1)}},O=()=>{y([...j,{title:"",description:"",amount:"",sequence_order:j.length+1}])},k=S=>{if(j.length===1){Q.error("At least one milestone is required");return}const H=j.filter((B,b)=>b!==S);H.forEach((B,b)=>{B.sequence_order=b+1}),y(H)},P=(S,H,B)=>{const b=[...j];b[S]={...b[S],[H]:B},H==="sequence_order"&&(b[S].sequence_order=B),y(b)},F=()=>j.reduce((S,H)=>{const B=parseFloat(H.amount)||0;return S+B},0),R=()=>{for(const B of j){if(!B.title.trim())return Q.error("All milestones must have a title"),!1;if(!B.amount||parseFloat(B.amount)<=0)return Q.error("All milestones must have a valid amount"),!1}const S=j.map(B=>B.sequence_order);return new Set(S).size!==S.length?(Q.error("Sequence orders must be unique"),!1):!0},L=async S=>{if(S.preventDefault(),!!R()){v(!0);try{const H=j.map(B=>({title:B.title.trim(),description:B.description.trim()||void 0,amount:parseFloat(B.amount),sequence_order:B.sequence_order}));await gt.createMilestones(c,H),Q.success("Milestones created successfully! The project will become active once the client verifies all milestones."),a(`/projects/${c}`)}catch(H){console.error("Failed to create milestones:",H)}finally{v(!1)}}};return m?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading project..."})]})}):u?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>a(`/projects/${c}`),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155] mb-2",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Project"]}),t.jsx("h1",{className:"text-2xl font-semibold text-[#334155]",children:"Create Milestones"}),t.jsxs("p",{className:"text-sm text-[#64748B] mt-1",children:["Define project milestones for ",u.title,". The project will become active once the client verifies all milestones."]})]})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:u.title}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:u.location})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-xs text-[#64748B]",children:"Total Milestones"}),t.jsx("p",{className:"text-lg font-semibold text-[#334155]",children:j.length})]})]})})}),t.jsxs("form",{onSubmit:L,children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(je,{children:"Project Milestones"}),t.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:O,children:[t.jsx(Yr,{className:"w-4 h-4 mr-2"}),"Add Milestone"]})]})}),t.jsxs(ne,{children:[t.jsx("div",{className:"space-y-6",children:j.map((S,H)=>t.jsxs("div",{className:"p-4 border border-[#E5E7EB] rounded-lg bg-[#F8FAFC]",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 rounded-full bg-[#1E3A8A] text-white flex items-center justify-center text-sm font-medium",children:S.sequence_order}),t.jsxs("h3",{className:"text-sm font-medium text-[#334155]",children:["Milestone ",H+1]})]}),j.length>1&&t.jsx("button",{type:"button",onClick:()=>k(H),className:"text-red-600 hover:text-red-700",children:t.jsx(Hf,{className:"w-4 h-4"})})]}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsx(Ue,{label:"Milestone Title",placeholder:"e.g., Foundation, Roofing, Finishing",value:S.title,onChange:B=>P(H,"title",B.target.value),required:!0})}),t.jsx("div",{children:t.jsx(Ue,{label:"Amount ()",type:"number",placeholder:"0.00",value:S.amount,onChange:B=>P(H,"amount",B.target.value),min:"0",step:"0.01",required:!0})}),t.jsxs("div",{children:[t.jsx(Ue,{label:"Sequence Order",type:"number",value:S.sequence_order.toString(),onChange:B=>{const b=parseInt(B.target.value)||1;P(H,"sequence_order",b)},min:"1",required:!0}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:"Order in which this milestone should be completed"})]}),t.jsx("div",{className:"md:col-span-2",children:t.jsx(Ut,{label:"Description (Optional)",placeholder:"Describe what work will be completed in this milestone...",value:S.description,onChange:B=>P(H,"description",B.target.value),rows:3})})]})]},H))}),t.jsx("div",{className:"mt-6 pt-6 border-t border-[#E5E7EB]",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-lg font-semibold text-[#334155]",children:"Total Project Value"}),t.jsxs("span",{className:"text-2xl font-bold text-[#1E3A8A]",children:["",F().toLocaleString()]})]})})]})]}),t.jsxs("div",{className:"mt-6 flex items-center justify-end gap-4",children:[t.jsx(X,{type:"button",variant:"outline",onClick:()=>a(`/projects/${c}`),disabled:x,children:"Cancel"}),t.jsx(X,{type:"submit",disabled:x,className:"bg-[#1E3A8A] text-white",children:x?"Creating...":"Create Milestones"})]})]})]}):t.jsx("div",{className:"space-y-6",children:t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Project not found"})})})})})}function d1({}){const r=Xe(),[a,l]=g.useState("verifying"),[c,u]=g.useState(""),[f,m]=g.useState(null),p=new URLSearchParams(window.location.search),x=p.get("reference")||p.get("trxref"),v=p.get("status"),j=p.get("message"),y=p.get("consultation_id"),A=p.get("milestone_id"),O=p.get("project_id");g.useEffect(()=>{v==="success"&&x?y||A||O?k():P(x):v==="failed"||v==="error"?(l("error"),u(j||"Payment verification failed. Please contact support."),Q.error(j||"Payment verification failed")):x?F(x):(l("error"),u("No payment reference found"))},[]);const k=()=>{l("success");let R="/dashboard";y?(R=`/consultations/${y}`,u("Consultation payment successful!")):A?(R=`/milestones/${A}`,u("Escrow funded successfully!")):O?(R=`/projects/${O}`,u("Escrow funded successfully!")):u("Payment verified successfully!"),m(R),Q.success("Payment successful!"),setTimeout(()=>{r(R)},2e3)},P=async R=>{try{l("verifying");const L=await me.post("/payments/verify",{reference:R}),S=pe(L.data);let H=null,B=null,b=null;S.consultation_id||S.consultation&&S.consultation.id?H=S.consultation_id||S.consultation?.id:S.milestone_id||S.milestone&&S.milestone.id?(B=S.milestone_id||S.milestone?.id,b=S.project_id||S.milestone?.project_id||S.project?.id):S.metadata&&(H=S.metadata.consultation_id,B=S.metadata.milestone_id,b=S.metadata.project_id);let W="/dashboard";H?(W=`/consultations/${H}`,u("Consultation payment successful!")):B?(W=`/milestones/${B}`,u("Escrow funded successfully!")):b?(W=`/projects/${b}`,u("Escrow funded successfully!")):u("Payment verified successfully!"),m(W),l("success"),Q.success(L.data.message||"Payment verified successfully!"),setTimeout(()=>{r(W)},3e3)}catch(L){console.error("Failed to fetch payment details:",L),l("success"),u("Payment successful!"),m("/dashboard"),Q.success("Payment successful!"),setTimeout(()=>{r("/dashboard")},3e3)}},F=async R=>{try{l("verifying");const L=await me.post("/payments/verify",{reference:R}),S=pe(L.data);let H=null,B=null,b=null;S.consultation_id||S.consultation&&S.consultation.id?(H=S.consultation_id||S.consultation?.id,m(`/consultations/${H}`),u("Consultation payment successful!")):S.milestone_id||S.milestone&&S.milestone.id?(B=S.milestone_id||S.milestone?.id,b=S.project_id||S.milestone?.project_id||S.project?.id,m(B?`/milestones/${B}`:b?`/projects/${b}`:"/projects"),u("Escrow funded successfully!")):(m("/dashboard"),u("Payment verified successfully!")),l("success"),Q.success(L.data.message||"Payment verified successfully!");const W=H?`/consultations/${H}`:B?`/milestones/${B}`:b?`/projects/${b}`:"/dashboard";setTimeout(()=>{r(W)},3e3)}catch(L){console.error("Payment verification error:",L),l("error"),u(L.response?.data?.message||"Payment verification failed. Please contact support."),Q.error(L.response?.data?.message||"Payment verification failed")}};return t.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8FAFC] p-4",children:t.jsx(Z,{className:"max-w-md w-full",children:t.jsx(ne,{className:"p-8",children:t.jsxs("div",{className:"text-center",children:[a==="verifying"&&t.jsxs(t.Fragment,{children:[t.jsx(Aj,{className:"w-16 h-16 text-[#1E3A8A] animate-spin mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-[#334155] mb-2",children:"Verifying Payment"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Please wait while we verify your payment..."})]}),a==="success"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-16 h-16 bg-[#D1FAE5] rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(Qe,{className:"w-10 h-10 text-[#16A34A]"})}),t.jsx("h2",{className:"text-xl font-semibold text-[#334155] mb-2",children:"Payment Successful!"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-6",children:c}),f&&t.jsx(X,{onClick:()=>r(f),className:"w-full",children:"Continue"}),t.jsx("p",{className:"text-xs text-[#64748B] mt-4",children:"Redirecting automatically..."})]}),a==="error"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-16 h-16 bg-[#FEE2E2] rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(mn,{className:"w-10 h-10 text-[#DC2626]"})}),t.jsx("h2",{className:"text-xl font-semibold text-[#334155] mb-2",children:"Payment Verification Failed"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-6",children:c}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(X,{onClick:()=>r("/dashboard"),className:"w-full",children:"Go to Dashboard"}),t.jsx(X,{variant:"secondary",onClick:()=>window.location.reload(),className:"w-full",children:"Try Again"})]})]})]})})})})}function Im({onNavigate:r}){const[a,l]=g.useState([]),[c,u]=g.useState([]),[f,m]=g.useState(!0),[p,x]=g.useState({pendingVerifications:0,openDisputes:0,escrowAwaitingRelease:0,activeProjects:0});g.useEffect(()=>{v()},[]);const v=async()=>{try{m(!0);const y=await yt.listCompanies({status:"pending",per_page:5});l(y.companies);const A=await yt.listDisputes({status:"open",per_page:5});u(A.disputes);const O=await yt.listCompanies({per_page:100}),k=await yt.listDisputes({per_page:100});x({pendingVerifications:O.companies.filter(P=>P.status==="pending").length,openDisputes:k.disputes.filter(P=>P.status==="open").length,escrowAwaitingRelease:0,activeProjects:0})}catch(y){console.error("Failed to load dashboard data:",y)}finally{m(!1)}};p.pendingVerifications.toString(),p.openDisputes.toString(),`${p.escrowAwaitingRelease.toLocaleString()}`,p.activeProjects.toString();const j=y=>new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return f?t.jsxs("div",{className:"space-y-8",children:[t.jsx("div",{children:t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Admin Dashboard"})}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading dashboard..."})]})]}):t.jsxs("div",{className:"space-y-8",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Admin Dashboard"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Platform overview and pending actions."})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map((y,A)=>t.jsx(Z,{children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:y.label}),t.jsx("p",{className:"text-2xl font-semibold text-[#334155]",children:y.value})]}),t.jsx("div",{className:`w-10 h-10 rounded-lg ${y.bgColor} flex items-center justify-center ${y.color}`,children:y.icon})]})},A))}),t.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(je,{children:"Pending Company Verifications"}),t.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("/admin/companies"),children:"View All"})]})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-3",children:a.length===0?t.jsx("p",{className:"text-sm text-[#64748B] text-center py-4",children:"No pending verifications"}):a.map(y=>t.jsxs("div",{onClick:()=>r(`/admin/companies/${y.id}`),className:"flex items-center justify-between p-4 bg-[#F8FAFC] rounded-lg hover:bg-[#E5E7EB] cursor-pointer transition-colors",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:y.company_name}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:y.user?.email||"No email"}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["Submitted: ",j(y.created_at)]})]}),t.jsx(X,{size:"sm",children:"Review"})]},y.id))})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(je,{children:"Open Disputes"}),t.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r("/admin/disputes"),children:"View All"})]})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-3",children:c.length===0?t.jsx("p",{className:"text-sm text-[#64748B] text-center py-4",children:"No open disputes"}):c.map(y=>t.jsxs("div",{onClick:()=>r(`/admin/disputes/${y.id}`),className:"p-4 bg-[#FEF3C7] rounded-lg border border-[#F59E0B]/20 hover:bg-[#FEF3C7]/80 cursor-pointer transition-colors",children:[t.jsx("p",{className:"text-sm font-medium text-[#334155] mb-1",children:y.project?.title||"Project"}),t.jsx("p",{className:"text-xs text-[#64748B] mb-2 line-clamp-2",children:y.reason}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Opened: ",j(y.created_at)]}),t.jsx(X,{size:"sm",children:"Resolve"})]})]},y.id))})})]})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Quick Actions"})}),t.jsx(ne,{children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsxs(X,{variant:"secondary",onClick:()=>r("/admin/companies"),children:[t.jsx(os,{className:"w-4 h-4"}),"Review Companies"]}),t.jsxs(X,{variant:"secondary",onClick:()=>r("/admin/disputes"),children:[t.jsx(Zt,{className:"w-4 h-4"}),"Manage Disputes"]}),t.jsxs(X,{variant:"secondary",onClick:()=>r("/admin/escrow"),children:[t.jsx(en,{className:"w-4 h-4"}),"Escrow Overview"]})]})})]})]})}function m1({}){const r=Xe(),[a,l]=g.useState([]),[c,u]=g.useState(!0),[f,m]=g.useState(""),[p,x]=g.useState("all"),[v,j]=g.useState("all"),[y,A]=g.useState(1),[O]=g.useState(15),[k,P]=g.useState(1),[F,R]=g.useState(0);g.useEffect(()=>{L()},[y,p,v]);const L=async()=>{try{u(!0);const ee={per_page:O,page:y};p!=="all"&&(ee.status=p),v!=="all"&&(ee.verified=v==="true");const ge=await yt.listCompanies(ee);l(ge.companies),P(ge.meta.last_page),R(ge.meta.total)}catch(ee){console.error("Failed to load companies:",ee),Q.error("Failed to load companies")}finally{u(!1)}},S=()=>{L()},H=ee=>{switch(ee){case"approved":return"green";case"pending":return"yellow";case"rejected":return"red";case"suspended":return"red";default:return"gray"}},B=ee=>new Date(ee).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),b=a.filter(ee=>{if(!f)return!0;const ge=f.toLowerCase();return ee.company_name.toLowerCase().includes(ge)||ee.registration_number.toLowerCase().includes(ge)||ee.user?.email.toLowerCase().includes(ge)||ee.user?.name.toLowerCase().includes(ge)}),W=[{header:"Company Name",accessor:ee=>ee.company_name},{header:"Registration",accessor:ee=>ee.registration_number},{header:"Contact",accessor:ee=>ee.user},{header:"Status",accessor:ee=>ee.status},{header:"Verified",accessor:ee=>ee.is_verified},{header:"Submitted",accessor:ee=>ee.created_at},{header:"Actions",accessor:ee=>ee.actions}],ye=b.map(ee=>({company_name:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:ee.company_name}),ee.specialization&&ee.specialization.length>0&&t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:ee.specialization.slice(0,2).join(", ")})]}),registration_number:t.jsx("p",{className:"text-sm text-[#334155]",children:ee.registration_number}),user:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#334155]",children:ee.user?.name||"N/A"}),t.jsx("p",{className:"text-xs text-[#64748B]",children:ee.user?.email||""})]}),status:t.jsx(ze,{status:ee.status,color:H(ee.status)}),is_verified:ee.is_verified?t.jsx(Qe,{className:"w-5 h-5 text-[#16A34A]"}):t.jsx(En,{className:"w-5 h-5 text-[#F59E0B]"}),created_at:t.jsx("p",{className:"text-sm text-[#64748B]",children:B(ee.created_at)}),actions:t.jsx(X,{size:"sm",variant:"secondary",onClick:()=>r(`/admin/companies/${ee.id}`),children:"Review"})}));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Company Management"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Review and manage company registrations and verifications"})]}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ue,{placeholder:"Search companies...",value:f,onChange:ee=>m(ee.target.value),onKeyPress:ee=>ee.key==="Enter"&&S()}),t.jsx(X,{onClick:S,children:t.jsx(jc,{className:"w-4 h-4"})})]})}),t.jsx(bn,{label:"Status",value:p,onChange:ee=>{x(ee.target.value),A(1)},options:[{value:"all",label:"All Status"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"},{value:"suspended",label:"Suspended"}]}),t.jsx(bn,{label:"Verification",value:v,onChange:ee=>{j(ee.target.value),A(1)},options:[{value:"all",label:"All"},{value:"true",label:"Verified"},{value:"false",label:"Not Verified"}]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-semibold text-[#334155]",children:F})]}),t.jsx(os,{className:"w-8 h-8 text-[#64748B]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Pending"}),t.jsx("p",{className:"text-2xl font-semibold text-[#F59E0B]",children:a.filter(ee=>ee.status==="pending").length})]}),t.jsx(En,{className:"w-8 h-8 text-[#F59E0B]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Approved"}),t.jsx("p",{className:"text-2xl font-semibold text-[#16A34A]",children:a.filter(ee=>ee.status==="approved").length})]}),t.jsx(Qe,{className:"w-8 h-8 text-[#16A34A]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Verified"}),t.jsx("p",{className:"text-2xl font-semibold text-[#1E3A8A]",children:a.filter(ee=>ee.is_verified).length})]}),t.jsx(Qe,{className:"w-8 h-8 text-[#1E3A8A]"})]})})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Companies"})}),t.jsx(ne,{children:c?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading companies..."})]}):b.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(os,{className:"w-12 h-12 text-[#64748B] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No companies found"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ia,{columns:W,data:ye}),k>1&&t.jsx("div",{className:"mt-6",children:t.jsx(oa,{currentPage:y,totalPages:k,onPageChange:A})})]})})]})]})}function f1({onNavigate:r}){const[a,l]=g.useState(!1),[c,u]=g.useState(!1),[f,m]=g.useState(!1),[p,x]=g.useState(""),[v,j]=g.useState(""),[y,A]=g.useState(null),[O,k]=g.useState(!0),[P,F]=g.useState(!1),R=window.location.pathname.split("/admin/companies/")[1]?.split("#")[0]||"";g.useEffect(()=>{R&&L()},[R]);const L=async()=>{try{k(!0);const W=await yt.getCompany(R);A(W)}catch(W){console.error("Failed to load company:",W),Q.error("Failed to load company details"),r("/admin/companies")}finally{k(!1)}},S=async()=>{if(y)try{F(!0),await yt.approveCompany(y.id),Q.success("Company approved successfully!"),l(!1),r("/admin/companies")}catch(W){console.error("Failed to approve company:",W)}finally{F(!1)}},H=async()=>{if(!y||!p.trim()){Q.error("Please provide a rejection reason");return}try{F(!0),await yt.rejectCompany(y.id,p),Q.success("Company rejected successfully"),u(!1),x(""),r("/admin/companies")}catch(W){console.error("Failed to reject company:",W)}finally{F(!1)}},B=W=>new Date(W).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),b=W=>{switch(W){case"approved":return"green";case"pending":return"yellow";case"rejected":return"red";case"suspended":return"red";default:return"gray"}};return O?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading company details..."})]})}):y?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>r("/admin/companies"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Companies"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:y.company_name}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:["Submitted: ",B(y.created_at)]}),t.jsx("div",{className:"mt-2",children:t.jsx(ze,{status:y.status,color:b(y.status)})})]}),t.jsxs("div",{className:"flex gap-3",children:[y.status==="approved"&&t.jsxs(X,{variant:"danger",onClick:()=>m(!0),disabled:P,children:[t.jsx(mn,{className:"w-4 h-4"}),"Suspend"]}),y.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(X,{variant:"danger",onClick:()=>u(!0),disabled:P,children:[t.jsx(mn,{className:"w-4 h-4"}),"Reject"]}),t.jsxs(X,{onClick:()=>l(!0),disabled:P,children:[t.jsx(Qe,{className:"w-4 h-4"}),"Approve"]})]})]})]}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Company Information"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(os,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Company Name"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.company_name})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Jr,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Registration Number"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.registration_number})]})]}),y.specialization&&y.specialization.length>0&&t.jsxs("div",{className:"flex items-start gap-3 md:col-span-2",children:[t.jsx(os,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Specialization"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.specialization.join(", ")})]})]}),t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx(Pj,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Email"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.user?.email||"N/A"})]})]}),y.user?.phone&&t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx($j,{className:"w-5 h-5 text-[#64748B] mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.user.phone})]})]})]}),y.verified_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Verified At"}),t.jsx("p",{className:"text-sm text-[#334155]",children:B(y.verified_at)})]})]})})]}),y.license_documents&&y.license_documents.length>0&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"License Documents"})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-3",children:y.license_documents.map((W,ye)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F8FAFC] rounded-lg border border-[#E5E7EB]",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(Jr,{className:"w-5 h-5 text-[#64748B]"}),t.jsx("span",{className:"text-sm text-[#334155]",children:W})]}),t.jsx(X,{size:"sm",variant:"ghost",onClick:()=>window.open(ac(W),"_blank"),children:"View Document"})]},ye))})})]}),y.portfolio_links&&y.portfolio_links.length>0&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Portfolio Links"})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-3",children:y.portfolio_links.map((W,ye)=>t.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#F8FAFC] rounded-lg",children:[t.jsx("a",{href:W,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8] hover:underline",children:W}),t.jsx(X,{size:"sm",variant:"ghost",onClick:()=>window.open(W,"_blank"),children:"Visit"})]},ye))})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Company Status"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Status"}),t.jsx(ze,{status:y.status,color:b(y.status)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Verification Status"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.is_verified?"Verified":"Not Verified"})]}),y.verified_at&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Verified Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:B(y.verified_at)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Created Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:B(y.created_at)})]})]})})]}),y.user&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"User Information"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Name"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.user.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Email"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.user.email})]}),y.user.phone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Phone"}),t.jsx("p",{className:"text-sm text-[#334155]",children:y.user.phone})]})]})})]})]})]}),t.jsx(xt,{isOpen:a,onClose:()=>l(!1),title:"Approve Company",primaryAction:{label:P?"Approving...":"Approve Company",onClick:S,disabled:P},secondaryAction:{label:"Cancel",onClick:()=>l(!1),disabled:P},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("p",{className:"text-sm text-[#64748B]",children:["You are about to approve ",t.jsx("strong",{className:"text-[#334155]",children:y.company_name})," to operate on the platform."]}),t.jsxs("div",{className:"bg-[#D1FAE5] rounded-lg p-4 border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-sm text-[#334155]",children:t.jsx("strong",{children:"This will:"})}),t.jsxs("ul",{className:"mt-2 space-y-1 text-sm text-[#334155]",children:[t.jsx("li",{children:" Allow company to accept consultations"}),t.jsx("li",{children:" Make company visible to clients"}),t.jsx("li",{children:" Enable project creation"})]})]}),t.jsx("p",{className:"text-xs text-[#64748B]",children:"Ensure all verification steps have been completed."})]})}),t.jsx(xt,{isOpen:c,onClose:()=>u(!1),title:"Reject Company Application",primaryAction:{label:P?"Rejecting...":"Reject Application",onClick:H,variant:"danger",disabled:P},secondaryAction:{label:"Cancel",onClick:()=>u(!1),disabled:P},children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-[#64748B]",children:"Please provide a reason for rejecting this company's application."}),t.jsx(Ut,{label:"Rejection Reason",placeholder:"Explain why the application was rejected...",value:p,onChange:W=>x(W.target.value),rows:6,helperText:"This will be sent to the company.",required:!0})]})})]}):t.jsx("div",{className:"space-y-6",children:t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Company not found"})})})})})}function p1({onNavigate:r}){const[a,l]=g.useState([]),[c,u]=g.useState(!0),[f,m]=g.useState(""),[p,x]=g.useState("all"),[v,j]=g.useState(1),[y]=g.useState(15),[A,O]=g.useState(1),[k,P]=g.useState(0);g.useEffect(()=>{F()},[v,p]);const F=async()=>{try{u(!0);const b={per_page:y,page:v};p!=="all"&&(b.status=p);const W=await yt.listDisputes(b);l(W.disputes),O(W.meta.last_page),P(W.meta.total)}catch(b){console.error("Failed to load disputes:",b),Q.error("Failed to load disputes")}finally{u(!1)}},R=()=>{F()},L=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),S=a.filter(b=>{if(!f)return!0;const W=f.toLowerCase();return b.project?.title.toLowerCase().includes(W)||b.reason.toLowerCase().includes(W)||b.raised_by_user?.name.toLowerCase().includes(W)||b.raised_by_user?.email.toLowerCase().includes(W)}),H=[{header:"ID",accessor:b=>b.id},{header:"Type",accessor:b=>b.type},{header:"Project",accessor:b=>b.project},{header:"Milestone",accessor:b=>b.milestone},{header:"Raised By",accessor:b=>b.raised_by},{header:"Reason",accessor:b=>b.reason},{header:"Status",accessor:b=>b.status},{header:"Opened",accessor:b=>b.created_at},{header:"Actions",accessor:b=>b.actions}],B=S.map(b=>({id:t.jsxs("p",{className:"text-sm font-medium text-[#334155]",children:["#",b.id]}),type:t.jsx("div",{children:t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${b.type==="revision_request"?"bg-[#FEF3C7] text-[#F59E0B]":"bg-[#FEE2E2] text-[#DC2626]"}`,children:b.type==="revision_request"?"Revision Request":"Dispute"})}),project:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:b.project?.title||"N/A"}),b.project&&t.jsx("button",{onClick:()=>r(`/projects/${b.project?.id}`),className:"text-xs text-[#1E3A8A] hover:text-[#1D4ED8] hover:underline mt-1",children:"View Project"})]}),milestone:b.milestone?t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#334155]",children:b.milestone.title}),t.jsxs("p",{className:"text-xs text-[#64748B]",children:["",b.milestone.amount.toLocaleString()]})]}):t.jsx("p",{className:"text-sm text-[#64748B]",children:"N/A"}),raised_by:t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#334155]",children:(b.raised_by_user||b.raised_by)?.name||"N/A"}),(b.raised_by_user||b.raised_by)?.email&&t.jsx("p",{className:"text-xs text-[#64748B]",children:(b.raised_by_user||b.raised_by)?.email})]}),reason:t.jsx("p",{className:"text-sm text-[#334155] line-clamp-2 max-w-xs",children:b.reason}),status:t.jsx(ze,{status:b.status}),created_at:t.jsx("p",{className:"text-sm text-[#64748B]",children:L(b.created_at)}),actions:t.jsx(X,{size:"sm",variant:"secondary",onClick:()=>r(`/admin/disputes/${b.id}`),children:"Review"})}));return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Dispute Management"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Review and resolve disputes between clients and companies"})]}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[t.jsx("div",{className:"md:col-span-2",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsx(Ue,{placeholder:"Search disputes...",value:f,onChange:b=>m(b.target.value),onKeyPress:b=>b.key==="Enter"&&R()}),t.jsx(X,{onClick:R,children:t.jsx(jc,{className:"w-4 h-4"})})]})}),t.jsx(bn,{label:"Status",value:p,onChange:b=>{x(b.target.value),j(1)},options:[{value:"all",label:"All Status"},{value:"open",label:"Open"},{value:"resolved",label:"Resolved"},{value:"escalated",label:"Escalated"}]})]})})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total"}),t.jsx("p",{className:"text-2xl font-semibold text-[#334155]",children:k})]}),t.jsx(Zt,{className:"w-8 h-8 text-[#64748B]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Open"}),t.jsx("p",{className:"text-2xl font-semibold text-[#F59E0B]",children:a.filter(b=>b.status==="open").length})]}),t.jsx(En,{className:"w-8 h-8 text-[#F59E0B]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Resolved"}),t.jsx("p",{className:"text-2xl font-semibold text-[#16A34A]",children:a.filter(b=>b.status==="resolved").length})]}),t.jsx(Qe,{className:"w-8 h-8 text-[#16A34A]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Escalated"}),t.jsx("p",{className:"text-2xl font-semibold text-[#DC2626]",children:a.filter(b=>b.status==="escalated").length})]}),t.jsx(mn,{className:"w-8 h-8 text-[#DC2626]"})]})})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Disputes"})}),t.jsx(ne,{children:c?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading disputes..."})]}):S.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Zt,{className:"w-12 h-12 text-[#64748B] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No disputes found"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ia,{columns:H,data:B}),A>1&&t.jsx("div",{className:"mt-6",children:t.jsx(oa,{currentPage:v,totalPages:A,onPageChange:j})})]})})]})]})}function h1({onNavigate:r}){const[a,l]=g.useState(!1),[c,u]=g.useState(""),[f,m]=g.useState("resolved"),[p,x]=g.useState(null),[v,j]=g.useState(!0),[y,A]=g.useState(!1),O=window.location.pathname.split("/admin/disputes/")[1]?.split("#")[0]||"";g.useEffect(()=>{O&&k()},[O]);const k=async()=>{try{j(!0);const L=await yt.getDispute(O);x(L)}catch(L){console.error("Failed to load dispute:",L),Q.error("Failed to load dispute details"),r("/admin/disputes")}finally{j(!1)}},P=async()=>{if(!p||!c.trim()){Q.error("Please provide resolution notes");return}try{A(!0),await yt.resolveDispute(p.id,{resolution:c,status:f}),Q.success("Dispute resolved successfully"),l(!1),u(""),k()}catch(L){console.error("Failed to resolve dispute:",L)}finally{A(!1)}},F=L=>new Date(L).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),R=L=>{switch(L){case"open":return"yellow";case"resolved":return"green";case"escalated":return"red";default:return"gray"}};return v?t.jsx("div",{className:"space-y-6",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading dispute details..."})]})}):p?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("button",{onClick:()=>r("/admin/disputes"),className:"flex items-center gap-2 text-sm text-[#64748B] hover:text-[#334155]",children:[t.jsx(Jt,{className:"w-4 h-4"}),"Back to Disputes"]}),t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:["Dispute #",p.id]}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:[p.project?.title||"Project","  Opened: ",F(p.created_at)]})]}),t.jsx(ze,{status:p.status,color:R(p.status)})]}),p.status==="open"&&p.milestone&&t.jsx("div",{className:"bg-[#FEF3C7] rounded-lg p-4 border border-[#F59E0B]/20",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Zt,{className:"w-5 h-5 text-[#F59E0B] flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-[#334155] mb-1",children:["Disputed Milestone: ",p.milestone.title]}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:["",p.milestone.amount.toLocaleString()," in escrow is on hold pending resolution."]})]})]})}),p.resolution_notes&&t.jsx("div",{className:"bg-[#D1FAE5] rounded-lg p-4 border border-[#16A34A]/20",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Zt,{className:"w-5 h-5 text-[#16A34A] flex-shrink-0 mt-0.5"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-[#334155] mb-1",children:"Resolution"}),t.jsx("p",{className:"text-sm text-[#334155]",children:p.resolution_notes})]})]})}),t.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx(je,{children:"Client Complaint"})})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Raised By"}),t.jsx("p",{className:"text-sm text-[#334155] font-medium",children:p.raised_by_user?.name||"Client"}),p.raised_by_user?.email&&t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:p.raised_by_user.email})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Complaint Details"}),t.jsx("p",{className:"text-sm text-[#334155]",children:p.reason})]})]})})]}),p.project&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Project & Company"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Project"}),t.jsx("p",{className:"text-sm text-[#334155] font-medium",children:p.project.title})]}),p.milestone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Disputed Milestone"}),t.jsx("p",{className:"text-sm text-[#334155]",children:p.milestone.title}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["Amount: ",p.milestone.amount.toLocaleString()]})]})]})})]}),p.status==="open"&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Resolution"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Resolution Status"}),t.jsxs("select",{value:f,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-[#E5E7EB] rounded-lg focus:border-[#1E3A8A] focus:ring-2 focus:ring-[#1E3A8A] focus:outline-none",children:[t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"escalated",children:"Escalated"})]})]}),t.jsx(Ut,{label:"Resolution Notes",placeholder:"Document your decision and reasoning...",value:c,onChange:L=>u(L.target.value),rows:6,helperText:"This will be sent to both parties.",required:!0}),t.jsx(X,{fullWidth:!0,onClick:()=>l(!0),disabled:!c.trim(),children:"Resolve Dispute"})]})})]}),p.status!=="open"&&p.resolution_notes&&t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Resolution"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Status"}),t.jsx(ze,{status:p.status,color:R(p.status)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Resolution Notes"}),t.jsx("p",{className:"text-sm text-[#334155]",children:p.resolution_notes})]})]})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Project Details"})}),t.jsx(ne,{children:t.jsx("div",{className:"space-y-4",children:p.project&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Project Name"}),t.jsx("button",{onClick:()=>r(`/projects/${p.project?.id}`),className:"text-sm text-[#1E3A8A] hover:text-[#1D4ED8] hover:underline",children:p.project.title})]}),p.milestone&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Disputed Milestone"}),t.jsx("p",{className:"text-sm text-[#334155] font-medium",children:p.milestone.title}),t.jsxs("p",{className:"text-xs text-[#64748B] mt-1",children:["Amount: ",p.milestone.amount.toLocaleString()]})]})]})})})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Dispute Information"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Status"}),t.jsx(ze,{status:p.status,color:R(p.status)})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Opened Date"}),t.jsx("p",{className:"text-sm text-[#334155]",children:F(p.created_at)})]}),p.raised_by_user&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Raised By"}),t.jsx("p",{className:"text-sm text-[#334155]",children:p.raised_by_user.name}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:p.raised_by_user.email})]})]})})]})]})]}),t.jsx(xt,{isOpen:a,onClose:()=>!y&&l(!1),title:"Resolve Dispute",size:"lg",primaryAction:{label:y?"Resolving...":"Resolve Dispute",onClick:P,disabled:y||!c.trim()},secondaryAction:{label:"Cancel",onClick:()=>{l(!1),u("")},disabled:y},children:t.jsxs("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-sm text-[#64748B]",children:"Resolve this dispute and provide resolution notes that will be sent to both parties."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Resolution Status"}),t.jsxs("select",{value:f,onChange:L=>m(L.target.value),className:"w-full px-3 py-2 border border-[#E5E7EB] rounded-lg focus:border-[#1E3A8A] focus:ring-2 focus:ring-[#1E3A8A] focus:outline-none",disabled:y,children:[t.jsx("option",{value:"resolved",children:"Resolved"}),t.jsx("option",{value:"escalated",children:"Escalated"})]}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:f==="resolved"?"Mark dispute as resolved and close the case.":"Escalate dispute for further review."})]}),t.jsx(Ut,{label:"Resolution Notes (Required)",placeholder:"Explain your decision and reasoning...",value:c,onChange:L=>u(L.target.value),rows:6,required:!0,disabled:y,helperText:"This will be sent to both the client and company."})]})})]}):t.jsx("div",{className:"space-y-6",children:t.jsx(Z,{children:t.jsx(ne,{children:t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Dispute not found"})})})})})}function x1(){const r=Xe(),[a,l]=g.useState([]),[c,u]=g.useState(!0),[f,m]=g.useState(1),[p,x]=g.useState(1),[v,j]=g.useState(0),[y,A]=g.useState("held"),[O]=g.useState(15),[k,P]=g.useState(!1),[F,R]=g.useState(null),[L,S]=g.useState([]),[H,B]=g.useState(!1),[b,W]=g.useState(""),[ye,ee]=g.useState(!1),[ge,We]=g.useState(!1);g.useEffect(()=>{De()},[f,y]);const De=async()=>{try{u(!0);const E=await yt.listEscrowMilestones({per_page:O,page:f,status:y});l(E.milestones||[]),x(E.meta?.last_page||1),j(E.meta?.total||0)}catch(E){console.error("Failed to load escrow milestones:",E),Q.error("Failed to load escrow milestones")}finally{u(!1)}},_e=E=>{if(!E)return"pending";switch(E.toLowerCase()){case"released":return"released";case"held":return"funded";case"refunded":return"rejected";default:return"pending"}},V=E=>{if(!E)return"pending";switch(E.toLowerCase()){case"approved":return"approved";case"submitted":return"pending";case"funded":return"funded";case"pending":return"pending";case"rejected":return"rejected";case"released":return"released";default:return"pending"}},Ae=()=>a.filter(E=>E.escrow?.status==="held").reduce((E,N)=>{const $=N.escrow?.amount||N.amount||0;return E+parseFloat($.toString())},0),be=()=>a.filter(E=>E.escrow?.status==="released").reduce((E,N)=>{const $=N.escrow?.amount||N.amount||0;return E+parseFloat($.toString())},0),Se=async E=>{const N=E.project?.company?.user_id||E.project?.company?.user?.id;if(!N){Q.error("Company user information not available");return}try{B(!0);const $=await dn.getUserAccounts(N);S($);const fe=$.find(se=>se.is_default);fe?W(fe.id):$.length>0&&W($[0].id)}catch($){console.error("Failed to load company accounts:",$),Q.error("Failed to load company payment accounts")}finally{B(!1)}},G=async()=>{if(!F||!F.escrow)return;if(L.length===0){Q.error("Company has no payment accounts. Please ask them to add one first.");return}const E=L.find(N=>N.id===b);if(!E){Q.error("Please select a payment account");return}We(!0);try{await yt.releaseEscrow(F.id,{override:ye,recipient_account:{account_number:E.account_number,bank_code:E.bank_code,name:E.account_name}}),Q.success("Escrow funds released successfully!"),P(!1),R(null),W(""),ee(!1),De()}catch(N){Q.error(N.response?.data?.message||"Failed to release escrow funds")}finally{We(!1)}},re=[{header:"Milestone",accessor:E=>{const N=E.project?.title||(E.project_id?`Project ID: ${E.project_id}`:"N/A"),$=E.title||`Milestone #${E.id}`;return t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-[#334155]",children:$}),t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Project: ",N]})]})}},{header:"Amount",accessor:E=>{const N=E.escrow?.amount||E.amount||0;return t.jsxs("span",{className:"font-semibold text-[#334155]",children:["",parseFloat(N.toString()).toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]})}},{header:"Milestone Status",accessor:E=>{const N=E.status||"";return t.jsx(ze,{status:V(N)})}},{header:"Escrow Status",accessor:E=>{const N=E.escrow?.status||"";return t.jsx(ze,{status:_e(N)})}},{header:"Actions",accessor:E=>{const N=E.project?.id||E.project_id;if(!N)return t.jsx("span",{className:"text-sm text-[#64748B]",children:"N/A"});const $=E.escrow?.status==="held"&&(E.status==="approved"||E.status==="submitted");return t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(X,{variant:"secondary",size:"sm",onClick:()=>r(`/projects/${N}?milestone=${E.id}&project_id=${N}`),children:[t.jsx(Vf,{className:"w-4 h-4 mr-1"}),"View"]}),$&&t.jsxs(X,{variant:"primary",size:"sm",onClick:()=>{R(E),P(!0),Se(E)},className:"bg-green-600 hover:bg-green-700",children:[t.jsx(Qe,{className:"w-4 h-4 mr-1"}),"Release"]})]})}}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155]",children:"Escrow Management"}),t.jsx("p",{className:"text-sm text-[#64748B] mt-1",children:"Manage milestone escrow funds and releases"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total Held"}),t.jsxs("p",{className:"text-2xl font-semibold text-[#F59E0B]",children:["",Ae().toLocaleString()]})]}),t.jsx(En,{className:"w-8 h-8 text-[#F59E0B]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total Released"}),t.jsxs("p",{className:"text-2xl font-semibold text-[#16A34A]",children:["",be().toLocaleString()]})]}),t.jsx(Qe,{className:"w-8 h-8 text-[#16A34A]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total Milestones"}),t.jsx("p",{className:"text-2xl font-semibold text-[#334155]",children:v})]}),t.jsx(en,{className:"w-8 h-8 text-[#334155]"})]})})})]}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("label",{className:"text-sm font-medium text-[#334155]",children:"Filter by Status:"}),t.jsxs("select",{value:y,onChange:E=>{A(E.target.value),m(1)},className:"px-3 py-2 border border-[#E5E7EB] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]",children:[t.jsx("option",{value:"held",children:"Held"}),t.jsx("option",{value:"released",children:"Released"}),t.jsx("option",{value:"all",children:"All"})]})]})})}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Escrow Milestones"})}),t.jsx(ne,{children:c?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading escrow milestones..."})]}):a.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Uf,{className:"w-12 h-12 text-[#64748B] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No milestones with escrow found"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ia,{columns:re,data:a}),p>1&&t.jsx("div",{className:"mt-6",children:t.jsx(oa,{currentPage:f,totalPages:p,onPageChange:m})})]})})]}),t.jsx(xt,{isOpen:k,onClose:()=>!ge&&P(!1),title:"Release Escrow Funds",size:"lg",primaryAction:{label:ge?"Releasing...":"Release Funds",onClick:G,disabled:ge||L.length===0||!b},secondaryAction:{label:"Cancel",onClick:()=>{P(!1),R(null),W(""),ee(!1)},disabled:ge},children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"bg-[#F8FAFC] rounded-lg p-4 border border-[#E5E7EB]",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"Release Details:"})}),t.jsxs("div",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsxs("p",{children:["Milestone: ",F?.title]}),t.jsxs("p",{children:["Amount: ",F?.escrow?.amount.toLocaleString()]}),t.jsxs("p",{children:["Status: ",F?.status]})]})]}),F?.status!=="approved"&&t.jsx("div",{className:"bg-[#FEF3C7] rounded-lg p-3 border border-[#F59E0B]/20",children:t.jsxs("label",{className:"flex items-start gap-2",children:[t.jsx("input",{type:"checkbox",checked:ye,onChange:E=>ee(E.target.checked),className:"mt-0.5 w-4 h-4 rounded border-[#E5E7EB] text-[#1E3A8A] focus:ring-[#1E3A8A]"}),t.jsx("span",{className:"text-xs text-[#334155]",children:"Override client approval requirement"})]})}),H?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E3A8A] mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading company payment accounts..."})]}):L.length===0?t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"Company has no payment accounts linked. Please ask them to add a payment account in their settings."})}):t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Select Company Payment Account ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(bn,{value:b,onChange:E=>W(E.target.value),options:L.map(E=>({value:E.id,label:`${E.account_name} - ${E.account_number}${E.is_default?" (Default)":""}`})),placeholder:"Select payment account",required:!0}),b&&t.jsx("div",{className:"mt-3 p-3 bg-[#F8FAFC] rounded-lg border border-[#E5E7EB]",children:(()=>{const E=L.find(N=>N.id===b);return E?t.jsxs("div",{className:"text-sm text-[#64748B]",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Account:"})," ",E.account_name]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Number:"})," ",E.account_number]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Bank:"})," ",E.bank_name||`Code: ${E.bank_code}`]}),E.is_verified&&t.jsx("p",{className:"text-green-600 mt-1",children:" Verified"})]}):null})()})]}),t.jsxs("div",{className:"bg-[#D1FAE5] rounded-lg p-4 border border-[#16A34A]/20",children:[t.jsx("p",{className:"text-sm text-[#334155] mb-2",children:t.jsx("strong",{children:"This action will:"})}),t.jsxs("ul",{className:"space-y-1 text-sm text-[#64748B]",children:[t.jsx("li",{children:" Transfer funds from escrow to company account"}),t.jsx("li",{children:" Mark milestone as released"}),t.jsx("li",{children:" Update escrow status"}),t.jsx("li",{children:" Notify both parties"})]})]})]})})]})}function g1(){const r=Xe(),[a,l]=g.useState(6.5),[c,u]=g.useState(!0),[f,m]=g.useState(!1),[p,x]=g.useState("6.5");g.useEffect(()=>{v()},[]);const v=async()=>{try{u(!0);const y=await yt.getPlatformFee();l(y.percentage),x(y.percentage.toString())}catch(y){console.error("Failed to load platform fee:",y),Q.error("Failed to load platform fee settings")}finally{u(!1)}},j=async()=>{const y=parseFloat(p);if(isNaN(y)||y<5||y>8){Q.error("Platform fee must be between 5% and 8%");return}try{m(!0);const A=await yt.updatePlatformFee(y);l(A.percentage),x(A.percentage.toString()),Q.success("Platform fee updated successfully")}catch(A){console.error("Failed to update platform fee:",A),Q.error(A.response?.data?.message||"Failed to update platform fee")}finally{m(!1)}};return t.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-[#334155] mb-2",children:"Platform Settings"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Manage platform fee percentage and other settings"})]}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(en,{className:"w-5 h-5 text-[#F97316]"}),t.jsx(je,{children:"Platform Fee"})]})}),t.jsx(ne,{className:"space-y-6",children:c?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading platform fee settings..."})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"bg-[#F8F9FA] border border-[#E5E7EB] rounded-lg p-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(Cj,{className:"w-4 h-4 text-[#64748B]"}),t.jsx("p",{className:"text-sm font-medium text-[#334155]",children:"Current Platform Fee"})]}),t.jsxs("p",{className:"text-2xl font-bold text-[#F97316]",children:[a,"%"]}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:"This percentage is deducted from escrow amounts when funds are released to companies. The fee must be between 5% and 8% as per PRD requirements."})]}),t.jsx("div",{children:t.jsx(Ue,{label:"Platform Fee Percentage (%)",type:"number",value:p,onChange:y=>x(y.target.value),min:5,max:8,step:.1,helperText:"Enter a value between 5% and 8%"})}),t.jsx("div",{className:"bg-[#FEF3C7] border border-[#FCD34D] rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-[#92400E]",children:[t.jsx("strong",{children:"Note:"})," Changing the platform fee will only affect new escrow deposits. Existing escrows will use the fee percentage that was set when they were created."]})}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx(X,{variant:"secondary",onClick:()=>r("/admin/dashboard"),disabled:f,children:"Cancel"}),t.jsx(X,{onClick:j,disabled:f||parseFloat(p)===a,children:f?"Saving...":"Save Changes"})]})]})})]}),t.jsxs(Z,{className:"mt-6",children:[t.jsx(ve,{children:t.jsx(je,{children:"Fee Calculation Example"})}),t.jsx(ne,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#E5E7EB]",children:[t.jsx("span",{className:"text-sm text-[#64748B]",children:"Escrow Amount"}),t.jsx("span",{className:"font-medium text-[#334155]",children:"100,000"})]}),t.jsxs("div",{className:"flex justify-between items-center py-2 border-b border-[#E5E7EB]",children:[t.jsxs("span",{className:"text-sm text-[#64748B]",children:["Platform Fee (",a,"%)"]}),t.jsxs("span",{className:"font-medium text-[#F97316]",children:["",(1e5*a/100).toLocaleString()]})]}),t.jsxs("div",{className:"flex justify-between items-center py-2",children:[t.jsx("span",{className:"text-sm font-medium text-[#334155]",children:"Amount to Company"}),t.jsxs("span",{className:"text-lg font-bold text-[#334155]",children:["",(1e5*(1-a/100)).toLocaleString()]})]})]})})]})]})}const Ho={async get(){try{const r=await me.get("/company/profile");return pe(r)}catch(r){if(r.response?.status===404)return null;throw r}},async create(r){const a=new FormData;a.append("company_name",r.company_name),a.append("registration_number",r.registration_number),r.portfolio_links&&r.portfolio_links.length>0&&r.portfolio_links.forEach((c,u)=>{a.append(`portfolio_links[${u}]`,c)}),r.specialization&&r.specialization.length>0&&r.specialization.forEach((c,u)=>{a.append(`specialization[${u}]`,c)}),r.license_documents&&r.license_documents.length>0&&r.license_documents.forEach(c=>{a.append("license_documents[]",c)});const l=await me.post("/company/profile",a);return pe(l)},async update(r){const a=new FormData;console.log("Company Profile Service - Update data received:",r),r.company_name&&a.append("company_name",r.company_name),r.registration_number&&a.append("registration_number",r.registration_number),r.portfolio_links&&r.portfolio_links.length>0&&r.portfolio_links.forEach((c,u)=>{a.append(`portfolio_links[${u}]`,c)}),r.specialization&&r.specialization.length>0&&r.specialization.forEach((c,u)=>{a.append(`specialization[${u}]`,c)}),r.license_documents&&r.license_documents.length>0&&r.license_documents.forEach(c=>{a.append("license_documents[]",c)}),console.log("Consultation fee check:",{consultation_fee:r.consultation_fee,type:typeof r.consultation_fee,isUndefined:r.consultation_fee===void 0,isNull:r.consultation_fee===null}),r.consultation_fee!==void 0&&r.consultation_fee!==null?(a.append("consultation_fee",r.consultation_fee.toString()),console.log("Added consultation_fee to FormData:",r.consultation_fee.toString())):console.log("NOT adding consultation_fee - undefined or null"),console.log("FormData entries:");for(const[c,u]of a.entries())console.log(`  ${c}:`,u);const l=await me.post("/company/profile/update",a);return pe(l)}};function y1({onNavigate:r,userRole:a}){const[l,c]=g.useState(null),[u,f]=g.useState(!0),[m,p]=g.useState(!1),[x,v]=g.useState({company_name:"",registration_number:"",portfolio_links:[],specialization:[],consultation_fee:0}),[j,y]=g.useState([]),[A,O]=g.useState(""),[k,P]=g.useState("");g.useEffect(()=>{a==="company"?F():f(!1)},[a]);const F=async()=>{try{f(!0);const K=await Ho.get();K&&(c(K),v({company_name:K.company_name||"",registration_number:K.registration_number||"",portfolio_links:K.portfolio_links||[],specialization:K.specialization||[],consultation_fee:K.consultation_fee??0}))}catch(K){console.error("Failed to load profile:",K)}finally{f(!1)}},R=K=>{if(K.target.files){const rt=Array.from(K.target.files).filter($e=>{const tn=["application/pdf","image/jpeg","image/jpg","image/png"].includes($e.type),In=$e.size<=5*1024*1024;return tn?In?!0:(Q.error(`${$e.name} exceeds 5MB limit.`),!1):(Q.error(`${$e.name} is not a valid file type. Please upload PDF, JPG, or PNG files.`),!1)});y($e=>[...$e,...rt])}},L=K=>{y(le=>le.filter((rt,$e)=>$e!==K))},S=()=>{A.trim()&&W(A)?(v(K=>({...K,portfolio_links:[...K.portfolio_links,A.trim()]})),O("")):Q.error("Please enter a valid URL")},H=K=>{v(le=>({...le,portfolio_links:le.portfolio_links.filter((rt,$e)=>$e!==K)}))},B=()=>{k.trim()&&(v(K=>({...K,specialization:[...K.specialization,k.trim()]})),P(""))},b=K=>{v(le=>({...le,specialization:le.specialization.filter((rt,$e)=>$e!==K)}))},W=K=>{try{return new URL(K),!0}catch{return!1}},ye=async K=>{K.preventDefault(),p(!0);try{const le={},rt=l?.is_approved||l?.status==="approved";if(console.log("Profile approval status:",{is_approved:l?.is_approved,status:l?.status,isApproved:rt}),rt)console.log("Company is approved - only sending consultation_fee");else{if(!x.company_name||!x.registration_number){Q.error("Company name and registration number are required"),p(!1);return}le.company_name=x.company_name,le.registration_number=x.registration_number,x.portfolio_links.length>0&&(le.portfolio_links=x.portfolio_links),x.specialization.length>0&&(le.specialization=x.specialization),j.length>0&&(le.license_documents=j)}if(x.consultation_fee!==void 0&&x.consultation_fee!==null){const $e=typeof x.consultation_fee=="string"?x.consultation_fee===""?null:parseFloat(x.consultation_fee):x.consultation_fee;$e!==null&&!isNaN($e)&&(le.consultation_fee=$e)}if(Object.keys(le).length===0){Q.error("No changes to save"),p(!1);return}console.log("Sending profile data:",le),console.log("Form data consultation_fee:",x.consultation_fee,typeof x.consultation_fee),l?(await Ho.update(le),Q.success("Company profile updated successfully!")):(await Ho.create(le),Q.success("Company profile created successfully! Awaiting admin approval.")),await F(),y([])}catch(le){console.error("Failed to save profile:",le)}finally{p(!1)}},[ee,ge]=g.useState([]),[We,De]=g.useState(!1),[_e,V]=g.useState(!1),[Ae,be]=g.useState([]),[Se,G]=g.useState(!1),[re,E]=g.useState(!1),[N,$]=g.useState({account_name:"",account_number:"",bank_code:"",bank_name:"",is_default:!1});g.useEffect(()=>{fe(),se()},[]);const fe=async()=>{try{De(!0);const K=await dn.list();ge(K)}catch(K){console.error("Failed to load payment accounts:",K)}finally{De(!1)}},se=async()=>{try{G(!0);const K=await dn.getBanks();be(K)}catch(K){console.error("Failed to load banks:",K),Q.error("Failed to load banks list")}finally{G(!1)}},Ee=async()=>{if(!N.account_number||!N.bank_code){Q.error("Please enter account number and select a bank");return}try{E(!0);const K=await dn.verifyAccount(N.account_number,N.bank_code);$(le=>({...le,account_name:K.account_name})),Q.success("Account verified successfully!")}catch(K){Q.error(K.response?.data?.message||"Failed to verify account. Please check the account number and bank.")}finally{E(!1)}},M=async K=>{K.preventDefault();try{await dn.create(N),Q.success("Payment account added successfully"),V(!1),$({account_name:"",account_number:"",bank_code:"",bank_name:"",is_default:!1}),fe()}catch(le){Q.error(le.response?.data?.message||"Failed to add payment account")}},Le=async K=>{if(confirm("Are you sure you want to delete this payment account?"))try{await dn.delete(K),Q.success("Payment account deleted successfully"),fe()}catch(le){Q.error(le.response?.data?.message||"Failed to delete payment account")}},Be=async K=>{try{await dn.setDefault(K),Q.success("Default account updated"),fe()}catch(le){Q.error(le.response?.data?.message||"Failed to set default account")}},Te=g.useMemo(()=>{const K=new Map;return Ae.forEach(le=>{K.has(le.code)||K.set(le.code,{value:le.code,label:le.name})}),Array.from(K.values())},[Ae]),ie=t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs(je,{className:"flex items-center gap-2",children:[t.jsx(nc,{className:"w-5 h-5"}),"Payment Accounts"]}),!_e&&t.jsxs(X,{variant:"secondary",size:"sm",onClick:()=>V(!0),children:[t.jsx(Yr,{className:"w-4 h-4 mr-1"}),"Add Account"]})]})}),t.jsxs(ne,{children:[_e&&t.jsxs("form",{onSubmit:M,className:"mb-6 p-4 bg-[#F8FAFC] rounded-lg border border-[#E5E7EB]",children:[t.jsx("h3",{className:"text-sm font-medium text-[#334155] mb-4",children:"Add Payment Account"}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-xs uppercase tracking-wide text-[#64748B] mb-2",children:["Bank ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(bn,{value:N.bank_code,onChange:K=>{const le=K.target.value,rt=Ae.find($e=>$e.code===le);$($e=>({...$e,bank_code:le,bank_name:rt?.name||""}))},options:Te,placeholder:Se?"Loading banks...":"Select a bank",disabled:Se,required:!0})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Ue,{id:"payment-account-number",label:"Account Number",placeholder:"0123456789",value:N.account_number,onChange:K=>{$(le=>({...le,account_number:K.target.value}))},required:!0})}),t.jsx("div",{className:"flex items-end pb-2",children:t.jsx(X,{type:"button",variant:"secondary",size:"sm",onClick:Ee,disabled:!N.account_number||!N.bank_code||re,children:re?"Verifying...":"Verify"})})]}),t.jsx(Ue,{label:"Account Name",placeholder:"Will be auto-filled after verification",value:N.account_name,onChange:K=>{$(le=>({...le,account_name:K.target.value}))},required:!0,disabled:!!N.account_name}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",id:"is_default",checked:N.is_default,onChange:K=>{const le=K.target.checked;$(rt=>({...rt,is_default:le}))},className:"w-4 h-4 rounded border-[#E5E7EB]"}),t.jsx("label",{htmlFor:"is_default",className:"text-sm text-[#64748B]",children:"Set as default account"})]})]}),t.jsxs("div",{className:"flex gap-2 mt-4",children:[t.jsx(X,{type:"submit",variant:"primary",size:"sm",disabled:!N.account_name,children:"Add Account"}),t.jsx(X,{type:"button",variant:"secondary",size:"sm",onClick:()=>{V(!1),$({account_name:"",account_number:"",bank_code:"",bank_name:"",is_default:!1})},children:"Cancel"})]})]}),We?t.jsxs("div",{className:"text-center py-8",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#1E3A8A] mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading accounts..."})]}):ee.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(nc,{className:"w-12 h-12 text-[#64748B] mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-4",children:"No payment accounts added yet"}),!_e&&t.jsxs(X,{variant:"secondary",size:"sm",onClick:()=>V(!0),children:[t.jsx(Yr,{className:"w-4 h-4 mr-1"}),"Add Your First Account"]})]}):t.jsx("div",{className:"space-y-3",children:ee.map(K=>t.jsx("div",{className:`p-4 rounded-lg border ${K.is_default?"border-[#1E3A8A] bg-[#DBEAFE]":"border-[#E5E7EB] bg-white"}`,children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("p",{className:"font-medium text-[#334155]",children:K.account_name}),K.is_default&&t.jsxs("span",{className:"px-2 py-0.5 bg-[#1E3A8A] text-white text-xs rounded-full flex items-center gap-1",children:[t.jsx(qj,{className:"w-3 h-3"}),"Default"]}),K.is_verified&&t.jsx("span",{className:"px-2 py-0.5 bg-green-100 text-green-700 text-xs rounded-full",children:"Verified"})]}),t.jsxs("p",{className:"text-sm text-[#64748B]",children:[K.account_number,"  ",K.bank_name||`Bank Code: ${K.bank_code}`]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[!K.is_default&&t.jsx(X,{variant:"secondary",size:"sm",onClick:()=>Be(K.id),children:"Set Default"}),t.jsx(X,{variant:"secondary",size:"sm",onClick:()=>Le(K.id),children:t.jsx(Hf,{className:"w-4 h-4"})})]})]})},K.id))})]})]});if(a!=="company")return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Settings"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Manage your account settings"})]}),ie]});if(u)return t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{children:t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Company Profile"})}),t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading profile..."})]})]});const Oe=K=>{switch(K){case"approved":return"green";case"pending":return"yellow";case"rejected":return"red";default:return"gray"}};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Company Profile"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:l?"Update your company profile information":"Create your company profile to start receiving consultation requests"})]}),l&&t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{className:"flex items-center gap-3",children:[l.is_approved?t.jsx(Qe,{className:"w-5 h-5 text-green-600"}):t.jsx(Zt,{className:"w-5 h-5 text-yellow-600"}),t.jsxs("div",{children:[t.jsxs("p",{className:"text-sm font-medium text-[#334155]",children:["Status: ",t.jsx(ze,{status:l.status,color:Oe(l.status)})]}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:l.is_approved?"Your profile is verified and active":l.is_verified?"Your profile is verified and awaiting approval":"Your profile is pending admin review"})]})]})})})}),t.jsx("form",{onSubmit:ye,children:t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Company Information"})}),t.jsxs(ne,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Company Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(Ue,{type:"text",value:x.company_name,onChange:K=>v({...x,company_name:K.target.value}),placeholder:"Enter company name",required:!0,disabled:l?.is_approved})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:["Registration Number ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(Ue,{type:"text",value:x.registration_number,onChange:K=>v({...x,registration_number:K.target.value}),placeholder:"Enter registration number (e.g., RC123456)",required:!0,disabled:l?.is_approved}),t.jsx("p",{className:"text-xs text-[#64748B] mt-1",children:"Your official company registration number"})]}),t.jsx("div",{children:t.jsx(Ue,{label:"Consultation Fee (NGN)",type:"number",value:x.consultation_fee===0?0:x.consultation_fee||"",onChange:K=>{const le=K.target.value,rt=le===""?0:parseFloat(le)||0;v({...x,consultation_fee:rt})},placeholder:"e.g., 25000",min:0,step:"100",helperText:"Set your default consultation fee. Clients can override this when booking."})}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"License Documents"}),t.jsxs("div",{className:"border-2 border-dashed border-[#E5E7EB] rounded-lg p-6 text-center",children:[t.jsx(Yj,{className:"w-8 h-8 text-[#64748B] mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-[#64748B] mb-2",children:"Upload license documents (PDF, JPG, PNG - Max 5MB each)"}),t.jsx("input",{type:"file",multiple:!0,accept:".pdf,.jpg,.jpeg,.png",onChange:R,disabled:l?.is_approved,className:"hidden",id:"license-upload"}),t.jsx("label",{htmlFor:"license-upload",children:t.jsx(X,{type:"button",variant:"outline",disabled:l?.is_approved,className:"cursor-pointer",children:"Choose Files"})})]}),j.length>0&&t.jsx("div",{className:"mt-4 space-y-2",children:j.map((K,le)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-[#F8FAFC] rounded border border-[#E5E7EB]",children:[t.jsx("span",{className:"text-sm text-[#334155]",children:K.name}),t.jsx("button",{type:"button",onClick:()=>L(le),disabled:l?.is_approved,className:"text-red-600 hover:text-red-700",children:t.jsx(mn,{className:"w-4 h-4"})})]},le))}),l?.license_documents&&l.license_documents.length>0&&t.jsxs("div",{className:"mt-4",children:[t.jsx("p",{className:"text-sm font-medium text-[#334155] mb-2",children:"Current Documents:"}),t.jsx("div",{className:"space-y-2",children:l.license_documents.map((K,le)=>t.jsx("div",{className:"flex items-center justify-between p-2 bg-[#F8FAFC] rounded border border-[#E5E7EB]",children:t.jsx("span",{className:"text-sm text-[#334155]",children:K})},le))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Portfolio Links"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(Ue,{type:"url",value:A,onChange:K=>O(K.target.value),placeholder:"https://example.com/portfolio",disabled:l?.is_approved,onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),S())}}),t.jsx(X,{type:"button",onClick:S,disabled:l?.is_approved,variant:"outline",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x.portfolio_links.length>0&&t.jsx("div",{className:"space-y-2",children:x.portfolio_links.map((K,le)=>t.jsxs("div",{className:"flex items-center justify-between p-2 bg-[#F8FAFC] rounded border border-[#E5E7EB]",children:[t.jsx("a",{href:K,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[#1E3A8A] hover:underline",children:K}),t.jsx("button",{type:"button",onClick:()=>H(le),disabled:l?.is_approved,className:"text-red-600 hover:text-red-700",children:t.jsx(mn,{className:"w-4 h-4"})})]},le))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-[#334155] mb-2",children:"Specialization"}),t.jsxs("div",{className:"flex gap-2 mb-2",children:[t.jsx(Ue,{type:"text",value:k,onChange:K=>P(K.target.value),placeholder:"e.g., Residential, Commercial",disabled:l?.is_approved,onKeyDown:K=>{K.key==="Enter"&&(K.preventDefault(),B())}}),t.jsx(X,{type:"button",onClick:B,disabled:l?.is_approved,variant:"outline",children:t.jsx(Yr,{className:"w-4 h-4"})})]}),x.specialization.length>0&&t.jsx("div",{className:"flex flex-wrap gap-2",children:x.specialization.map((K,le)=>t.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-[#DBEAFE] text-[#1E40AF] rounded-full text-sm",children:[t.jsx("span",{children:K}),t.jsx("button",{type:"button",onClick:()=>b(le),disabled:l?.is_approved,className:"text-[#1E40AF] hover:text-[#1E3A8A]",children:t.jsx(mn,{className:"w-3 h-3"})})]},le))})]}),t.jsx("div",{className:"pt-4 border-t border-[#E5E7EB]",children:l?.is_approved?t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:t.jsx("p",{className:"text-sm text-yellow-800",children:"Your profile has been approved. Contact admin to make changes."})}):t.jsx(X,{type:"submit",disabled:m,className:"bg-[#1E3A8A] text-white",children:m?"Saving...":l?"Update Profile":"Create Profile"})})]})]})}),ie]})}const v1={async list(r){const a=await me.get("/transactions",{params:r}),l=pe(a),c=Tn(a);return{transactions:l,meta:c}}};function j1({onNavigate:r,userRole:a}){const[l,c]=g.useState([]),[u,f]=g.useState(!0),[m,p]=g.useState(1),[x,v]=g.useState(1),[j,y]=g.useState(0),[A,O]=g.useState("all"),[k]=g.useState(20);g.useEffect(()=>{P()},[m,A]);const P=async()=>{try{f(!0);const b=await v1.list({per_page:k,page:m,type:A==="all"?void 0:A});c(Array.isArray(b.transactions)?b.transactions:[]),v(b.meta?.last_page||1),y(b.meta?.total||0)}catch(b){console.error("Failed to load transactions:",b),Q.error("Failed to load transactions")}finally{f(!1)}},F=b=>{switch(b){case"escrow_deposit":return t.jsx(Mm,{className:"w-4 h-4 text-blue-600"});case"escrow_release":return t.jsx(uj,{className:"w-4 h-4 text-green-600"});case"escrow_refund":return t.jsx(Mm,{className:"w-4 h-4 text-orange-600"});case"consultation_payment":return t.jsx(nc,{className:"w-4 h-4 text-purple-600"});case"platform_fee":return t.jsx(en,{className:"w-4 h-4 text-yellow-600"});default:return t.jsx(Pl,{className:"w-4 h-4 text-gray-600"})}},R=b=>{switch(b){case"escrow_deposit":return"Escrow Deposit";case"escrow_release":return"Escrow Release";case"escrow_refund":return"Escrow Refund";case"consultation_payment":return"Consultation Payment";case"platform_fee":return"Platform Fee";default:return b}},L=b=>{if(a==="client")switch(b){case"escrow_deposit":case"consultation_payment":return"text-red-600";case"escrow_release":return"text-orange-600";case"escrow_refund":return"text-green-600";default:return"text-gray-600"}else if(a==="company")switch(b){case"escrow_release":case"consultation_payment":return"text-green-600";case"escrow_refund":return"text-red-600";case"escrow_deposit":return"text-blue-600";default:return"text-gray-600"}else switch(b){case"escrow_deposit":case"consultation_payment":return"text-blue-600";case"escrow_release":return"text-green-600";case"escrow_refund":return"text-orange-600";case"platform_fee":return"text-yellow-600";default:return"text-gray-600"}},S=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=()=>!Array.isArray(l)||l.length===0?0:l.reduce((b,W)=>a==="client"?W.type==="escrow_deposit"||W.type==="consultation_payment"?b-W.amount:W.type==="escrow_refund"?b+W.amount:b:a==="company"?W.type==="escrow_release"?b+W.amount:W.type==="escrow_refund"?b-W.amount:b:b,0),B=[{header:"Type",accessor:b=>t.jsxs("div",{className:"flex items-center gap-2",children:[F(b.type),t.jsx("span",{className:"text-sm font-medium text-[#334155]",children:R(b.type)})]})},{header:"Description",accessor:b=>t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-[#334155]",children:b.description}),b.project&&t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Project: ",b.project.title]}),b.milestone&&t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Milestone: ",b.milestone.title]}),a==="admin"&&b.client&&t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Client: ",b.client.name]}),a==="admin"&&b.company&&t.jsxs("p",{className:"text-xs text-[#64748B]",children:["Company: ",b.company.name]})]})},{header:"Amount",accessor:b=>{let W=!1;a==="client"?W=b.type==="escrow_deposit"||b.type==="consultation_payment":a==="company"?W=b.type==="escrow_refund":W=b.type==="escrow_deposit"||b.type==="consultation_payment";const ye=b.platform_fee&&b.platform_fee>0||b.total_amount&&b.total_amount!==b.amount;return t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("span",{className:`font-semibold ${L(b.type)}`,children:[W?"-":"+","",b.amount.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}),ye&&b.total_amount&&t.jsx("div",{className:"text-xs text-[#64748B]",children:b.type==="platform_fee"?t.jsxs("span",{children:["From: ",b.total_amount.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}):b.platform_fee&&b.platform_fee>0?t.jsxs("span",{children:["Total: ",b.total_amount.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2}),"  Fee: ",b.platform_fee.toLocaleString("en-NG",{minimumFractionDigits:2,maximumFractionDigits:2})]}):null})]})}},{header:"Status",accessor:b=>t.jsx(ze,{status:b.status==="success"?"approved":b.status==="pending"?"pending":"rejected"})},{header:"Date",accessor:b=>t.jsx("span",{className:"text-sm text-[#64748B]",children:S(b.created_at)})},{header:"Reference",accessor:b=>t.jsx("div",{children:b.payment_reference?t.jsxs("span",{className:"text-xs text-[#64748B] font-mono",children:[b.payment_reference.substring(0,20),"..."]}):t.jsx("span",{className:"text-xs text-[#64748B]",children:"N/A"})})}];return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-semibold text-[#334155] mb-2",children:"Transaction History"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:a==="admin"?"View all transactions in the system":"View your transaction history"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Total Transactions"}),t.jsx("p",{className:"text-2xl font-semibold text-[#334155]",children:j})]}),t.jsx(Pl,{className:"w-8 h-8 text-[#334155]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Net Amount"}),t.jsxs("p",{className:`text-2xl font-semibold ${H()>=0?"text-green-600":"text-red-600"}`,children:[H()>=0?"+":"","",Math.abs(H()).toLocaleString()]})]}),t.jsx(en,{className:"w-8 h-8 text-[#334155]"})]})})}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-xs uppercase tracking-wide text-[#64748B] mb-1",children:"Successful"}),t.jsx("p",{className:"text-2xl font-semibold text-green-600",children:l.filter(b=>b.status==="success").length})]}),t.jsx(Pl,{className:"w-8 h-8 text-green-600"})]})})})]}),t.jsx(Z,{children:t.jsx(ne,{className:"p-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("label",{className:"text-sm font-medium text-[#334155]",children:"Filter by Type:"}),t.jsxs("select",{value:A,onChange:b=>{O(b.target.value),p(1)},className:"px-3 py-2 border border-[#E5E7EB] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#1E3A8A]",children:[t.jsx("option",{value:"all",children:"All Transactions"}),t.jsx("option",{value:"escrow",children:"Escrow Only"}),t.jsx("option",{value:"consultation",children:"Consultations Only"})]})]})})}),t.jsxs(Z,{children:[t.jsx(ve,{children:t.jsx(je,{children:"Transactions"})}),t.jsx(ne,{children:u?t.jsxs("div",{className:"text-center py-12",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading transactions..."})]}):l.length===0?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Uf,{className:"w-12 h-12 text-[#64748B] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"No transactions found"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ia,{columns:B,data:l}),x>1&&t.jsx("div",{className:"mt-6",children:t.jsx(oa,{currentPage:m,totalPages:x,onPageChange:p})})]})})]})]})}function mt({children:r}){const[a,l]=g.useState(!1),[c,u]=g.useState(!0),[f,m]=g.useState(null),[p,x]=g.useState(null),v=Xe();return g.useEffect(()=>{(async()=>{if(zf())try{const y=await la.getCurrentUser();m(y),x(y.role),l(!0)}catch{m(null),x(null),l(!1),v("/login")}else l(!1),v("/login");u(!1)})()},[v]),c?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading..."})]})}):a?t.jsx(Xj,{userRole:p||"client",userName:f?.name||"User",children:qo.isValidElement(r)?qo.cloneElement(r,{userRole:p,user:f}):r}):null}function w1({userRole:r}){const{id:a}=zl();return t.jsx(a1,{consultationId:a||"",userRole:r})}function N1({userRole:r}){return t.jsx(i1,{userRole:r})}function b1({userRole:r}){const{id:a}=zl();return t.jsx(u1,{userRole:r})}function E1({userRole:r}){const a=Xe();return t.jsx(c1,{onNavigate:a,userRole:r})}function C1(){const r=Xe();return t.jsx(f1,{onNavigate:r})}function k1(){const r=Xe();return t.jsx(p1,{onNavigate:r})}function S1(){const r=Xe();return t.jsx(h1,{onNavigate:r})}function _1({userRole:r}){const a=Xe();return t.jsx(j1,{onNavigate:a,userRole:r})}function A1(){return t.jsx(g1,{})}function Wo({children:r}){const[a,l]=g.useState(!1),[c,u]=g.useState(!0),f=Xe();return g.useEffect(()=>{(async()=>{if(zf())try{await la.getCurrentUser(),l(!0),f("/dashboard")}catch{l(!1)}u(!1)})()},[f]),c?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1E3A8A] mx-auto mb-4"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Loading..."})]})}):a?null:t.jsx(t.Fragment,{children:r})}function F1(){const r=Xe(),a=()=>r("/dashboard");return t.jsx(e1,{onNavigate:r,onLogin:a})}function B1(){const r=Xe(),a=()=>r("/dashboard");return t.jsx(t1,{onNavigate:r,onRegister:a})}function P1(){const r=Xe();return t.jsx(Zj,{onNavigate:r})}qo.createContext({user:null,userRole:null});function R1(){return t.jsx(ry,{children:t.jsxs(Dg,{children:[t.jsx(Ke,{path:"/",element:t.jsx(Wo,{children:t.jsx(P1,{})})}),t.jsx(Ke,{path:"/login",element:t.jsx(Wo,{children:t.jsx(F1,{})})}),t.jsx(Ke,{path:"/register",element:t.jsx(Wo,{children:t.jsx(B1,{})})}),t.jsx(Ke,{path:"/payment/callback",element:t.jsx(d1,{})}),t.jsx(Ke,{path:"/dashboard",element:t.jsx(mt,{children:t.jsx(n1,{})})}),t.jsx(Ke,{path:"/consultations",element:t.jsx(mt,{children:t.jsx(r1,{})})}),t.jsx(Ke,{path:"/consultations/:id",element:t.jsx(mt,{children:t.jsx(w1,{})})}),t.jsx(Ke,{path:"/projects",element:t.jsx(mt,{children:t.jsx(l1,{})})}),t.jsx(Ke,{path:"/projects/:id",element:t.jsx(mt,{children:t.jsx(N1,{})})}),t.jsx(Ke,{path:"/projects/:id/create-milestones",element:t.jsx(mt,{children:t.jsx(b1,{})})}),t.jsx(Ke,{path:"/milestones/:id",element:t.jsx(mt,{children:t.jsx(E1,{})})}),t.jsx(Ke,{path:"/transactions",element:t.jsx(mt,{children:t.jsx(_1,{})})}),t.jsx(Ke,{path:"/settings",element:t.jsx(mt,{children:t.jsx(y1,{})})}),t.jsx(Ke,{path:"/messages",element:t.jsx(mt,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx("h2",{className:"text-xl font-semibold text-[#334155] mb-2",children:"Messages"}),t.jsx("p",{className:"text-sm text-[#64748B]",children:"Coming soon"})]})})}),t.jsx(Ke,{path:"/admin",element:t.jsx(mt,{children:t.jsx(Im,{})})}),t.jsx(Ke,{path:"/admin/dashboard",element:t.jsx(mt,{children:t.jsx(Im,{})})}),t.jsx(Ke,{path:"/admin/companies",element:t.jsx(mt,{children:t.jsx(m1,{})})}),t.jsx(Ke,{path:"/admin/companies/:id",element:t.jsx(mt,{children:t.jsx(C1,{})})}),t.jsx(Ke,{path:"/admin/escrow",element:t.jsx(mt,{children:t.jsx(x1,{})})}),t.jsx(Ke,{path:"/admin/disputes",element:t.jsx(mt,{children:t.jsx(k1,{})})}),t.jsx(Ke,{path:"/admin/disputes/:id",element:t.jsx(mt,{children:t.jsx(S1,{})})}),t.jsx(Ke,{path:"/admin/platform-settings",element:t.jsx(mt,{children:t.jsx(A1,{})})}),t.jsx(Ke,{path:"*",element:t.jsx(Pg,{to:"/dashboard",replace:!0})})]})})}Qh.createRoot(document.getElementById("root")).render(t.jsxs(t.Fragment,{children:[t.jsx(R1,{}),t.jsx(Tx,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#fff",color:"#334155",border:"1px solid #E5E7EB"},success:{iconTheme:{primary:"#10B981",secondary:"#fff"}},error:{iconTheme:{primary:"#EF4444",secondary:"#fff"}}}})]}));
